/*! For license information please see 2.5964421c.chunk.js.LICENSE.txt */
(this.webpackJsonpstreaming=this.webpackJsonpstreaming||[]).push([[2],[function(e,t,n){e.exports=n(125)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}},function(e,t,n){"use strict";e.exports=n(89)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(32);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(16),i=n(48),a=n(49);function o(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(128)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(38);var i=n(31);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return Io})),n.d(t,"b",(function(){return de})),n.d(t,"c",(function(){return Ii})),n.d(t,"d",(function(){return ki})),n.d(t,"e",(function(){return ju})),n.d(t,"f",(function(){return Ga})),n.d(t,"g",(function(){return Ou}));var i=n(18),a=n(22),o=n(16),s=n(9),c=n(11),u=n(86),l=n(6),p=n(1),d=n(0),f=n.n(d),h=n(4),m=n(5),v=n(7),g=n(8),y=n(2),b=n(40),w=n(17),k=n(19),S=n.n(k),C=n(35),x=n(14),j=Math.pow(2,32),O=function(e,t){return(e%t+t)%t},_=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).allowResume=!0,e.lastAck=0,e.handled=0,e.unacked=[],e.inboundStarted=!1,e.outboundStarted=!1,e.id=void 0,e.jid=void 0,e.allowResume=!0,e.started=!1,e.cacheHandler=function(){},e._reset(),e}return Object(m.a)(n,[{key:"load",value:function(e){var t;this.id=e.id,this.allowResume=null===(t=e.allowResume)||void 0===t||t,this.handled=e.handled,this.lastAck=e.lastAck,this.unacked=e.unacked,this.emit("prebound",e.jid)}},{key:"cache",value:function(e){this.cacheHandler=e}},{key:"bind",value:function(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.jid=e,t.next=3,this._cache();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"enable",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.emit("send",{allowResumption:this.allowResume,type:"enable"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"resume",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.emit("send",{handled:this.handled,previousSession:this.id,type:"resume"});case 1:case"end":return e.stop()}}),e,this)})))}},{key:"enabled",value:function(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.id=e.id,this.handled=0,this.inboundStarted=!0,t.next=5,this._cache();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"resumed",value:function(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.id=e.previousSession,this.inboundStarted=!0,t.next=4,this.process(e,!0);case 4:return t.next=6,this._cache();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"failed",value:function(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){var n,r,i,a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.process(e);case 2:n=Object(p.a)(this.unacked);try{for(n.s();!(r=n.n()).done;)i=Object(l.a)(r.value,2),a=i[0],o=i[1],this.emit("failed",{kind:a,stanza:o})}catch(s){n.e(s)}finally{n.f()}return this._reset(),t.next=7,this._cache();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"ack",value:function(){this.emit("send",{handled:this.handled,type:"ack"})}},{key:"request",value:function(){this.emit("send",{type:"request"})}},{key:"process",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a,o,s,c,u,d,h,m,v,g;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e.handled){n.next=2;break}return n.abrupt("return");case 2:for(r=O(e.handled-this.lastAck,j),i=0;i<r&&this.unacked.length>0;i++)a=this.unacked.shift(),o=Object(l.a)(a,2),s=o[0],c=o[1],this.emit("acked",{kind:s,stanza:c});if(this.lastAck=e.handled,t&&(u=this.unacked,this.unacked=[],u.length)){this.emit("begin-resend"),d=Object(p.a)(u);try{for(d.s();!(h=d.n()).done;)m=Object(l.a)(h.value,2),v=m[0],g=m[1],this.emit("resend",{kind:v,stanza:g})}catch(f){d.e(f)}finally{d.f()}this.emit("end-resend")}return n.next=8,this._cache();case 8:case"end":return n.stop()}}),n,this)})))}},{key:"track",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("sm"!==e||"enable"!==t.type&&"resume"!==t.type){n.next=6;break}return this.handled=0,this.outboundStarted=!0,n.next=5,this._cache();case 5:return n.abrupt("return",!1);case 6:if(this.outboundStarted){n.next=8;break}return n.abrupt("return",!1);case 8:if("message"===e||"presence"===e||"iq"===e){n.next=10;break}return n.abrupt("return",!1);case 10:return this.unacked.push([e,t]),n.next=13,this._cache();case 13:return n.abrupt("return",!0);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"handle",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inboundStarted){e.next=4;break}return this.handled=O(this.handled+1,j),e.next=4,this._cache();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"hibernate",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){var t,n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resumable){e.next=2;break}return e.abrupt("return",this.shutdown());case 2:t=Object(p.a)(this.unacked);try{for(t.s();!(n=t.n()).done;)r=Object(l.a)(n.value,2),i=r[0],a=r[1],this.emit("hibernated",{kind:i,stanza:a})}catch(o){t.e(o)}finally{t.f()}case 4:case"end":return e.stop()}}),e,this)})))}},{key:"shutdown",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.failed({type:"failed"}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_cache",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cacheHandler({allowResume:this.allowResume,handled:this.handled,id:this.id,jid:this.jid,lastAck:this.lastAck,unacked:this.unacked});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Failed to cache stream state",e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})))}},{key:"_reset",value:function(){this.id="",this.inboundStarted=!1,this.outboundStarted=!1,this.lastAck=0,this.handled=0,this.unacked=[]}},{key:"started",get:function(){return this.outboundStarted&&this.inboundStarted},set:function(e){e||(this.outboundStarted=!1,this.inboundStarted=!1)}},{key:"resumable",get:function(){return this.started&&this.allowResume}}]),n}(w.EventEmitter),E={"A.1":{r:"hk:if|le:lf|nf:nv|qg:qv|rg:rj|rm:rp|rr:rt|rv:s3|vn:vv|17m:17n|17q:17v|18g:19g|1an:1ao|1cb:1cg|1e5:1ef|1fb:1ff|1fl:1gb|1gd:1gq|1gs:1gu|1hr:1hv|1im:1iv|1ne:1nf|1pd:1pf|1qb:1rv|1ti:280|29q:29r|2ae:2af|2al:2an|2bh:2c0|2cd:2ce|2ch:2ci|2dj:2dl|2dq:2dr|2e5:2e6|2e9:2ea|2ee:2em|2eo:2er|2f4:2f5|2fr:2g1|2g3:2g4|2gb:2ge|2gh:2gi|2hq:2hr|2i3:2i6|2i9:2ia|2ie:2io|2iv:2j5|2jl:2k0|2lq:2lr|2me:2mf|2mh:2mv|2n1:2n5|2ng:2o0|2od:2oe|2oh:2oi|2pk:2pl|2pq:2pr|2q4:2q6|2q9:2qa|2qe:2ql|2qo:2qr|2r2:2r5|2rh:2s1|2sb:2sd|2sm:2so|2t0:2t2|2t5:2t7|2tb:2td|2tq:2tt|2u3:2u5|2ue:2um|2uo:2v6|2vj:300|31q:31t|32e:32k|32n:32v|332:335|33g:341|35q:35t|36e:36k|36n:36t|372:375|37g:381|39q:39t|3a4:3a5|3ae:3am|3ao:3av|3b2:3b5|3bg:3c1|3cn:3cp|3du:3dv|3e7:3e9|3eb:3ee|3f0:3fh|3fl:3g0|3hr:3hu|3is:3k0|3k5:3k6|3kb:3kc|3ke:3kj|3l8:3l9|3lu:3lv|3me:3mf|3mq:3mr|3mu:3nv|3rb:3rg|3sc:3sf|3ud:3ue|3ug:3vv|41j:41l|41q:41v|42q:44v|466:46f|47p:47q|47s:47v|4aq:4au|4d3:4d7|4fq:4fv|4ie:4if|4iu:4iv|4ke:4kf|4lm:4ln|4m6:4m7|4om:4on|4qr:4r0|4rt:4sv|4vl:500|5jn:5jv|5kt:5kv|5nh:5nv|5ol:5ov|5pn:5pv|5qk:5qv|5rk:5rv|5ut:5uv|5va:5vv|60q:60v|63o:63v|65a:7fv|7ks:7kv|7nq:7nv|7om:7on|7ou:7ov|7q6:7q7|7qe:7qf|7ru:7rv|7uk:7ul|7vg:7vh|82j:82m|82o:82u|834:839|83i:83j|84f:84v|85i:86f|87b:87v|89r:89s|8ac:8ai|8c4:8cf|8uf:8vv|917:91v|92b:92v|9gk:9gl|9ju:9jv|9ka:9o0|9oa:9ob|9qj:9ql|9qv:9r0|9sl:9sn|9tv:9uf|9vc:9vf|ao0:bjv|bnk:bnv|bum:bvf|bvs:bvv|c4n:c4o|c80:c84|c9d:c9g|cdo:cff|cgt:cgv|ci4:cig|cjs:cju|cmc:cmf|crn:crq|cuu:cuv|jdm:jfv|17t6:17vv|194d:194f|1967:1avv|1lt4:1lvv|1uhe:1uhf|1ujb:1unv|1uo7:1uoi|1uoo:1uos|1uti:1uui|1va0:1vaf|1vcg:1vch|1ve8:1vef|1vft:1vfv|1vgg:1vgv|1vh4:1vhf|1vi7:1vi8|1vjc:1vjf|1vnt:1vnu|1vtv:1vu1|1vu8:1vu9|1vug:1vuh|1vuo:1vup|1vut:1vuv|1vvf:1vvo|2000:20nv|20p4:20pf|20qb:20vv|2116:2117|212e:3jvv|3k7m:3k7v|3k97:3k99|3keu:3kvv|3l50:3l51|3l53:3l54|3l57:3l58|3l8b:3l8c|3la7:3la9|3ll4:3ll7|3lua:3lud|3m00:3vvt|59mn:5tvv|5ugu:5vvt|6000:7vvt|8000:9vvt|a000:bvvt|c000:dvvt|e000:fvvt|g000:hvvt|i000:jvvt|k000:lvvt|m000:nvvt|o000:pvvt|q000:rvvt|s002:s00v|s040:tvvt",s:"9p8|9qc|9qe|9qn|9tg|147|bkq|3l2l|3l4t|3l5d|3l5q|3l5s|3l61|3l64|3l86|3l8l|3l8t|3l9q|3l9v|3la5|3lah|16f|c20|ccf|cnv|cvv|1b0|1c8|1d2|1dq|1h0|1nv|1oe|284|2c4|2d9|2dh|2dt|2eu|2h9|2hh|2hk|2hn|2ht|2it|2k4|2kc|2ke|2ki|2l9|2lh|2lk|2m6|2ma|2o4|2p9|2ph|2qu|2s4|2sh|2sr|2st|2tm|2u9|304|30d|30h|319|31k|325|329|344|34d|34h|359|35k|365|369|36v|384|38d|38h|399|3a9|3c4|3di|3ds|3el|3en|3k3|3k9|3ko|3l0|3l4|3l6|3lc|3lq|3m5|3m7|3q8|3so|3tt|412|418|41b|4g7|4i7|4i9|4in|4ip|4k7|4k9|4lf|4lh|4lv|4m1|4mf|4mn|4nf|4of|4oh|4ov|4q7|h1|5od|5rd|5rh|60f|1upn|1upt|1upv|1uq2|1uq5|1vij|1vj7|1vjl|1vo0|1vv7|20ov|7qo|7qq|7qs|7qu|7tl|7u5|7us|7vl|7vv|sb|sd|s000|t2|97v|uf|9go|9o5"},"B.1":{r:"60b:60d|80b:80d|1vg0:1vgf",s:"5d|606|1vnv|830|qf"},"B.2":{m:"5l:ts|6v:3j;3j|9g:39;o7|a9:ls;3e|bv:3j|fg:3a;oc|q5:tp|rq:10;tp|sg:tp;o8;o1|tg:u5;o8;o1|u2:u3|ug:ti|uh:to|ui:u5|uj:ud|uk:ub|ul:u6|um:u0|vg:tq|vh:u1|vi:u3|vl:tl|1c7:1b5;1c2|7km:38;ph|7kn:3k;o8|7ko:3n;oa|7kp:3p;oa|7kq:31;lu|7kr:7j1|7qg:u5;oj|7qi:u5;oj;o0|7qk:u5;oj;o1|7qm:u5;oj;q2|7s0:7o0;tp|7s1:7o1;tp|7s2:7o2;tp|7s3:7o3;tp|7s4:7o4;tp|7s5:7o5;tp|7s6:7o6;tp|7s7:7o7;tp|7s8:7o0;tp|7s9:7o1;tp|7sa:7o2;tp|7sb:7o3;tp|7sc:7o4;tp|7sd:7o5;tp|7se:7o6;tp|7sf:7o7;tp|7sg:7p0;tp|7sh:7p1;tp|7si:7p2;tp|7sj:7p3;tp|7sk:7p4;tp|7sl:7p5;tp|7sm:7p6;tp|7sn:7p7;tp|7so:7p0;tp|7sp:7p1;tp|7sq:7p2;tp|7sr:7p3;tp|7ss:7p4;tp|7st:7p5;tp|7su:7p6;tp|7sv:7p7;tp|7t0:7r0;tp|7t1:7r1;tp|7t2:7r2;tp|7t3:7r3;tp|7t4:7r4;tp|7t5:7r5;tp|7t6:7r6;tp|7t7:7r7;tp|7t8:7r0;tp|7t9:7r1;tp|7ta:7r2;tp|7tb:7r3;tp|7tc:7r4;tp|7td:7r5;tp|7te:7r6;tp|7tf:7r7;tp|7ti:7rg;tp|7tj:th;tp|7tk:tc;tp|7tm:th;q2|7tn:th;q2;tp|7ts:th;tp|7tu:tp|7u2:7rk;tp|7u3:tn;tp|7u4:te;tp|7u6:tn;q2|7u7:tn;q2;tp|7uc:tn;tp|7ui:tp;o8;o0|7uj:tp;o8;o1|7um:tp;q2|7un:tp;o8;q2|7v2:u5;o8;o0|7v3:u5;o8;o1|7v4:u1;oj|7v6:u5;q2|7v7:u5;o8;q2|7vi:7rs;tp|7vj:u9;tp|7vk:ue;tp|7vm:u9;q2|7vn:u9;q2;tp|7vs:u9;tp|858:3i;3j|882:33|883:5g;33|887:ir|889:5g;36|88b:38|88c:38|88d:38|88g:39|88h:39|88i:3c|88l:3e|88m:3e;3f|88p:3g|88q:3h|88r:3i|88s:3i|88t:3i|890:3j;3d|891:3k;35;3c|892:3k;3d|894:3q|898:3q|89c:32|89d:33|89g:35|89h:36|89j:3d|89u:tj|89v:u0|8a5:34|crh:38;3g;31|crj:31;3l|crl:3f;3m|cs0:3g;31|cs1:3e;31|cs2:ts;31|cs3:3d;31|cs4:3b;31|cs5:3b;32|cs6:3d;32|cs7:37;32|csa:3g;36|csb:3e;36|csc:ts;36|csg:38;3q|csh:3b;38;3q|csi:3d;38;3q|csj:37;38;3q|csk:3k;38;3q|ct9:3g;31|cta:3b;3g;31|ctb:3d;3g;31|ctc:37;3g;31|ctk:3g;3m|ctl:3e;3m|ctm:ts;3m|ctn:3d;3m|cto:3b;3m|ctp:3d;3m|ctq:3g;3n|ctr:3e;3n|cts:ts;3n|ctt:3d;3n|ctu:3b;3n|ctv:3d;3n|cu0:3b;u9|cu1:3d;u9|cu3:32;3h|cu6:33;8gl;3b;37|cu7:33;3f;1e|cu8:34;32|cu9:37;3p|cub:38;3g|cud:3b;3b|cue:3b;3d|cun:3g;38|cup:3g;3g;3d|cuq:3g;3i|cus:3j;3m|cut:3n;32|1uo0:36;36|1uo1:36;39|1uo2:36;3c|1uo3:36;36;39|1uo4:36;36;3c|1uo5:3j;3k|1uo6:3j;3k|1uoj:1bk;1bm|1uok:1bk;1b5|1uol:1bk;1bb|1uom:1bu;1bm|1uon:1bk;1bd|3l00:31|3l01:32|3l02:33|3l03:34|3l04:35|3l05:36|3l06:37|3l07:38|3l08:39|3l09:3a|3l0a:3b|3l0b:3c|3l0c:3d|3l0d:3e|3l0e:3f|3l0f:3g|3l0g:3h|3l0h:3i|3l0i:3j|3l0j:3k|3l0k:3l|3l0l:3m|3l0m:3n|3l0n:3o|3l0o:3p|3l0p:3q|3l1k:31|3l1l:32|3l1m:33|3l1n:34|3l1o:35|3l1p:36|3l1q:37|3l1r:38|3l1s:39|3l1t:3a|3l1u:3b|3l1v:3c|3l20:3d|3l21:3e|3l22:3f|3l23:3g|3l24:3h|3l25:3i|3l26:3j|3l27:3k|3l28:3l|3l29:3m|3l2a:3n|3l2b:3o|3l2c:3p|3l2d:3q|3l38:31|3l39:32|3l3a:33|3l3b:34|3l3c:35|3l3d:36|3l3e:37|3l3f:38|3l3g:39|3l3h:3a|3l3i:3b|3l3j:3c|3l3k:3d|3l3l:3e|3l3m:3f|3l3n:3g|3l3o:3h|3l3p:3i|3l3q:3j|3l3r:3k|3l3s:3l|3l3t:3m|3l3u:3n|3l3v:3o|3l40:3p|3l41:3q|3l4s:31|3l4u:33|3l4v:34|3l52:37|3l55:3a|3l56:3b|3l59:3e|3l5a:3f|3l5b:3g|3l5c:3h|3l5e:3j|3l5f:3k|3l5g:3l|3l5h:3m|3l5i:3n|3l5j:3o|3l5k:3p|3l5l:3q|3l6g:31|3l6h:32|3l6i:33|3l6j:34|3l6k:35|3l6l:36|3l6m:37|3l6n:38|3l6o:39|3l6p:3a|3l6q:3b|3l6r:3c|3l6s:3d|3l6t:3e|3l6u:3f|3l6v:3g|3l70:3h|3l71:3i|3l72:3j|3l73:3k|3l74:3l|3l75:3m|3l76:3n|3l77:3o|3l78:3p|3l79:3q|3l84:31|3l85:32|3l87:34|3l88:35|3l89:36|3l8a:37|3l8d:3a|3l8e:3b|3l8f:3c|3l8g:3d|3l8h:3e|3l8i:3f|3l8j:3g|3l8k:3h|3l8m:3j|3l8n:3k|3l8o:3l|3l8p:3m|3l8q:3n|3l8r:3o|3l8s:3p|3l9o:31|3l9p:32|3l9r:34|3l9s:35|3l9t:36|3l9u:37|3la0:39|3la1:3a|3la2:3b|3la3:3c|3la4:3d|3la6:3f|3laa:3j|3lab:3k|3lac:3l|3lad:3m|3lae:3n|3laf:3o|3lag:3p|3lbc:31|3lbd:32|3lbe:33|3lbf:34|3lbg:35|3lbh:36|3lbi:37|3lbj:38|3lbk:39|3lbl:3a|3lbm:3b|3lbn:3c|3lbo:3d|3lbp:3e|3lbq:3f|3lbr:3g|3lbs:3h|3lbt:3i|3lbu:3j|3lbv:3k|3lc0:3l|3lc1:3m|3lc2:3n|3lc3:3o|3lc4:3p|3lc5:3q|3ld0:31|3ld1:32|3ld2:33|3ld3:34|3ld4:35|3ld5:36|3ld6:37|3ld7:38|3ld8:39|3ld9:3a|3lda:3b|3ldb:3c|3ldc:3d|3ldd:3e|3lde:3f|3ldf:3g|3ldg:3h|3ldh:3i|3ldi:3j|3ldj:3k|3ldk:3l|3ldl:3m|3ldm:3n|3ldn:3o|3ldo:3p|3ldp:3q|3lek:31|3lel:32|3lem:33|3len:34|3leo:35|3lep:36|3leq:37|3ler:38|3les:39|3let:3a|3leu:3b|3lev:3c|3lf0:3d|3lf1:3e|3lf2:3f|3lf3:3g|3lf4:3h|3lf5:3i|3lf6:3j|3lf7:3k|3lf8:3l|3lf9:3m|3lfa:3n|3lfb:3o|3lfc:3p|3lfd:3q|3lg8:31|3lg9:32|3lga:33|3lgb:34|3lgc:35|3lgd:36|3lge:37|3lgf:38|3lgg:39|3lgh:3a|3lgi:3b|3lgj:3c|3lgk:3d|3lgl:3e|3lgm:3f|3lgn:3g|3lgo:3h|3lgp:3i|3lgq:3j|3lgr:3k|3lgs:3l|3lgt:3m|3lgu:3n|3lgv:3o|3lh0:3p|3lh1:3q|3lhs:31|3lht:32|3lhu:33|3lhv:34|3li0:35|3li1:36|3li2:37|3li3:38|3li4:39|3li5:3a|3li6:3b|3li7:3c|3li8:3d|3li9:3e|3lia:3f|3lib:3g|3lic:3h|3lid:3i|3lie:3j|3lif:3k|3lig:3l|3lih:3m|3lii:3n|3lij:3o|3lik:3p|3lil:3q|3ljg:31|3ljh:32|3lji:33|3ljj:34|3ljk:35|3ljl:36|3ljm:37|3ljn:38|3ljo:39|3ljp:3a|3ljq:3b|3ljr:3c|3ljs:3d|3ljt:3e|3lju:3f|3ljv:3g|3lk0:3h|3lk1:3i|3lk2:3j|3lk3:3k|3lk4:3l|3lk5:3m|3lk6:3n|3lk7:3o|3lk8:3p|3lk9:3q|3ll8:th|3ll9:ti|3lla:tj|3llb:tk|3llc:tl|3lld:tm|3lle:tn|3llf:to|3llg:tp|3llh:tq|3lli:tr|3llj:ts|3llk:tt|3lll:tu|3llm:tv|3lln:u0|3llo:u1|3llp:to|3llq:u3|3llr:u4|3lls:u5|3llt:u6|3llu:u7|3llv:u8|3lm0:u9|3lmj:u3|3ln2:th|3ln3:ti|3ln4:tj|3ln5:tk|3ln6:tl|3ln7:tm|3ln8:tn|3ln9:to|3lna:tp|3lnb:tq|3lnc:tr|3lnd:ts|3lne:tt|3lnf:tu|3lng:tv|3lnh:u0|3lni:u1|3lnj:to|3lnk:u3|3lnl:u4|3lnm:u5|3lnn:u6|3lno:u7|3lnp:u8|3lnq:u9|3lod:u3|3los:th|3lot:ti|3lou:tj|3lov:tk|3lp0:tl|3lp1:tm|3lp2:tn|3lp3:to|3lp4:tp|3lp5:tq|3lp6:tr|3lp7:ts|3lp8:tt|3lp9:tu|3lpa:tv|3lpb:u0|3lpc:u1|3lpd:to|3lpe:u3|3lpf:u4|3lpg:u5|3lph:u6|3lpi:u7|3lpj:u8|3lpk:u9|3lq7:u3|3lqm:th|3lqn:ti|3lqo:tj|3lqp:tk|3lqq:tl|3lqr:tm|3lqs:tn|3lqt:to|3lqu:tp|3lqv:tq|3lr0:tr|3lr1:ts|3lr2:tt|3lr3:tu|3lr4:tv|3lr5:u0|3lr6:u1|3lr7:to|3lr8:u3|3lr9:u4|3lra:u5|3lrb:u6|3lrc:u7|3lrd:u8|3lre:u9|3ls1:u3|3lsg:th|3lsh:ti|3lsi:tj|3lsj:tk|3lsk:tl|3lsl:tm|3lsm:tn|3lsn:to|3lso:tp|3lsp:tq|3lsq:tr|3lsr:ts|3lss:tt|3lst:tu|3lsu:tv|3lsv:u0|3lt0:u1|3lt1:to|3lt2:u3|3lt3:u4|3lt4:u5|3lt5:u6|3lt6:u7|3lt7:u8|3lt8:u9|3ltr:u3",r:"23:2c|2i:2k|2m:2q|60:6m|6o:6u|bo:bp|c1:c2|c6:c7|c9:cb|ce:ch|cj:ck|cm:co|cs:ct|cv:d0|d6:d7|de:df|dh:dj|dn:do|e4:e5|e7:e8|ea:eb|fh:fi|fm:fo|s8:sa|se:sf|sh:t1|t3:tb|100:11f|19h:1am|7o8:7of|7oo:7ot|7p8:7pf|7po:7pv|7q8:7qd|7r8:7rf|7to:7tr|7u8:7ub|7uo:7ur|7v8:7vc|7vo:7vr|89a:89b|8b0:8bf|95m:96f|1vp1:1vpq|2100:2115",s:"v8|va|vc|ve|vk|130|132|134|136|138|13a|13c|13e|13g|13i|13k|13m|13o|13q|13s|13u|140|14a|14c|14e|14g|14i|14k|14m|14o|14q|14s|14u|150|152|154|156|158|15a|15c|15e|15g|15i|15k|15m|15o|15q|15s|15u|161|163|165|167|169|16b|16d|16g|16i|16k|16m|16o|16q|16s|16u|170|172|174|176|178|17a|17c|17e|17g|17i|17k|17o|180|182|184|186|188|18a|18c|18e|80|82|84|86|88|8a|8c|8e|8g|8i|8k|8m|8o|8q|8s|8u|90|92|94|96|98|9a|9c|9e|9i|9k|9m|9p|9r|9t|9v|a1|a3|a5|a7|aa|ac|ae|ag|ai|ak|am|ao|aq|as|au|b0|b2|b4|b6|b8|ba|bc|be|bg|bi|bk|bm|br|bt|c4|d2|d4|d9|dc|dl|ds|ed|ef|eh|ej|el|en|ep|er|eu|f0|f2|f4|f6|f8|fa|fc|fe|fk|fq|fs|fu|g0|g2|g4|g6|g8|ga|gc|ge|gg|gi|gk|gm|go|gq|gs|gu|h0|h2|h4|h6|h8|ha|hc|he|hg|hi|21|22|7g0|7g2|7g4|7g6|7g8|7ga|7gc|7ge|7gg|7gi|2d|7gk|7gm|7go|7gq|7gs|7gu|7h0|7h2|7h4|7h6|7h8|7ha|7hc|7he|7hg|7hi|7hk|7hm|7ho|7hq|7hs|7hu|7i0|7i2|7i4|7i6|7i8|7ia|7ic|7ie|7ig|7ii|7ik|7im|7io|7iq|7is|7iu|7j0|7j2|7j4|7j6|7j8|7ja|7jc|7je|7jg|7ji|7jk|7jm|2e|7jo|7jq|7js|7ju|7k0|7k2|7k4|7k6|7k8|7ka|7kc|7ke|7kg|7ki|7kk|7l0|7l2|7l4|7l6|7l8|7la|7lc|7le|7lg|7li|7lk|7lm|7lo|7lq|7ls|7lu|7m0|7m2|7m4|7m6|7m8|7ma|7mc|7me|7mg|7mi|7mk|7mm|7mo|7mq|2f|7ms|7mu|7n0|7n2|7n4|7n6|7n8|7na|7nc|7ne|7ng|7ni|7nk|7nm|7no|2g|7qp|7qr|7qt|7qv|2h|896|2l|s6|sc|uo|uq|us|uu|v0|v2|v4|v6"},"B.3":{m:"5l:ts|6v:3j;3j|9g:39;o7|a9:ls;3e|bv:3j|fg:3a;oc|q5:tp|sg:tp;o8;o1|tg:u5;o8;o1|u2:u3|ug:ti|uh:to|ul:u6|um:u0|vg:tq|vh:u1|vi:u3|vl:tl|1c7:1b5;1c2|7km:38;ph|7kn:3k;o8|7ko:3n;oa|7kp:3p;oa|7kq:31;lu|7kr:7j1|7qg:u5;oj|7qi:u5;oj;o0|7qk:u5;oj;o1|7qm:u5;oj;q2|7s0:7o0;tp|7s1:7o1;tp|7s2:7o2;tp|7s3:7o3;tp|7s4:7o4;tp|7s5:7o5;tp|7s6:7o6;tp|7s7:7o7;tp|7s8:7o0;tp|7s9:7o1;tp|7sa:7o2;tp|7sb:7o3;tp|7sc:7o4;tp|7sd:7o5;tp|7se:7o6;tp|7sf:7o7;tp|7sg:7p0;tp|7sh:7p1;tp|7si:7p2;tp|7sj:7p3;tp|7sk:7p4;tp|7sl:7p5;tp|7sm:7p6;tp|7sn:7p7;tp|7so:7p0;tp|7sp:7p1;tp|7sq:7p2;tp|7sr:7p3;tp|7ss:7p4;tp|7st:7p5;tp|7su:7p6;tp|7sv:7p7;tp|7t0:7r0;tp|7t1:7r1;tp|7t2:7r2;tp|7t3:7r3;tp|7t4:7r4;tp|7t5:7r5;tp|7t6:7r6;tp|7t7:7r7;tp|7t8:7r0;tp|7t9:7r1;tp|7ta:7r2;tp|7tb:7r3;tp|7tc:7r4;tp|7td:7r5;tp|7te:7r6;tp|7tf:7r7;tp|7ti:7rg;tp|7tj:th;tp|7tk:tc;tp|7tm:th;q2|7tn:th;q2;tp|7ts:th;tp|7tu:tp|7u2:7rk;tp|7u3:tn;tp|7u4:te;tp|7u6:tn;q2|7u7:tn;q2;tp|7uc:tn;tp|7ui:tp;o8;o0|7uj:tp;o8;o1|7um:tp;q2|7un:tp;o8;q2|7v2:u5;o8;o0|7v3:u5;o8;o1|7v4:u1;oj|7v6:u5;q2|7v7:u5;o8;q2|7vi:7rs;tp|7vj:u9;tp|7vk:ue;tp|7vm:u9;q2|7vn:u9;q2;tp|7vs:u9;tp|1uo0:36;36|1uo1:36;39|1uo2:36;3c|1uo3:36;36;39|1uo4:36;36;3c|1uo5:3j;3k|1uo6:3j;3k|1uoj:1bk;1bm|1uok:1bk;1b5|1uol:1bk;1bb|1uom:1bu;1bm|1uon:1bk;1bd",r:"23:2c|2i:2k|2m:2q|60:6m|6o:6u|bo:bp|c1:c2|c6:c7|c9:cb|ce:ch|cj:ck|cm:co|cs:ct|cv:d0|d6:d7|de:df|dh:dj|dn:do|e4:e5|e7:e8|ea:eb|fh:fi|fm:fo|s8:sa|se:sf|sh:t1|t3:tb|100:11f|19h:1am|7o8:7of|7oo:7ot|7p8:7pf|7po:7pv|7q8:7qd|7r8:7rf|7to:7tr|7u8:7ub|7uo:7ur|7v8:7vc|7vo:7vr|89a:89b|8b0:8bf|95m:96f|1vp1:1vpq|2100:2115",s:"v8|va|vc|ve|vk|130|132|134|136|138|13a|13c|13e|13g|13i|13k|13m|13o|13q|13s|13u|140|14a|14c|14e|14g|14i|14k|14m|14o|14q|14s|14u|150|152|154|156|158|15a|15c|15e|15g|15i|15k|15m|15o|15q|15s|15u|161|163|165|167|169|16b|16d|16g|16i|16k|16m|16o|16q|16s|16u|170|172|174|176|178|17a|17c|17e|17g|17i|17k|17o|180|182|184|186|188|18a|18c|18e|80|82|84|86|88|8a|8c|8e|8g|8i|8k|8m|8o|8q|8s|8u|90|92|94|96|98|9a|9c|9e|9i|9k|9m|9p|9r|9t|9v|a1|a3|a5|a7|aa|ac|ae|ag|ai|ak|am|ao|aq|as|au|b0|b2|b4|b6|b8|ba|bc|be|bg|bi|bk|bm|br|bt|c4|d2|d4|d9|dc|dl|ds|ed|ef|eh|ej|el|en|ep|er|eu|f0|f2|f4|f6|f8|fa|fc|fe|fk|fq|fs|fu|g0|g2|g4|g6|g8|ga|gc|ge|gg|gi|gk|gm|go|gq|gs|gu|h0|h2|h4|h6|h8|ha|hc|he|hg|hi|21|22|7g0|7g2|7g4|7g6|7g8|7ga|7gc|7ge|7gg|7gi|2d|7gk|7gm|7go|7gq|7gs|7gu|7h0|7h2|7h4|7h6|7h8|7ha|7hc|7he|7hg|7hi|7hk|7hm|7ho|7hq|7hs|7hu|7i0|7i2|7i4|7i6|7i8|7ia|7ic|7ie|7ig|7ii|7ik|7im|7io|7iq|7is|7iu|7j0|7j2|7j4|7j6|7j8|7ja|7jc|7je|7jg|7ji|7jk|7jm|2e|7jo|7jq|7js|7ju|7k0|7k2|7k4|7k6|7k8|7ka|7kc|7ke|7kg|7ki|7kk|7l0|7l2|7l4|7l6|7l8|7la|7lc|7le|7lg|7li|7lk|7lm|7lo|7lq|7ls|7lu|7m0|7m2|7m4|7m6|7m8|7ma|7mc|7me|7mg|7mi|7mk|7mm|7mo|7mq|2f|7ms|7mu|7n0|7n2|7n4|7n6|7n8|7na|7nc|7ne|7ng|7ni|7nk|7nm|7no|2g|7qp|7qr|7qt|7qv|2h|896|2l|s6|sc|uo|uq|us|uu|v0|v2|v4|v6"},"C.1.1":{s:"10"},"C.1.2":{r:"800:80b",s:"c00|50|5k0|81f|82v"},"C.2.1":{r:"0:v",s:"3v"},"C.2.2":{r:"40:4v|80c:80d|818:819|830:833|83a:83f|1vvp:1vvs|3kbj:3kbq",s:"1mt|1of|60e|1vnv"},"C.3":{r:"1o00:1u7v|u000:vvvt|10000:11vvt"},"C.4":{r:"1veg:1vff|1vvu:1vvv|3vvu:3vvv|5vvu:5vvv|7vvu:7vvv|9vvu:9vvv|bvvu:bvvv|dvvu:dvvv|fvvu:fvvv|hvvu:hvvv|jvvu:jvvv|lvvu:lvvv|nvvu:nvvv|pvvu:pvvv|rvvu:rvvv|tvvu:tvvv|vvvu:vvvv|11vvu:11vvv"},"C.5":{r:"1m00:1nvv"},"C.6":{r:"1vvp:1vvt"},"C.7":{r:"bvg:bvr"},"C.8":{r:"q0:q1|80e:80f|81a:81e|83a:83f"},"C.9":{r:"s010:s03v",s:"s001"},"D.1":{r:"1eg:1fa|1fg:1fk|1h1:1hq|1i0:1ia|1jd:1jf|1jh:1ml|1n5:1n6|1nq:1nu|1o0:1od|1oi:1pc|1s0:1t5|1uov:1up8|1upa:1upm|1upo:1ups|1uq0:1uq1|1uq3:1uq4|1uq6:1uth|1uuj:1v9t|1vag:1vcf|1vci:1ve7|1vfg:1vfs|1vjg:1vjk|1vjm:1vns",s:"1du|1e0|1e3|1gr|1gv|1mt|1og|1th|1uot|1upu|80f"},"D.2":{r:"21:2q|31:3q|60:6m|6o:7m|7o:h0|h2:hj|ig:ld|lg:lo|lr:m1|mg:mh|n0:n4|s8:sa|se:t1|t3:ue|ug:vl|100:142|14a:16e|16g:17l|17o:17p|180:18f|19h:1am|1ap:1av|1b1:1c7|285:29p|29t:2a0|2a9:2ac|2ao:2b1|2b4:2bg|2c2:2c3|2c5:2cc|2cf:2cg|2cj:2d8|2da:2dg|2dm:2dp|2du:2e0|2e7:2e8|2eb:2ec|2es:2et|2ev:2f1|2f6:2fh|2fk:2fq|2g5:2ga|2gf:2gg|2gj:2h8|2ha:2hg|2hi:2hj|2hl:2hm|2ho:2hp|2hu:2i0|2ip:2is|2j6:2jf|2ji:2jk|2k5:2kb|2kf:2kh|2kj:2l8|2la:2lg|2li:2lj|2ll:2lp|2lt:2m0|2mb:2mc|2n6:2nf|2o2:2o3|2o5:2oc|2of:2og|2oj:2p8|2pa:2pg|2pi:2pj|2pm:2pp|2pt:2pu|2q7:2q8|2qb:2qc|2qs:2qt|2qv:2r1|2r6:2rg|2s5:2sa|2se:2sg|2si:2sl|2sp:2sq|2su:2sv|2t3:2t4|2t8:2ta|2te:2tl|2tn:2tp|2tu:2tv|2u1:2u2|2u6:2u8|2ua:2uc|2v7:2vi|301:303|305:30c|30e:30g|30i:318|31a:31j|31l:31p|321:324|330:331|336:33f|342:343|345:34c|34e:34g|34i:358|35a:35j|35l:35p|360:364|367:368|36a:36b|36l:36m|370:371|376:37f|382:383|385:38c|38e:38g|38i:398|39a:39p|39u:3a0|3a6:3a8|3aa:3ac|3b0:3b1|3b6:3bf|3c2:3c3|3c5:3cm|3cq:3dh|3dj:3dr|3e0:3e6|3ef:3eh|3eo:3ev|3fi:3fk|3g1:3hg|3hi:3hj|3i0:3i6|3if:3ir|3k1:3k2|3k7:3k8|3kk:3kn|3kp:3kv|3l1:3l3|3la:3lb|3ld:3lg|3li:3lj|3m0:3m4|3mg:3mp|3ms:3mt|3o0:3on|3oq:3pk|3pu:3q7|3q9:3ra|3s8:3sb|3tu:3u5|3u7:3uc|400:411|413:417|419:41a|420:42n|450:465|46g:47o|480:4ap|4av:4d2|4d8:4fp|4g0:4g6|4g8:4i6|4ia:4id|4ig:4im|4iq:4it|4j0:4k6|4ka:4kd|4kg:4le|4li:4ll|4lo:4lu|4m2:4m5|4m8:4me|4mg:4mm|4mo:4ne|4ng:4oe|4oi:4ol|4oo:4ou|4p0:4q6|4q8:4qq|4r1:4rs|4t0:4vk|501:5jm|5k1:5kq|5l0:5ng|5o0:5oc|5oe:5oh|5p0:5ph|5pl:5pm|5q0:5qh|5r0:5rc|5re:5rg|5s0:5tm|5tu:5u5|5u7:5u8|5uk:5uq|5v0:5v9|60g:60p|610:63n|640:658|7g0:7kr|7l0:7np|7o0:7ol|7oo:7ot|7p0:7q5|7q8:7qd|7qg:7qn|7qv:7rt|7s0:7tk|7tm:7ts|7u2:7u4|7u6:7uc|7ug:7uj|7um:7ur|7v0:7vc|7vi:7vk|7vm:7vs|88a:88j|88p:88t|89a:89d|89f:89h|89j:89p|89t:89v|8a5:8a9|8b0:8c3|8pm:8rq|94s:979|c05:c07|c11:c19|c1h:c1l|c1o:c1s|c21:c4m|c4t:c4v|c51:c7q|c7s:c7v|c85:c9c|c9h:cce|ccg:cdn|cfg:cgs|ch0:ci3|cj0:cjr|cjv:clg|cm0:cmb|cmg:cnu|co0:crm|crr:cut|cv0:cvu|d00:jdl|jg0:17t5|1800:194c|1b00:1lt3|1m00:1uhd|1uhg:1uja|1uo0:1uo6|1uoj:1uon|1vp1:1vpq|1vq1:1vqq|1vr6:1vtu|1vu2:1vu7|1vua:1vuf|1vui:1vun|1vuq:1vus|20o0:20ou|20p0:20p3|20pg:20qa|2100:2115|2118:212d|3k00:3k7l|3k80:3k96|3k9a:3kb6|3kba:3kbi|3kc3:3kc4|3kcc:3kd9|3kde:3ket|3l00:3l2k|3l2m:3l4s|3l4u:3l4v|3l55:3l56|3l59:3l5c|3l5e:3l5p|3l5t:3l60|3l62:3l63|3l65:3l85|3l87:3l8a|3l8d:3l8k|3l8m:3l8s|3l8u:3l9p|3l9r:3l9u|3la0:3la4|3laa:3lag|3lai:3ll3|3ll8:3lu9|4000:59mm|5u00:5ugt|u000:vvvt|10000:11vvt",s:"3l52|3l5r|3la6|1c9|5a|5l|5q|283|2ag|2di|2en|2iu|2k3|2kd|2m9|2mg|2n0|2q0|2qn|2s3|2ss|2un|35u|36u|3an|3dt|3k4|3ka|3kd|3l5|3l7|3lt|3m6|3pm|3po|3rv|3s5|3uf|41c|41h|41o|47r|4i8|4io|4k8|4lg|4m0|4og|5us|ne|7qp|7qr|7qt|7tu|80e|83h|83v|882|887|88l|894|896|898|rq|s6|sc|8sl"}},T=function(){function e(t,n){Object(h.a)(this,e),this.singles=new Set,this.ranges=[],this.mappings=new Map;var r=E[t];this.name=t,r?(r.s&&(this.singles=new Set(r.s.split("|").map((function(e){return parseInt(e,32)})))),r.r&&(this.ranges=r.r.split("|").map((function(e){var t=e.split(":"),n=Object(l.a)(t,2),r=n[0],i=n[1];return[parseInt(r,32),parseInt(i,32)]}))),r.m&&(this.mappings=new Map(r.m.split("|").map((function(e){var t=e.split(":"),n=Object(l.a)(t,2),r=n[0],i=n[1].split(";").map((function(e){return parseInt(e,32)}));return[parseInt(r,32),i]}))))):n&&(this.singles=new Set(n))}return Object(m.a)(e,[{key:"contains",value:function(e){if(this.singles.has(e))return!0;for(var t=0,n=this.ranges.length-1;t<=n;){var r=Math.floor((t+n)/2),i=this.ranges[r];if(e<i[0])n=r-1;else{if(!(e>i[1]))return!0;t=r+1}}return!1}},{key:"hasMapping",value:function(e){return this.mappings.has(e)||this.contains(e)}},{key:"map",value:function(e){return this.contains(e)&&!this.mappings.has(e)?String.fromCodePoint(e).toLowerCase().codePointAt(0):this.mappings.get(e)||null}}]),e}(),R=new T("A.1"),P=new T("B.1"),A=new T("B.2"),I=(new T("B.3"),new T("C.1.1")),N=new T("C.1.2"),M=new T("C.2.1"),D=new T("C.2.2"),L=new T("C.3"),F=new T("C.4"),q=new T("C.5"),B=new T("C.6"),U=new T("C.7"),z=new T("C.8"),V=new T("C.9"),H=new T("D.1"),W=new T("D.2");function G(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=S.a.ucs2.decode(r),a=[],o=Object(p.a)(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!t&&e.unassigned.contains(s))throw new Error("Unassigned code point: x"+s.toString(16));var c,u=!1,l=Object(p.a)(e.mappings);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(d.hasMapping(s)){u=!0;var f=d.map(s);f&&(Array.isArray(f)?a=a.concat(f):a.push(f))}}}catch(O){l.e(O)}finally{l.f()}u||a.push(s)}}catch(O){o.e(O)}finally{o.f()}var h=a;if(e.normalize){var m=S.a.ucs2.encode(a),v=m.normalize("NFKC");h=S.a.ucs2.decode(v)}var g,y=!1,b=!1,w=Object(p.a)(h);try{for(w.s();!(g=w.n()).done;){var k,C=g.value,x=Object(p.a)(e.prohibited);try{for(x.s();!(k=x.n()).done;){var j=k.value;if(j.contains(C))throw new Error("Prohibited code point: x"+C.toString(16))}}catch(O){x.e(O)}finally{x.f()}if(!t&&e.unassigned.contains(C))throw new Error("Prohibited code point: x"+C.toString(16));e.bidirectional&&(y=y||H.contains(C),b=b||W.contains(C))}}catch(O){w.e(O)}finally{w.f()}if(e.bidirectional){if(y&&b)throw new Error("String contained both LCat and RandALCat code points");if(y&&(!H.contains(h[0])||!H.contains(h[h.length-1])))throw new Error("String containing RandALCat code points must start and end with RandALCat code points")}return S.a.ucs2.encode(h)}P.map=function(){return null},I.contains=function(e){return 32===e},N.map=function(e){return N.contains(e)?32:null};var Q={bidirectional:!0,mappings:[P,A],normalize:!0,prohibited:[N,D,L,F,q,B,U,z,V],unassigned:R};var $=new T("NodePrepProhibited",[34,38,39,47,58,60,62,64]),K={bidirectional:!0,mappings:[P,A],normalize:!0,prohibited:[I,N,M,D,L,F,q,B,U,z,V,$],unassigned:R};var J={bidirectional:!0,mappings:[P],normalize:!0,prohibited:[N,M,D,L,F,q,B,U,z,V],unassigned:R};var Y={bidirectional:!0,mappings:[N,P],normalize:!0,prohibited:[N,M,D,L,F,q,B,U,z,V],unassigned:R};function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return G(Y,t,e)}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/"/g,"\\22").replace(/&/g,"\\26").replace(/'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")}function ee(e){return e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}function te(e){var t=e.local||"",n=e.domain,r=e.resource||"";return t&&(t=function(e){return G(K,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e)}(t)),r&&(r=function(e){return G(J,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e)}(r)),"."===n[n.length-1]&&(n=n.slice(0,n.length-1)),{domain:n=function(e){return G(Q,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e)}(n.split(".").map(S.a.toUnicode).join(".")),local:t,resource:r}}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.local;t.escaped||(n=Z(e.local));var r=t.prepared?e:te({local:n,domain:e.domain,resource:e.resource}),i=n?"".concat(n,"@").concat(r.domain):r.domain;return r.resource?"".concat(i,"/").concat(r.resource):i}function re(e,t){return t?"".concat(le(e),"/").concat(t):le(e)}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="",n="",r=e.indexOf("/");r>0&&(n=e.slice(r+1),e=e.slice(0,r));var i=e.indexOf("@");i>0&&(t=e.slice(0,i),e=e.slice(i+1));var a=te({domain:e,local:t,resource:n});return{bare:ne({local:a.local,domain:a.domain},{escaped:!0,prepared:!0}),domain:a.domain,full:ne(a,{escaped:!0,prepared:!0}),local:ee(a.local),resource:a.resource}}function ae(e,t){var n=new Set;if(n.add(void 0),n.add(""),e){var r=ie(e);n.add(r.full),n.add(r.bare),n.add(r.domain)}if(t){var i=ie(t);n.add(i.domain),n.add(i.bare),n.add(i.full)}return n}function oe(e,t){if(!e||!t)return!1;var n=ie(e),r=ie(t);return n.local===r.local&&n.domain===r.domain}function se(e){return!!ie(e).resource}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ie(e).domain}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ie(e).resource}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ie(e).bare}var pe,de=Object.freeze({__proto__:null,escapeLocal:Z,unescapeLocal:ee,prepare:te,create:ne,createFull:re,parse:ie,allowedResponders:ae,equal:function(e,t){if(!e||!t)return!1;var n=ie(e),r=ie(t);return n.local===r.local&&n.domain===r.domain&&n.resource===r.resource},equalBare:oe,isFull:se,isBare:function(e){return!se(e)},getLocal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ie(e).local},getDomain:ce,getResource:ue,toBare:le,parseURI:function(e){var t=new URL(e);if("xmpp:"!==t.protocol)throw new Error("Invalid XMPP URI, wrong protocol: "+t.protocol);var n,r=t.hostname?t.username?ne({domain:decodeURIComponent(t.hostname),local:decodeURIComponent(t.username)},{escaped:!0}):decodeURIComponent(t.hostname):void 0,i=ie(decodeURIComponent(r?t.pathname.substr(1):t.pathname)).full,a=t.search&&t.search.indexOf(";")>=1,o=a?t.search.substr(t.search.indexOf(";")+1):"",s=t.search?decodeURIComponent(t.search.substr(1,a?t.search.indexOf(";")-1:void 0)):void 0,c={},u=Object(p.a)(o.split(";"));try{for(u.s();!(n=u.n()).done;){var d=n.value.split("=").map(decodeURIComponent),f=Object(l.a)(d,2),h=f[0],m=f[1];if(c[h]){var v=c[h];Array.isArray(v)?v.push(m):c[h]=[v,m]}else c[h]=m}}catch(g){u.e(g)}finally{u.f()}return{action:s,identity:r,jid:i,parameters:c}},toURI:function(e){var t=["xmpp:"],n=function(e,n){var r=ie(e);r.local&&(t.push(encodeURIComponent(Z(r.local))),t.push("@")),t.push(encodeURIComponent(r.domain)),n&&r.resource&&(t.push("/"),t.push(encodeURIComponent(r.resource)))};e.identity&&(t.push("//"),n(e.identity,!1),e.jid&&t.push("/")),e.jid&&n(e.jid,!0),e.action&&(t.push("?"),t.push(encodeURIComponent(e.action)));for(var r=0,i=Object.entries(e.parameters||{});r<i.length;r++){var a,o=Object(l.a)(i[r],2),s=o[0],c=o[1],u=Object(p.a)(Array.isArray(c)?c:[c]);try{for(u.s();!(a=u.n()).done;){var d=a.value;t.push(";"),t.push(encodeURIComponent(s)),void 0!==d&&(t.push("="),t.push(encodeURIComponent(d)))}}catch(f){u.e(f)}finally{u.f()}}return t.join("")}});!function(e){e.NotWellFormed="not-well-formed",e.RestrictedXML="restricted-xml",e.AlreadyClosed="already-closed",e.UnknownRoot="unknown-stream-root"}(pe||(pe={}));var fe=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e.text)).isJXTError=!0,r.condition=e.condition,r.text=e.text,r}return Object(m.a)(n,null,[{key:"notWellFormed",value:function(e){return new n({condition:pe.NotWellFormed,text:e})}},{key:"restrictedXML",value:function(e){return new n({condition:pe.RestrictedXML,text:e})}},{key:"alreadyClosed",value:function(e){return new n({condition:pe.AlreadyClosed,text:e})}},{key:"unknownRoot",value:function(e){return new n({condition:pe.UnknownRoot,text:e})}}]),n}(Object(u.a)(Error)),he={'"':"&quot;","&":"&amp;","'":"&apos;","<":"&lt;",">":"&gt;"},me={"&amp;":"&","&apos;":"'","&gt;":">","&lt;":"<","&quot;":'"'},ve=/&([a-zA-Z0-9]+|#[0-9]+|#x[0-9a-fA-F]+);/g,ge=/&|<|>|"|'/g,ye=/&|<|>/g;function be(e){return he[e]}function we(e){return e.replace(ge,be)}function ke(e){return e.replace(ve,(function(e){return function(e){if(me[e])return me[e];var t=e.startsWith("&#x"),n=parseInt(e.substring(t?3:2,e.length-1),t?16:10);if(9===n||10===n||13===n||32<=n&&n<=55295||57344<=n&&n<=65533||65536<=n&&n<=1114111)return String.fromCodePoint(n);throw fe.restrictedXML("Prohibited entity: "+e)}(e)}))}function Se(e){return e.replace(ye,be)}function Ce(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=new Set(e.map((function(e){return e.toLowerCase()}))),a=Object(p.a)(n.map((function(e){return e.toLowerCase()})));try{for(a.s();!(t=a.n()).done;){var o=t.value;if("*"!==o)for(;o.length>0;){if(i.has(o))return o;(o=o.substring(0,o.lastIndexOf("-")).toLowerCase()).lastIndexOf("-")===o.length-2&&(o=o.substring(0,o.lastIndexOf("-")))}}}catch(s){a.e(s)}finally{a.f()}return r}var xe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(h.a)(this,e),this.name=t,this.attributes=n,this.children=[],this.optionalNamespaces={};var i,a=Object(p.a)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;if("string"!==typeof o){var s=new e(o.name,o.attributes,o.children);s.parent=this,this.children.push(s)}else this.children.push(o)}}catch(c){a.e(c)}finally{a.f()}}return Object(m.a)(e,[{key:"getName",value:function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name}},{key:"getNamespace",value:function(){if(this.name.indexOf(":")>=0){var e=this.name.substr(0,this.name.indexOf(":"));return this.findNamespaceForPrefix(e)}return this.findNamespaceForPrefix()}},{key:"getNamespaceContext",value:function(){var e={};this.parent&&(e=this.parent.getNamespaceContext());for(var t=0,n=Object.entries(this.attributes);t<n.length;t++){var r=Object(l.a)(n[t],2),i=r[0],a=r[1];if(i.startsWith("xmlns:")){var o=i.substr(6);e[a]=o}}return e}},{key:"getDefaultNamespace",value:function(){return this.attributes.xmlns?this.attributes.xmlns:this.parent?this.parent.getDefaultNamespace():""}},{key:"getNamespaceRoot",value:function(e){if(this.parent){var t=this.parent.getNamespaceRoot(e);if(t)return t}for(var n=0,r=Object.entries(this.attributes);n<r.length;n++){var i=Object(l.a)(r[n],2),a=i[0],o=i[1];if(a.startsWith("xmlns:")&&o===e)return this}if(this.optionalNamespaces[e])return this}},{key:"getAttribute",value:function(e,t){if(!t)return this.attributes[e];var n=this.getNamespaceContext();return n[t]?this.attributes[[n[t],e].join(":")]:void 0}},{key:"getChild",value:function(e,t){return this.getChildren(e,t)[0]}},{key:"getChildren",value:function(e,t){var n,r=[],i=Object(p.a)(this.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;"string"===typeof a||a.getName()!==e||t&&a.getNamespace()!==t||r.push(a)}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"getText",value:function(){var e,t="",n=Object(p.a)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;"string"===typeof r&&(t+=r)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"appendChild",value:function(e){return this.children.push(e),"string"!==typeof e&&(e.parent=this),e}},{key:"setAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.attributes[e]=t||void 0,""===t&&n&&(this.attributes[e]=t)}},{key:"addOptionalNamespace",value:function(e,t){this.optionalNamespaces[t]=e}},{key:"useNamespace",value:function(e,t){return this.optionalNamespaces[t]&&(e=this.optionalNamespaces[t]),this.setAttribute("xmlns:".concat(e),t),e}},{key:"toJSON",value:function(){for(var e=this.children.map((function(e){return"string"===typeof e?e:e?e.toJSON():void 0})).filter((function(e){return!!e})),t={},n=0,r=Object.entries(this.attributes);n<r.length;n++){var i=Object(l.a)(r[n],2),a=i[0],o=i[1];void 0!==o&&null!==o&&(t[a]=o)}return{attributes:t,children:e,name:this.name}}},{key:"toString",value:function(){var e=this.openTag(!0);if(this.children.length){var t,n=Object(p.a)(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;"string"===typeof r?e+=Se(r):r&&(e+=r.toString())}}catch(i){n.e(i)}finally{n.f()}e+=this.closeTag()}return e}},{key:"openTag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";t+="<".concat(this.name);for(var n=0,r=Object.entries(this.attributes);n<r.length;n++){var i=Object(l.a)(r[n],2),a=i[0],o=i[1];void 0!==o&&(t+=" ".concat(a,'="').concat(we(o.toString()),'"'))}return e&&0===this.children.length?t+="/>":t+=">",t}},{key:"closeTag",value:function(){return"</".concat(this.name,">")}},{key:"findNamespaceForPrefix",value:function(e){if(e){var t="xmlns:"+e;if(this.attributes[t])return this.attributes[t];if(this.parent)return this.parent.findNamespaceForPrefix(e)}else{if(this.attributes.xmlns)return this.attributes.xmlns;if(this.parent)return this.parent.findNamespaceForPrefix()}return""}}]),e}(),je=new Set(["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul"]),Oe=new Set(["style"]),_e=new Map([["a",new Set(["href","style"])],["body",new Set(["style","xml:lang"])],["blockquote",Oe],["br",Oe],["cite",Oe],["em",Oe],["img",new Set(["alt","height","src","style","width"])],["li",Oe],["ol",Oe],["p",Oe],["span",Oe],["strong",Oe],["ul",Oe]]),Ee=new Map([["font-style",/normal|italic|oblique|inherit/i],["font-weight",/normal|bold|bolder|lighter|inherit|\d\d\d/i],["text-decoration",/none|underline|overline|line-through|blink|inherit/i]]),Te=function(e){return!!e.match(/^(https?|xmpp|cid|mailto|ftps?|im|ircs?|sips?|tel|geo|bitcoin|magnet):/i)&&e},Re=function(e){return!!e.match(/^[0-9]*$/)&&e},Pe={alt:function(e){return e},height:Re,href:Te,src:Te,style:function(e){var t=";".concat(e).replace(/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,"").replace(/\/\*.*/,"").replace(/\\([a-fA-F0-9]{1,6})\s?/,(function(e,t){return String.fromCharCode(parseInt(t,16))})).match(/;\s*([a-z-]+)\s*:\s*([^;]*[^\s;])\s*/g),n=[];if(!t)return!1;var r,i=Object(p.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value.match(/^;\s*([a-z-]+)\s*:\s*([^;]*[^\s])\s*$/);if(a){var o=Ee.get(a[1]);if(o){var s=a[2].match(o);s&&n.push("".concat(a[1],":").concat(s[0]))}}}}catch(c){i.e(c)}finally{i.f()}return!!n.length&&n.join("")},width:Re};function Ae(e){if("string"===typeof e)return e;if(!je.has(e.name)){if("script"===e.name)return;return function(e){var t,n=[],r=Object(p.a)(e.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("string"===typeof i)n.push(i);else{var a=Ae(i);a&&(Array.isArray(a)?n=n.concat(a):n.push(a))}}}catch(o){r.e(o)}finally{r.f()}return n}(e)}for(var t=e.children.map(Ae).filter((function(e){return void 0!==e})),n={},r=0,i=Object.entries(e.attributes);r<i.length;r++){var a=Object(l.a)(i[r],2),o=a[0],s=a[1],c=_e.get(e.name);if(c&&c.has(o)&&s){var u=Pe[o](s);u&&(n[o]=u)}}return{attributes:n,children:t,name:e.name}}function Ie(e){if("string"!==typeof e){var t,n=[],r=Object(p.a)(e.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i)if("string"!==typeof i){var a=Ae(i);Array.isArray(a)?n=n.concat(a):a&&n.push(a)}else n.push(i)}}catch(s){r.e(s)}finally{r.f()}var o={};if("body"===e.name)return void 0!==e.attributes.xmlns&&(o.xmlns=e.attributes.xmlns),e.attributes.style&&(o.style=e.attributes.style),void 0!==e.attributes["xml:lang"]&&(o["xml:lang"]=e.attributes["xml:lang"]),{attributes:o,children:n,name:"body"}}}function Ne(e){return 97<=e&&e<=122||65<=e&&e<=90||58===e||95===e}function Me(e){return 192<=e&&e<=214||216<=e&&e<=246||248<=e&&e<=767||880<=e&&e<=893||895<=e&&e<=8191||8204<=e&&e<=8205||8304<=e&&e<=8591||11264<=e&&e<=12271||12289<=e&&e<=55295||65008<=e&&e<=65533||65536<=e&&e<=983039}function De(e){return Ne(e)||Me(e)}function Le(e){return Ne(e)||45===e||46===e||48<=e&&e<=57||183===e||768<=e&&e<=879||8255<=e&&e<=8256||Me(e)}function Fe(e){return 32===e||10===e||13===e||9===e}var qe=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.a)(this,n),(e=t.call(this)).allowComments=!0,e.attributes={},e.state=34,e.tagName="",e.haveDeclaration=!1,e.recordBuffer=[],void 0!==r.allowComments&&(e.allowComments=r.allowComments),e}return Object(m.a)(n,[{key:"write",value:function(e){var t,n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.codePointAt(0);switch(this.state){case 34:if(60===i){var a=void 0;try{a=ke(this.endRecord())}catch(l){return void this.emit("error",l)}a&&this.emit("text",a),this.transition(31);continue}this.record(r);continue;case 31:if(47===i){this.transition(7);continue}if(33===i){this.transition(24);continue}if(63===i){this.haveDeclaration&&this.restrictedXML(),this.transition(25);continue}if(De(i)){this.transition(30),this.startRecord(r);continue}return this.notWellFormed();case 30:if(Le(i)){this.record(r);continue}if(Fe(i)){this.startTag(),this.transition(32);continue}if(47===i){this.startTag(),this.transition(29);continue}if(62===i){this.startTag(),this.transition(34),this.emit("startElement",this.tagName,this.attributes);continue}return this.notWellFormed();case 29:if(62===i){this.emit("startElement",this.tagName,this.attributes),this.emit("endElement",this.tagName),this.transition(34);continue}return this.notWellFormed();case 33:if(Fe(i)){this.transition(32);continue}if(47===i){this.transition(29);continue}if(62===i){this.emit("startElement",this.tagName,this.attributes),this.transition(34);continue}return this.notWellFormed();case 32:if(Fe(i))continue;if(De(i)){this.startRecord(r),this.transition(0);continue}if(47===i){this.transition(29);continue}if(62===i){this.emit("startElement",this.tagName,this.attributes),this.transition(34);continue}return this.notWellFormed();case 7:if(De(i)){this.startRecord(r),this.transition(6);continue}return this.notWellFormed();case 6:if(Le(i)){this.record(r);continue}if(Fe(i)){this.transition(8);continue}if(62===i){var o=this.endRecord();this.emit("endElement",o,this.attributes),this.transition(34);continue}return this.notWellFormed();case 8:if(Fe(i))continue;if(62===i){var s=this.endRecord();this.emit("endElement",s,this.attributes),this.transition(34);continue}return this.notWellFormed();case 0:if(Le(i)){this.record(r);continue}if(61===i){this.addAttribute(),this.transition(4);continue}if(Fe(i)){this.addAttribute(),this.transition(3);continue}return this.notWellFormed();case 3:if(61===i){this.transition(4);continue}if(Fe(i))continue;return this.notWellFormed();case 4:if(34===i){this.startRecord(),this.transition(1);continue}if(39===i){this.startRecord(),this.transition(2);continue}if(Fe(i))continue;return this.notWellFormed();case 1:case 2:if(34===i&&1===this.state||39===i&&2===this.state){var c=this.endRecord();this.attributes[this.attributeName]=ke(c),this.transition(33);continue}if(60===i)return this.notWellFormed();this.record(r);continue;case 24:if(45===i){this.allowComments||this.restrictedXML(),this.transition(23);continue}if(91===i){this.transition(21);continue}return this.notWellFormed();case 23:if(45===i){this.transition(14);continue}return this.notWellFormed();case 14:45===i&&this.transition(12);continue;case 12:45===i?this.transition(11):this.transition(14);continue;case 11:62===i?this.transition(34):this.transition(14);continue;case 25:if(88===i||120===i){this.transition(28);continue}return this.notWellFormed();case 28:if(77===i||109===i){this.transition(27);continue}return this.notWellFormed();case 27:if(76===i||108===i){this.transition(26);continue}return this.notWellFormed();case 26:if(Fe(i)){this.haveDeclaration=!0,this.transition(15);continue}return this.notWellFormed();case 13:if(62===i){this.transition(34);continue}return this.notWellFormed();case 15:63===i&&this.transition(13);continue;case 21:this.wait(i,67,20);continue;case 20:this.wait(i,68,19);continue;case 19:this.wait(i,65,18);continue;case 18:this.wait(i,84,17);continue;case 17:this.wait(i,65,16);continue;case 16:this.wait(i,91,5);continue;case 5:if(93===i){this.transition(10);continue}this.record(r);continue;case 10:93===i?this.transition(9):(this.record(String.fromCodePoint(93)),this.record(r),this.transition(5));continue;case 9:if(62===i){var u=this.endRecord();u&&this.emit("text",u),this.transition(34)}else this.record(String.fromCodePoint(93)),this.record(String.fromCodePoint(93)),this.record(r),this.transition(5);continue}}}catch(l){n.e(l)}finally{n.f()}}},{key:"end",value:function(e){e&&this.write(e),this.write=function(){}}},{key:"record",value:function(e){this.recordBuffer.push(e)}},{key:"startRecord",value:function(e){this.recordBuffer=[],e&&this.recordBuffer.push(e)}},{key:"endRecord",value:function(){var e=this.recordBuffer;return this.recordBuffer=[],e.join("")}},{key:"startTag",value:function(){this.tagName=this.endRecord(),this.attributes={}}},{key:"addAttribute",value:function(){var e=this.endRecord();if(void 0!==this.attributes[e])return this.notWellFormed();this.attributeName=e,this.attributes[e]=""}},{key:"wait",value:function(e,t,n){if(e!==t)return this.notWellFormed();this.transition(n)}},{key:"transition",value:function(e){this.state=e,34===e&&this.startRecord()}},{key:"notWellFormed",value:function(e){this.emit("error",fe.notWellFormed(e))}},{key:"restrictedXML",value:function(e){this.emit("error",fe.restrictedXML(e))}}]),n}(w.EventEmitter);function Be(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new qe(r),a=null;if(i.on("text",(function(e){n&&n.children.push(e)})),i.on("startElement",(function(e,r){var i=new xe(e,r);t||(t=i),n=n?n.appendChild(i):i})),i.on("endElement",(function(e){n?e===n.name?n.parent&&(n=n.parent):i.emit("error",fe.notWellFormed("b")):i.emit("error",fe.notWellFormed("a"))})),i.on("error",(function(e){a=e})),i.write(e),i.end(),a)throw a;return t}function Ue(e,t,n,r){if(r){e=e||r.getNamespace();var i=r.getNamespaceRoot(e);if(i){var a=i.useNamespace("",e);t="".concat(a,":").concat(t)}}var o=new xe(t);return t.indexOf(":")<0&&(!n||e!==n)&&o.setAttribute("xmlns",e),o}function ze(e,t){return(e.getAttribute("xml:lang")||t||"").toLowerCase()}function Ve(e,t){var n,r=[],i=Object(p.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(ze(a,t.lang))}}catch(o){i.e(o)}finally{i.f()}return(t.resolveLanguage?t.resolveLanguage(r,t.acceptLanguages||[],t.lang):t.lang)||""}function He(e,t,n,r){var i=e.getChildren(n,t),a=ze(e);return i.length?r?i.filter((function(e){if(ze(e,a)===r)return!0})):i:[]}function We(e,t,n,r){t=t||e.getNamespace();var i=He(e,t,n,r);if(i.length)return i[0];var a=Ue(t,n,e.getDefaultNamespace(),e),o=ze(e,r);return r&&o!==r&&a.setAttribute("xml:lang",r),e.appendChild(a),a}function Ge(e){return{importer:function(t){var n=t.getAttribute(e.name,e.namespace);return n?e.parseValue(n):e.dynamicDefault?e.dynamicDefault(n):e.staticDefault},exporter:function(t,n){if(void 0!==n&&n!==e.staticDefault){var r=e.writeValue(n);if(r||e.emitEmpty)if(e.namespace&&e.prefix){var i,a=t.getNamespaceRoot(e.namespace);if(a)i=a.useNamespace(e.prefix,e.namespace);else{var o=t.getNamespaceContext();o[e.namespace]||(i=t.useNamespace(e.prefix,e.namespace),o[e.namespace]=i)}t.setAttribute("".concat(i,":").concat(e.name),r,e.emitEmpty)}else t.setAttribute(e.name,r,e.emitEmpty)}}}}function Qe(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=Object.assign({staticDefault:r},i),Ge(Object.assign(Object.assign({name:n},e),t?t(i):i))}}function $e(e,t){return function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o=Object.assign({staticDefault:a},o),Ge(Object.assign(Object.assign({name:i,namespace:r,prefix:n},e),t?t(o):o))}}function Ke(e){var t=e.converter||Ge(Object.assign(Object.assign({},e),{namespace:e.attributeNamespace}));return{importer:function(n,r){var i=n.getChild(e.element,e.namespace||n.getNamespace());return i?t.importer(i,r):e.dynamicDefault?e.dynamicDefault():e.staticDefault},exporter:function(n,r,i){if(void 0!==r&&r!==e.staticDefault){var a=We(n,e.namespace||n.getNamespace(),e.element);t.exporter(a,r,i)}}}}function Je(e,t){return function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o=Object.assign({staticDefault:a},o),Ke(Object.assign(Object.assign({element:r,name:i,namespace:n},e),t?t(o):o))}}function Ye(e){return{importer:function(t){var n=t.getText();return n?e.parseValue(n):e.dynamicDefault?e.dynamicDefault(n):e.staticDefault},exporter:function(t,n){if(n||!e.emitEmpty){if(void 0!==n&&n!==e.staticDefault){var r=e.writeValue(n);r&&t.children.push(r)}}else t.children.push("")}}}function Xe(e){var t=Ye(e);return{importer:function(n,r){var i=He(n,e.namespace||n.getNamespace(),e.element),a=Ve(i,r);if(!i.length)return e.dynamicDefault?e.dynamicDefault():e.staticDefault;if(e.matchLanguage){var o,s=Object(p.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(ze(c,r.lang)===a)return t.importer(c,r)}}catch(u){s.e(u)}finally{s.f()}}return t.importer(i[0],r)},exporter:function(n,r,i){if(r||!e.emitEmpty){if(void 0!==r&&r!==e.staticDefault){var a=We(n,e.namespace||n.getNamespace(),e.element,e.matchLanguage?i.lang:void 0);t.exporter(a,r,i)}}else We(n,e.namespace||n.getNamespace(),e.element,e.matchLanguage?i.lang:void 0)}}}var Ze={parseValue:function(e){return e},writeValue:function(e){return e}},et={parseValue:function(e){return parseInt(e,10)},writeValue:function(e){return e.toString()}},tt={parseValue:function(e){return parseFloat(e)},writeValue:function(e){return e.toString()}},nt={parseValue:function(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&void 0},writeValue:function(e){return e?"1":"0"}},rt={parseValue:function(e){return new Date(e)},writeValue:function(e){return"string"===typeof e?e:e.toISOString()}},it={parseValue:function(e){return JSON.parse(e)},writeValue:function(e){return JSON.stringify(e)}},at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";return{parseValue:function(n){return"base64"===t&&"="===n&&(n=""),e.from(n.trim(),t)},writeValue:function(n){var r;return r="string"===typeof n?e.from(n).toString(t):n?n.toString(t):"","base64"===t&&(r=r||"="),r}}},ot={parseValue:function(e){var t=-1;"-"===e.charAt(0)&&(t=1,e=e.slice(1));var n=e.split(":");return(60*parseInt(n[0],10)+parseInt(n[1],10))*t},writeValue:function(e){if("string"===typeof e)return e;var t="-";e<0&&(e=-e,t="+");var n=e/60,r=e%60;return t+=(n<10?"0":"")+n+":"+(r<10?"0":"")+r}},st=Qe(Ze,(function(e){return Object.assign({dynamicDefault:e.emitEmpty?function(t){return""===t?"":e.staticDefault}:void 0},e)})),ct=Qe(nt),ut=Qe(et),lt=Qe(tt),pt=Qe(rt),dt=$e(Ze),ft=$e(nt),ht=$e(et),mt=$e(tt),vt=$e(rt),gt=Je(Ze),yt=Je(nt),bt=Je(et),wt=Je(tt),kt=Je(rt),St=function(e){return Ye(Object.assign({staticDefault:e},Ze))},Ct=function(){return Ye(Object.assign({},it))},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";return Ye(Object.assign({},at(e)))};function jt(){return{importer:function(e,t){return ze(e,t.lang)},exporter:function(e,t,n){t&&t.toLowerCase()!==n.lang?e.setAttribute("xml:lang",t):e.setAttribute("xml:lang",void 0)}}}var Ot=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Xe(Object.assign({element:t,emitEmpty:r,matchLanguage:!0,namespace:e,staticDefault:n},Ze))},_t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";return Xe(Object.assign({element:t,matchLanguage:!0,namespace:e},at(n)))},Et=function(e,t){return Xe(Object.assign({element:t,namespace:e},rt))},Tt=function(e,t,n){return Xe(Object.assign({element:t,namespace:e,staticDefault:n},et))},Rt=function(e,t,n){return Xe(Object.assign({element:t,namespace:e,staticDefault:n},tt))},Pt=function(e,t){return Xe(Object.assign({element:t,namespace:e},it))};function At(e,t){return Xe(Object.assign({element:t,namespace:e,staticDefault:0},ot))}function It(e,t){return{importer:function(n){if(n.getChild(t,e||n.getNamespace()))return!0},exporter:function(n,r){r&&We(n,e||n.getNamespace(),t)}}}var Nt=function(e,t,n){if(n){var r,i=t,a=Object(p.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i=We(i,o.namespace||i.getNamespace(),o.element)}}catch(s){a.e(s)}finally{a.f()}i.children.push(n.toString())}};function Mt(e,t){return{importer:function(n){var r,i=n,a=Object(p.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!(i=i.getChild(o.element,o.namespace||i.getNamespace())))return t}}catch(s){a.e(s)}finally{a.f()}return i.getText()||t},exporter:function(t,n){Nt(e,t,n)}}}function Dt(e,t){return{importer:function(n){var r,i=n,a=Object(p.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!(i=i.getChild(o.element,o.namespace||i.getNamespace())))return}}catch(c){a.e(c)}finally{a.f()}var s=i.getText();return s?parseInt(s,10):t||void 0},exporter:function(t,n){Nt(e,t,n)}}}function Lt(e){return{importer:function(t){var n,r=t,i=Object(p.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!(r=r.getChild(a.element,a.namespace||r.getNamespace())))return!1}}catch(o){i.e(o)}finally{i.f()}return!0},exporter:function(t,n){if(n){var r,i=t,a=Object(p.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i=We(i,o.namespace||i.getNamespace(),o.element)}}catch(s){a.e(s)}finally{a.f()}}}}}function Ft(e){var t=e.pop();return{importer:function(n,r){var i,a=n,o=Object(p.a)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(!(a=a.getChild(s.element,s.namespace||a.getNamespace())))return[]}}catch(m){o.e(m)}finally{o.f()}var c,u=[],l=He(a,t.namespace||a.getNamespace(),t.element),d=Ve(l,r),f=Object(p.a)(l);try{for(f.s();!(c=f.n()).done;){var h=c.value;ze(h,r.lang)===d&&u.push(h.getText())}}catch(m){f.e(m)}finally{f.f()}return u},exporter:function(n,r,i){if(r.length){var a,o=n,s=Object(p.a)(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;o=We(o,c.namespace||o.getNamespace(),c.element)}}catch(v){s.e(v)}finally{s.f()}var u,l=t.namespace,d=t.element,f=Object(p.a)(r);try{for(f.s();!(u=f.n()).done;){var h=u.value,m=Ue(l||o.getNamespace(),d,i.namespace,o);m.children.push(h),o.appendChild(m)}}catch(v){f.e(v)}finally{f.f()}}}}}function qt(e,t,n){var r,i=new Map,a=new Map,o=Object(p.a)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;"string"===typeof s?(i.set(s,s),a.set(s,s)):(i.set(s[1],s[0]),a.set(s[0],s[1]))}}catch(c){o.e(c)}finally{o.f()}return{importer:function(t){var r,a=Object(p.a)(t.children);try{for(a.s();!(r=a.n()).done;){var o=r.value;if("string"!==typeof o&&(o.getNamespace()===(e||t.getNamespace())&&i.has(o.getName())))return i.get(o.getName())}}catch(c){a.e(c)}finally{a.f()}return n},exporter:function(t,n){a.has(n)&&We(t,e,a.get(n))}}}function Bt(e,t,n,r){var i=new Set(t),a=new Set(n);return{importer:function(t){var n,o=Object(p.a)(t.children);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("string"!==typeof s&&(s.getNamespace()===(e||t.getNamespace())&&i.has(s.getName()))){var c,u=Object(p.a)(s.children);try{for(u.s();!(c=u.n()).done;){var l=c.value;if("string"!==typeof l&&(l.getNamespace()===(e||t.getNamespace())&&a.has(l.getName())))return[s.getName(),l.getName()]}}catch(d){u.e(d)}finally{u.f()}return[s.getName()]}}}catch(d){o.e(d)}finally{o.f()}return r},exporter:function(t,n){var r=We(t,e,n[0]);n[1]&&We(r,e,n[1])}}}function Ut(e,t){return{importer:function(n,r){var i,a=[],o=He(n,e||n.getNamespace(),t),s=Ve(o,r),c=Object(p.a)(o);try{for(c.s();!(i=c.n()).done;){var u=i.value;ze(u,r.lang)===s&&a.push(u.getText())}}catch(l){c.e(l)}finally{c.f()}return a},exporter:function(n,r,i){var a,o=Object(p.a)(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=Ue(e||n.getNamespace(),t,i.namespace,n);c.children.push(s),n.appendChild(c)}}catch(u){o.e(u)}finally{o.f()}}}}function zt(e,t,n){return{importer:function(r){var i,a=[],o=r.getChildren(t,e||r.getNamespace()),s=Object(p.a)(o);try{for(s.s();!(i=s.n()).done;){var c=i.value.getAttribute(n);void 0!==c&&a.push(c)}}catch(u){s.e(u)}finally{s.f()}return a},exporter:function(r,i,a){var o,s=Object(p.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=Ue(e||r.getNamespace(),t,a.namespace,r);u.setAttribute(n,c),r.appendChild(u)}}catch(l){s.e(l)}finally{s.f()}}}}function Vt(e,t,n){return{importer:function(r){var i,a=[],o=r.getChildren(t,e||r.getNamespace()),s=Object(p.a)(o);try{for(s.s();!(i=s.n()).done;){var c=i.value.getAttribute(n);void 0!==c&&a.push(parseInt(c,10))}}catch(u){s.e(u)}finally{s.f()}return a},exporter:function(r,i,a){var o,s=Object(p.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=Ue(e||r.getNamespace(),t,a.namespace,r);u.setAttribute(n,c.toString()),r.appendChild(u)}}catch(l){s.e(l)}finally{s.f()}}}}function Ht(e,t){return{importer:function(n,r){var i,a=[],o=He(n,e||n.getNamespace(),t),s=new Set,c=Object(p.a)(o);try{for(c.s();!(i=c.n()).done;){var u=i.value,l=u.getText();if(l){var d=ze(u,r.lang);if(s.has(d))continue;a.push({lang:d,value:l}),s.add(d)}}}catch(f){c.e(f)}finally{c.f()}return s.size>0?a:void 0},exporter:function(n,r,i){var a,o=Object(p.a)(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.value;if(c){var u=Ue(e||n.getNamespace(),t,i.namespace,n);s.lang!==i.lang&&u.setAttribute("xml:lang",s.lang),u.children.push(c),n.appendChild(u)}}}catch(l){o.e(l)}finally{o.f()}}}}function Wt(e,t){var n,r=new Map,i=new Map,a=Object(p.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;"string"===typeof o?(r.set(o,o),i.set(o,o)):(r.set(o[1],o[0]),i.set(o[0],o[1]))}}catch(s){a.e(s)}finally{a.f()}return{importer:function(t){var n,i=[],a=Object(p.a)(t.children);try{for(a.s();!(n=a.n()).done;){var o=n.value;"string"!==typeof o&&(o.getNamespace()===(e||t.getNamespace())&&r.has(o.getName())&&i.push(r.get(o.getName())))}}catch(s){a.e(s)}finally{a.f()}return i},exporter:function(t,n){var r,a=Object(p.a)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;We(t,e,i.get(o))}}catch(s){a.e(s)}finally{a.f()}}}}function Gt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{importer:function(i,a){var o=i.getChild(t,e||i.getNamespace());if(o){var s,c=[],u=Object(p.a)(o.children);try{for(u.s();!(s=u.n()).done;){var l=s.value;if("string"!==typeof l&&a.registry.getImportKey(l)===n){var d=a.registry.import(l);d&&c.push(d)}}}catch(f){u.e(f)}finally{u.f()}return r?c:c[0]}},exporter:function(r,i,a){var o=[];o=Array.isArray(i)?i:[i];var s,c=[],u=Object(p.a)(o);try{for(u.s();!(s=u.n()).done;){var l=s.value,d=a.registry.export(n,l,Object.assign(Object.assign({},a),{namespace:e||r.getNamespace()||void 0}));d&&c.push(d)}}catch(g){u.e(g)}finally{u.f()}if(c.length){var f,h=We(r,e||r.getNamespace(),t),m=Object(p.a)(c);try{for(m.s();!(f=m.n()).done;){var v=f.value;h.appendChild(v)}}catch(g){m.e(g)}finally{m.f()}}}}}function Qt(e){return{exporter:function(){},importer:function(){return e}}}function $t(e,t,n){return{importer:function(r,i){if(!n||i.sanitizers&&i.sanitizers[n]){var a,o=He(r,e||r.getNamespace(),t),s=Ve(o,i),c=Object(p.a)(o);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(ze(u,i.lang)===s)return n?i.sanitizers[n](u.toJSON()):u.toJSON()}}catch(l){c.e(l)}finally{c.f()}return o[0]?n?i.sanitizers[n](o[0].toJSON()):o[0].toJSON():void 0}},exporter:function(r,i,a){"string"===typeof i&&(i=Be("<".concat(t,' xmlns="').concat(e||r.getNamespace(),'">').concat(i,"</").concat(t,">")).toJSON());if(i&&n){if(!a.sanitizers||!a.sanitizers[n])return;i=a.sanitizers[n](i)}if(i){var o,s=We(r,e||r.getNamespace(),t,a.lang),c=Object(p.a)(i.children);try{for(c.s();!(o=c.n()).done;){var u=o.value;"string"===typeof u?s.appendChild(u):u&&s.appendChild(new xe(u.name,u.attributes,u.children))}}catch(l){c.e(l)}finally{c.f()}}}}}function Kt(e,t,n){return{importer:function(r,i){if(!n||i.sanitizers&&i.sanitizers[n]){var a,o=[],s=new Set,c=He(r,e||r.getNamespace(),t),u=Object(p.a)(c);try{for(u.s();!(a=u.n()).done;){var l=a.value,d=l.toJSON();if(n&&(d=i.sanitizers[n](d)),d){var f=ze(l,i.lang);if(s.has(f))continue;o.push({lang:f,value:d}),s.add(f)}}}catch(h){u.e(h)}finally{u.f()}return s.size>0?o:void 0}},exporter:function(r,i,a){var o,s=Object(p.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=c.value;if("string"===typeof u)u=Be("<".concat(t,' xmlns="').concat(e||r.getNamespace(),'">').concat(u,"</").concat(t,">")).toJSON();if(u&&n){if(!a.sanitizers||!a.sanitizers[n])continue;u=a.sanitizers[n](u)}if(u){var l=Ue(e||r.getNamespace(),t,a.namespace,r);r.appendChild(l),c.lang!==a.lang&&l.setAttribute("xml:lang",c.lang);var d,f=Object(p.a)(u.children);try{for(f.s();!(d=f.n()).done;){var h=d.value;"string"===typeof h?l.appendChild(h):l.appendChild(new xe(h.name,h.attributes,h.children))}}catch(m){f.e(m)}finally{f.f()}}}}catch(m){s.e(m)}finally{s.f()}}}}function Jt(e,t,n,r){return{importer:function(i,a){var o,s={},c=He(i,e,t),u=st(n).importer,l=st(r).importer,d=Object(p.a)(c);try{for(d.s();!(o=d.n()).done;){var f=o.value;s[u(f,a)]=l(f,a)}}catch(h){d.e(h)}finally{d.f()}return s},exporter:function(i,a,o){for(var s=st(n).exporter,c=st(r).exporter,u=e||i.getNamespace(),p=0,d=Object.entries(a);p<d.length;p++){var f=Object(l.a)(d[p],2),h=f[0],m=f[1],v=Ue(u,t,o.namespace,i);s(v,h,o),a[h]&&c(v,m,o),i.appendChild(v)}}}}var Yt=function(){function e(){Object(h.a)(this,e),this.parents=new Set,this.placeholder=!1,this.typeField="",this.versionField="",this.defaultType="",this.defaultVersion="",this.languageField="lang",this.typeValues=new Map,this.typeOrders=new Map,this.importers=new Map,this.exporters=new Map,this.children=new Map,this.childrenIndex=new Map,this.implicitChildren=new Set,this.contexts=new Map}return Object(m.a)(e,[{key:"addChild",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a={multiple:n||!1,name:e,selector:r,translator:t},o=this.children.get(e);if(o){var s=o.translator;o.multiple=n,r&&o.selector&&r!==o.selector&&(o.selector=void 0);var c,u=Object(p.a)(t.importers);try{for(u.s();!(c=u.n()).done;){var d=Object(l.a)(c.value,2),f=d[0],h=d[1],m=(s.typeValues.get(f)||"").split("__v__"),v=Object(l.a)(m,2),g=v[0],y=v[1];s.updateDefinition({contexts:t.contexts,element:h.element,exporterOrdering:new Map,exporters:new Map,importerOrdering:h.fieldOrders,importers:h.fields,namespace:h.namespace,optionalNamespaces:new Map,type:g,version:y}),this.implicitChildren.has(f)||this.childrenIndex.set(f,e)}}catch(A){u.e(A)}finally{u.f()}var b,w=Object(p.a)(t.exporters);try{for(w.s();!(b=w.n()).done;){var k=Object(l.a)(b.value,2),S=k[0],C=k[1],x=S.split("__v__"),j=Object(l.a)(x,2),O=j[0],_=j[1];s.updateDefinition({contexts:t.contexts,element:C.element,exporterOrdering:C.fieldOrders,exporters:C.fields,importerOrdering:new Map,importers:new Map,namespace:C.namespace,optionalNamespaces:C.optionalNamespaces,type:O,version:_})}}catch(A){w.e(A)}finally{w.f()}}else{a.translator.parents.add(this),this.children.set(e,a);var E,T=Object(p.a)(t.importers);try{for(T.s();!(E=T.n()).done;){var R=Object(l.a)(E.value,1),P=R[0];this.implicitChildren.has(P)||this.childrenIndex.set(P,e)}}catch(A){T.e(A)}finally{T.f()}i&&this.implicitChildren.add(i)}}},{key:"addContext",value:function(e,t,n,r,i,a){t&&(e="".concat(e,"[").concat(t,"]"));var o=this.contexts.get(e);o||(o={typeField:"",versionField:"",typeValues:new Map}),a&&(o.impliedType=i),o.typeField=n||"",o.typeValues.set(r,i),this.contexts.set(e,o)}},{key:"getChild",value:function(e){var t=this.children.get(e);if(t)return t.translator}},{key:"getImportKey",value:function(e){return this.childrenIndex.get("{".concat(e.getNamespace(),"}").concat(e.getName()))}},{key:"updateDefinition",value:function(e){var t,n="{".concat(e.namespace,"}").concat(e.element),r=e.type||this.defaultType,i=e.version||this.defaultVersion,a=i?"".concat(r,"__v__").concat(i):r,o=this.importers.get(n)||{element:e.element,fieldOrders:new Map,fields:new Map,namespace:e.namespace},s=Object(p.a)(e.importers);try{for(s.s();!(t=s.n()).done;){var c=Object(l.a)(t.value,2),u=c[0],d=c[1];o.fields.set(u,d)}}catch(ge){s.e(ge)}finally{s.f()}var f,h=Object(p.a)(e.importerOrdering);try{for(h.s();!(f=h.n()).done;){var m=Object(l.a)(f.value,2),v=m[0],g=m[1];o.fieldOrders.set(v,g)}}catch(ge){h.e(ge)}finally{h.f()}this.importers.set(n,o);var y,b=this.exporters.get(a)||{element:e.element,fieldOrders:new Map,fields:new Map,namespace:e.namespace,optionalNamespaces:e.optionalNamespaces},w=Object(p.a)(e.exporters);try{for(w.s();!(y=w.n()).done;){var k=Object(l.a)(y.value,2),S=k[0],C=k[1];b.fields.set(S,C)}}catch(ge){w.e(ge)}finally{w.f()}var x,j=Object(p.a)(e.exporterOrdering);try{for(j.s();!(x=j.n()).done;){var O=Object(l.a)(x.value,2),_=O[0],E=O[1];b.fieldOrders.set(_,E)}}catch(ge){j.e(ge)}finally{j.f()}var T,R=Object(p.a)(e.optionalNamespaces);try{for(R.s();!(T=R.n()).done;){var P=Object(l.a)(T.value,2),A=P[0],I=P[1];b.optionalNamespaces.set(A,I)}}catch(ge){R.e(ge)}finally{R.f()}this.exporters.set(a,b);var N,M=Object(p.a)(e.contexts);try{for(M.s();!(N=M.n()).done;){var D=Object(l.a)(N.value,2),L=D[0],F=D[1],q=this.contexts.get(L)||{impliedType:void 0,typeField:F.typeField,versionField:F.versionField,typeValues:new Map};q.typeField||(q.typeField=F.typeField),q.versionField||(q.versionField=F.versionField),q.impliedType||(q.impliedType=F.impliedType);var B,U=Object(p.a)(F.typeValues);try{for(U.s();!(B=U.n()).done;){var z=Object(l.a)(B.value,2),V=z[0],H=z[1];q.typeValues.set(V,H)}}catch(ge){U.e(ge)}finally{U.f()}this.contexts.set(L,q)}}catch(ge){M.e(ge)}finally{M.f()}if(e.type)this.typeValues.set(n,a),e.typeOrder&&e.type&&this.typeOrders.set(e.type,e.typeOrder);else if(this.typeField&&!e.type){var W,G=Object(p.a)(this.importers);try{for(G.s();!(W=G.n()).done;){var Q,$=Object(l.a)(W.value,2)[1],K=Object(p.a)(e.importers);try{for(K.s();!(Q=K.n()).done;){var J=Object(l.a)(Q.value,2),Y=J[0],X=J[1];$.fields.set(Y,X)}}catch(ge){K.e(ge)}finally{K.f()}var Z,ee=Object(p.a)(e.importerOrdering);try{for(ee.s();!(Z=ee.n()).done;){var te=Object(l.a)(Z.value,2),ne=te[0],re=te[1];$.fieldOrders.set(ne,re)}}catch(ge){ee.e(ge)}finally{ee.f()}}}catch(ge){G.e(ge)}finally{G.f()}var ie,ae=Object(p.a)(this.exporters);try{for(ae.s();!(ie=ae.n()).done;){var oe,se=Object(l.a)(ie.value,2)[1],ce=Object(p.a)(e.exporters);try{for(ce.s();!(oe=ce.n()).done;){var ue=Object(l.a)(oe.value,2),le=ue[0],pe=ue[1];se.fields.set(le,pe)}}catch(ge){ce.e(ge)}finally{ce.f()}var de,fe=Object(p.a)(e.exporterOrdering);try{for(fe.s();!(de=fe.n()).done;){var he=Object(l.a)(de.value,2),me=he[0],ve=he[1];se.fieldOrders.set(me,ve)}}catch(ge){fe.e(ge)}finally{fe.f()}}}catch(ge){ae.e(ge)}finally{ae.f()}}}},{key:"replaceWith",value:function(e){var t,n=Object(p.a)(this.children);try{for(n.s();!(t=n.n()).done;){var r=Object(l.a)(t.value,2),i=r[0],a=r[1];e.children.set(i,a)}}catch(_){n.e(_)}finally{n.f()}var o,s=Object(p.a)(this.childrenIndex);try{for(s.s();!(o=s.n()).done;){var c=Object(l.a)(o.value,2),u=c[0],d=c[1];e.childrenIndex.set(u,d)}}catch(_){s.e(_)}finally{s.f()}var f,h=Object(p.a)(this.contexts);try{for(h.s();!(f=h.n()).done;){var m=Object(l.a)(f.value,2),v=m[0],g=m[1];e.contexts.set(v,g)}}catch(_){h.e(_)}finally{h.f()}var y,b=Object(p.a)(this.implicitChildren);try{for(b.s();!(y=b.n()).done;){var w=y.value;e.implicitChildren.add(w)}}catch(_){b.e(_)}finally{b.f()}var k,S=Object(p.a)(this.parents);try{for(S.s();!(k=S.n()).done;){var C,x=k.value,j=Object(p.a)(x.children.values());try{for(j.s();!(C=j.n()).done;){var O=C.value;O.translator===this&&(O.translator=e)}}catch(_){j.e(_)}finally{j.f()}}}catch(_){S.e(_)}finally{S.f()}this.parents=new Set}},{key:"import",value:function(e,t){var n="{".concat(e.getNamespace(),"}").concat(e.getName()),r={},i=this.importers.get(n);if(i){var a,o=(this.typeValues.get(n)||"").split("__v__"),s=Object(l.a)(o,2),u=s[0],d=s[1],f=t.path||"";if(t.pathSelector&&(a=this.contexts.get("".concat(f,"[").concat(t.pathSelector,"]"))),a||(a=this.contexts.get(f)),a){if(!a.impliedType){var h=a.typeValues.get(n)||"";h&&(r[a.typeField]=h)}}else this.typeField&&u&&u!==this.defaultType&&(r[this.typeField]=u);this.versionField&&d&&d!==this.defaultVersion&&(r[this.versionField]=d);var m,v=Object.assign(Object.assign({},t),{data:r,importer:i,lang:(e.getAttribute("xml:lang")||t.lang||"").toLowerCase(),pathSelector:u,translator:this}),g=Object(c.a)(i.fieldOrders.entries()).sort((function(e,t){return e[1]>t[1]?-1:e[1]<t[1]?1:0})),y=g.filter((function(e){return e[1]>=0})),b=g.filter((function(e){return e[1]<0})),w=Object(p.a)(y);try{for(w.s();!(m=w.n()).done;){var k=Object(l.a)(m.value,1)[0],S=i.fields.get(k);v.path="".concat(t.path,".").concat(k);var C=S(e,v);null!==C&&void 0!==C&&(r[k]=C)}}catch(q){w.e(q)}finally{w.f()}var x,j=Object(p.a)(e.children);try{for(j.s();!(x=j.n()).done;){var O=x.value;if("string"!==typeof O){var _="{".concat(O.getNamespace(),"}").concat(O.getName()),E=this.childrenIndex.get(_);if(E){v.path="".concat(t.path,".").concat(E);var T=this.children.get(E),R=T.translator,P=T.multiple,A=T.selector;if(!A||A===u){var I=R.import(O,v);void 0!==I&&(P?(r[E]||(r[E]=[]),r[E].push(I)):r[E]?r[E]=R.resolveCollision(r[E],I):r[E]=I)}}}}}catch(q){j.e(q)}finally{j.f()}var N,M=Object(p.a)(b);try{for(M.s();!(N=M.n()).done;){var D=Object(l.a)(N.value,1)[0],L=i.fields.get(D);v.path="".concat(t.path,".").concat(D);var F=L(e,v);null!==F&&void 0!==F&&(r[D]=F)}}catch(q){M.e(q)}finally{M.f()}return r}}},{key:"export",value:function(e,t){if(e){var n,r=this.defaultType,i=this.defaultVersion,a=t.path||"";t.pathSelector&&(n=this.contexts.get("".concat(a,"[").concat(t.pathSelector,"]"))),n||(n=this.contexts.get(a)),n?r=n.impliedType||e[n.typeField]||this.defaultType:this.typeField&&(r=e[this.typeField]||this.defaultType),this.versionField&&(i=e[this.versionField]||this.defaultVersion);var o=i?"".concat(r,"__v__").concat(i):r,s=this.exporters.get(o);if(s){var c=Ue(s.namespace,s.element,t.namespace,t.element);t.element&&(c.parent=t.element);var u,d=Object(p.a)(s.optionalNamespaces);try{for(d.s();!(u=d.n()).done;){var f=Object(l.a)(u.value,2),h=f[0],m=f[1];c.addOptionalNamespace(h,m)}}catch(I){d.e(I)}finally{d.f()}var v=Object.assign(Object.assign({},t),{data:e,element:c,exporter:s,lang:(e[this.languageField]||t.lang||"").toLowerCase(),namespace:c.getDefaultNamespace(),pathSelector:r,translator:this}),g=s.fields.get(this.languageField);g&&g(c,e[this.languageField],t);var y=Object.keys(e);y.sort((function(e,t){return(s.fieldOrders.get(e)||1e5)-(s.fieldOrders.get(t)||1e5)}));for(var b=0,w=y;b<w.length;b++){var k=w[b];if(k!==this.languageField){var S=e[k],C=s.fields.get(k);if(C)C(c,S,v);else{var x=this.children.get(k);if(x){v.path="".concat(t.path?t.path+".":"").concat(k);var j=x.translator,O=x.multiple,_=x.selector;if(!_||_===r){var E=void 0;E=O?S:[S];var T,R=Object(p.a)(E);try{for(R.s();!(T=R.n()).done;){var P=T.value,A=j.export(P,v);A&&c.appendChild(A)}}catch(I){R.e(I)}finally{R.f()}}}}}}return c}}}},{key:"resolveCollision",value:function(e,t){return(this.typeOrders.get(e[this.typeField]||this.defaultType)||0)<=(this.typeOrders.get(t[this.typeField]||this.defaultType)||0)?e:t}}]),e}(),Xt=function(){function e(){Object(h.a)(this,e),this.translators=new Map,this.root=new Yt,this.setLanguageResolver(Ce)}return Object(m.a)(e,[{key:"setLanguageResolver",value:function(e){this.languageResolver=e}},{key:"import",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{registry:this};if(this.hasTranslator(e.getNamespace(),e.getName())){t.acceptLanguages||(t.acceptLanguages=[]),t.acceptLanguages=t.acceptLanguages.map((function(e){return e.toLowerCase()})),t.lang&&(t.lang=t.lang.toLowerCase()),t.resolveLanguage||(t.resolveLanguage=this.languageResolver),t.path=this.getImportKey(e),t.sanitizers||(t.sanitizers={xhtmlim:Ie});var n=this.getOrCreateTranslator(e.getNamespace(),e.getName());return n.import(e,Object.assign(Object.assign({},t),{registry:this}))}}},{key:"export",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{registry:this};n.acceptLanguages||(n.acceptLanguages=[]),n.acceptLanguages=n.acceptLanguages.map((function(e){return e.toLowerCase()})),n.lang&&(n.lang=n.lang.toLowerCase()),n.sanitizers||(n.sanitizers={xhtmlim:Ie}),n.path=e;var r,i=e.split(".").filter((function(e){return""!==e})),a=this.root,o=Object(p.a)(i);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=a.getChild(s);if(!c)return;a=c}}catch(u){o.e(u)}finally{o.f()}return a.export(t,Object.assign(Object.assign({},n),{registry:this}))}},{key:"getImportKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t?this.walkToTranslator(t.split(".")):this.root;if(n)return n.getImportKey(e)}},{key:"define",value:function(e){if(Array.isArray(e)){var t,n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;"object"===typeof r?this.define(r):r(this)}}catch(z){n.e(z)}finally{n.f()}}else if("object"===typeof e){var i=e;i.aliases=i.aliases||[],i.path&&!i.aliases.includes(i.path)&&i.aliases.push(i.path);var a,o=i.aliases.map((function(e){return"string"===typeof e?{path:e}:e})).sort((function(e,t){var n=e.path.split(".").length;return t.path.split(".").length-n}));if(this.hasTranslator(i.namespace,i.element)&&(a=this.getOrCreateTranslator(i.namespace,i.element)),!a){var s,c,u=Object(p.a)(o);try{for(u.s();!(c=u.n()).done;){var d=c.value,f=this.walkToTranslator(d.path.split("."));if(f&&!f.placeholder){a=f;break}f&&(s=f)}}catch(z){u.e(z)}finally{u.f()}s&&!a&&((a=s).placeholder=!1)}a||(a=this.getOrCreateTranslator(i.namespace,i.element)),this.indexTranslator(i.namespace,i.element,a);var h=i.fields||{},m=new Map,v=new Map,g=new Map,y=new Map;i.typeField&&(a.typeField=i.typeField),i.defaultType&&(a.defaultType=i.defaultType),i.versionField&&(a.versionField=i.versionField),i.defaultVersion&&(a.defaultVersion=i.defaultVersion),i.languageField&&(a.languageField=i.languageField);for(var b=0,w=Object.entries(h);b<w.length;b++){var k=Object(l.a)(w[b],2),S=k[0],C=k[1];m.set(S,C.importer),g.set(S,C.importOrder||C.order||0),v.set(S,C.exporter),y.set(S,C.exportOrder||C.order||0)}if(i.childrenExportOrder)for(var x=0,j=Object.entries(i.childrenExportOrder);x<j.length;x++){var O=Object(l.a)(j[x],2),_=O[0],E=O[1];y.set(_,E||0)}for(var T=new Map,R=0,P=Object.entries(i.optionalNamespaces||{});R<P.length;R++){var A=Object(l.a)(P[R],2),I=A[0],N=A[1];T.set(I,N)}a.updateDefinition({contexts:new Map,element:i.element,exporterOrdering:y,exporters:v,importerOrdering:g,importers:m,namespace:i.namespace,optionalNamespaces:T,type:i.type,version:i.version,typeOrder:i.typeOrder});var M,D=Object(p.a)(o);try{for(D.s();!(M=D.n()).done;){var L=M.value;this.alias(i.namespace,i.element,L.path,L.multiple,L.selector,L.contextField,i.type,L.impliedType)}}catch(z){D.e(z)}finally{D.f()}var F,q=Object(p.a)(o);try{for(q.s();!(F=q.n()).done;){var B=F.value,U=this.walkToTranslator(B.path.split("."));U&&U!==a&&U.replaceWith(a)}}catch(z){q.e(z)}finally{q.f()}}else e(this)}},{key:"alias",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=this.getOrCreateTranslator(e,t);c.placeholder=!1;var u=n.split(".").filter((function(e){return""!==e})),l=u.pop(),p=this.walkToTranslator(u,!0),d="{".concat(e,"}").concat(t);o&&(a||s)&&c.addContext(n,i,a,d,o,s),p.addChild(l,c,r,i,d)}},{key:"walkToTranslator",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.root,i=Object(p.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.getChild(a);if(!o){if(!n)return;(o=new Yt).placeholder=!0,r.addChild(a,o)}r=o}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"hasTranslator",value:function(e,t){return this.translators.has("{".concat(e,"}").concat(t))}},{key:"getOrCreateTranslator",value:function(e,t){var n=this.translators.get("{".concat(e,"}").concat(t));return n||(n=new Yt,this.indexTranslator(e,t,n)),n}},{key:"indexTranslator",value:function(e,t,n){this.translators.set("{".concat(e,"}").concat(t),n)}}]),e}(),Zt="http://www.w3.org/2005/Atom",en="urn:ietf:params:xml:ns:xmpp-bind",tn="jabber:client",nn="urn:ietf:params:xml:ns:xmpp-sasl",rn="jabber:server",an="urn:ietf:params:xml:ns:xmpp-session",on="urn:ietf:params:xml:ns:xmpp-stanzas",sn="http://etherx.jabber.org/streams",cn="urn:ietf:params:xml:ns:xmpp-streams",un="urn:ietf:params:xml:ns:xmpp-tls",ln="jabber:iq:roster",pn="urn:xmpp:features:rosterver",dn="urn:xmpp:features:pre-approval",fn="urn:ietf:params:xml:ns:xmpp-framing",hn="jabber:x:data",mn="jabber:iq:last",vn="jabber:iq:privacy",gn="http://jabber.org/protocol/disco#info",yn="http://jabber.org/protocol/disco#items",bn="http://jabber.org/protocol/address",wn="http://jabber.org/protocol/muc",kn="http://jabber.org/protocol/muc#admin",Sn="http://jabber.org/protocol/muc#owner",Cn="http://jabber.org/protocol/muc#user",xn="http://jabber.org/protocol/ibb",jn="storage:bookmarks",On="jabber:iq:private",_n="http://jabber.org/protocol/commands",En="vcard-temp",Tn="jabber:iq:search",Rn="http://jabber.org/protocol/rsm",Pn="http://jabber.org/protocol/pubsub",An="http://jabber.org/protocol/pubsub#errors",In="http://jabber.org/protocol/pubsub#event",Nn="http://jabber.org/protocol/pubsub#owner",Mn="http://jabber.org/protocol/bytestreams",Dn="jabber:x:oob",Ln="jabber:iq:oob",Fn="http://www.w3.org/1999/xhtml",qn="http://jabber.org/protocol/xhtml-im",Bn="jabber:iq:register",Un="http://jabber.org/features/iq-register",zn="http://jabber.org/protocol/geoloc",Vn="urn:xmpp:avatar:data",Hn="urn:xmpp:avatar:metadata",Wn="http://jabber.org/protocol/chatstates",Gn="jabber:iq:version",Qn="http://jabber.org/protocol/mood",$n="http://jabber.org/protocol/activity",Kn="jabber:component:accept",Jn="http://jabber.org/protocol/caps",Yn="http://jabber.org/protocol/tune",Xn="http://jabber.org/protocol/xdata-validate",Zn="http://jabber.org/protocol/httpbind",er="http://jabber.org/protocol/shim",tr="http://jabber.org/features/compress",nr="http://jabber.org/protocol/compress",rr="http://jabber.org/protocol/xdata-layout",ir="http://jabber.org/protocol/rosterx",ar="vcard-temp:x:update",or="urn:xmpp:alt-connections:websocket",sr="urn:xmpp:alt-connections:xbosh",cr="urn:xmpp:captcha",ur=function(e){return"".concat(e,"+notify")},lr="urn:xmpp:jingle:1",pr="urn:xmpp:jingle:errors:1",dr="urn:xmpp:jingle:apps:rtp:1",fr="urn:xmpp:jingle:apps:rtp:info:1",hr="urn:xmpp:jingle:apps:rtp:audio",mr="urn:xmpp:jingle:apps:rtp:video",vr="http://jabber.org/protocol/nick",gr="urn:xmpp:jingle:transports:ice-udp:1",yr="urn:xmpp:jingle:transports:raw-udp:1",br="urn:xmpp:receipts",wr="urn:xmpp:invisible:0",kr="urn:xmpp:blocking",Sr="urn:xmpp:blocking:errors",Cr="urn:xmpp:sm:3",xr="urn:xmpp:ping",jr="urn:xmpp:time",Or="urn:xmpp:delay",_r="urn:xmpp:xbosh",Er="urn:xmpp:extdisco:1",Tr="urn:xmpp:extdisco:2",Rr="urn:xmpp:media-element",Pr="urn:xmpp:attention:0",Ar="urn:xmpp:bob",Ir="urn:xmpp:jingle:apps:file-transfer:4",Nr="urn:xmpp:jingle:apps:file-transfer:5",Mr="urn:xmpp:jingle:apps:xmlstream:0",Dr="jabber:x:conference",Lr="urn:xmpp:jingle:transports:s5b:1",Fr="urn:xmpp:jingle:transports:ibb:1",qr="urn:xmpp:thumbs:1",Br="urn:xmpp:carbons:2",Ur="urn:xmpp:jingle:apps:rtp:rtcp-fb:0",zr="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",Vr="urn:xmpp:forward:0",Hr="urn:xmpp:hashes:1",Wr="urn:xmpp:hashes:2",Gr=function(e){return"urn:xmpp:hash-function-text-names:".concat(e)},Qr="urn:xmpp:rtt:0",$r="http://jabber.org/protocol/muc#unique",Kr="urn:xmpp:message-correct:0",Jr="urn:xmpp:psa",Yr="urn:xmpp:mam:1",Xr="urn:xmpp:mam:2",Zr="urn:xmpp:hats:0",ei="urn:xmpp:idle:1",ti="urn:xmpp:jingle:apps:dtls:0",ni="urn:xmpp:chat-markers:0",ri="urn:xmpp:hints",ii="urn:xmpp:json:0",ai="urn:xmpp:jingle:apps:grouping:0",oi="urn:xmpp:jingle:apps:rtp:ssma:0",si="urn:xmpp:jingle:transports:dtls-sctp:1",ci="urn:xmpp:csi:0",ui="urn:xmpp:push:0",li="urn:xmpp:sid:0",pi="urn:xmpp:http:upload:0",di="urn:xmpp:jingle:transports:ice:0",fi="urn:xmpp:reference:0",hi="urn:xmpp:eme:0",mi="eu.siacs.conversations.axolotl",vi="eu.siacs.conversations.axolotl.devicelist",gi="eu.siacs.conversations.axolotl.bundles",yi="urn:xmpp:json-msg:0",bi="http://docs.oasis-open.org/ns/xri/xrd-1.0",wi="urn:xmpp:jingle:apps:rtp:msid:0",ki=Object.freeze({__proto__:null,NS_ATOM:Zt,NS_BIND:en,NS_CLIENT:tn,NS_SASL:nn,NS_SERVER:rn,NS_SESSION:an,NS_STANZAS:on,NS_STREAM:sn,NS_STREAMS:cn,NS_STARTTLS:un,NS_ROSTER:ln,NS_ROSTER_VERSIONING:pn,NS_SUBSCRIPTION_PREAPPROVAL:dn,NS_FRAMING:fn,NS_DATAFORM:hn,NS_RPC:"jabber:iq:rpc",NS_LAST_ACTIVITY:mn,NS_PRIVACY:vn,NS_LEGACY_CHAT_EVENTS:"jabber:x:event",NS_DISCO_INFO:gn,NS_DISCO_ITEMS:yn,NS_ADDRESS:bn,NS_MUC:wn,NS_MUC_ADMIN:kn,NS_MUC_OWNER:Sn,NS_MUC_USER:Cn,NS_IBB:xn,NS_BOOKMARKS:jn,NS_PRIVATE:On,NS_ADHOC_COMMANDS:_n,NS_VCARD_TEMP:En,NS_SEARCH:Tn,NS_RSM:Rn,NS_PUBSUB:Pn,NS_PUBSUB_ERRORS:An,NS_PUBSUB_EVENT:In,NS_PUBSUB_OWNER:Nn,NS_SOCKS5:Mn,NS_OOB:Dn,NS_OOB_TRANSFER:Ln,NS_HTTP_AUTH:"http://jabber.org/protocol/http-auth",NS_XHTML:Fn,NS_XHTML_IM:qn,NS_REGISTER:Bn,NS_INBAND_REGISTRATION:Un,NS_AMP:"http://jabber.org/protocol/amp",NS_GEOLOC:zn,NS_ROSTER_DELIMITER:"roster:delimiter",NS_AVATAR_DATA:Vn,NS_AVATAR_METADATA:Hn,NS_CHAT_STATES:Wn,NS_VERSION:Gn,NS_MOOD:Qn,NS_ACTIVITY:$n,NS_COMPONENT:Kn,NS_DISCO_LEGACY_CAPS:Jn,NS_TUNE:Yn,NS_DATAFORM_VALIDATION:Xn,NS_BOSH:Zn,NS_SHIM:er,NS_COMPRESSION_FEATURE:tr,NS_COMPRESSION:nr,NS_DATAFORM_LAYOUT:rr,NS_ROSTER_EXCHANGE:ir,NS_ROSTER_NOTES:"storage:rosternotes",NS_REACH_0:"urn:xmpp:reach:0",NS_VCARD_TEMP_UPDATE:ar,NS_ALT_CONNECTIONS_WEBSOCKET:or,NS_ALT_CONNECTIONS_XBOSH:sr,NS_CAPTCHA:cr,NS_PEP_NOTIFY:ur,NS_JINGLE_1:lr,NS_JINGLE_ERRORS_1:pr,NS_JINGLE_RTP_1:dr,NS_JINGLE_RTP_ERRORS_1:"urn:xmpp:jingle:apps:rtp:errors:1",NS_JINGLE_RTP_INFO_1:fr,NS_JINGLE_RTP_AUDIO:hr,NS_JINGLE_RTP_VIDEO:mr,NS_LANG_TRANS:"urn:xmpp:langtrans",NS_LANG_TRANS_ITEMS:"urn:xmpp:langtrans:items",NS_NICK:vr,NS_JINGLE_ICE_UDP_1:gr,NS_JINGLE_RAW_UDP_1:yr,NS_RECEIPTS:br,NS_INVISIBLE_0:wr,NS_BLOCKING:kr,NS_BLOCKING_ERRORS:Sr,NS_SMACKS_3:Cr,NS_PING:xr,NS_TIME:jr,NS_DELAY:Or,NS_BOSH_XMPP:_r,NS_DISCO_EXTERNAL_1:Er,NS_DISCO_EXTERNAL_2:Tr,NS_DATAFORM_MEDIA:Rr,NS_ATTENTION_0:Pr,NS_BOB:Ar,NS_SOFTWARE_INFO:"urn:xmpp:dataforms:softwareinfo",NS_JINGLE_FILE_TRANSFER_3:"urn:xmpp:jingle:apps:file-transfer:3",NS_JINGLE_FILE_TRANSFER_4:Ir,NS_JINGLE_FILE_TRANSFER_5:Nr,NS_JINGLE_XML_0:Mr,NS_MUC_DIRECT_INVITE:Dr,NS_SEC_LABEL_0:"urn:xmpp:sec-label:0",NS_SEC_LABEL_CATALOG_2:"urn:xmpp:sec-label:catalog:2",NS_SEC_LABEL_ESS_0:"urn:xmpp:sec-label:ess:0",NS_JINGLE_SOCKS5_1:Lr,NS_JINGLE_IBB_1:Fr,NS_JINGLE_RTP_ZRTP_1:"urn:xmpp:jingle:apps:rtp:zrtp:1",NS_THUMBS_0:"urn:xmpp:thumbs:0",NS_THUMBS_1:qr,NS_DECLOAKING_0:"urn:xmpp:decloaking:0",NS_CARBONS_2:Br,NS_JINGLE_RTP_RTCP_FB_0:Ur,NS_JINGLE_RTP_HDREXT_0:zr,NS_FORWARD_0:Vr,NS_HASHES_1:Hr,NS_HASHES_2:Wr,NS_HASH_NAME:Gr,NS_RTT_0:Qr,NS_MUC_UNIQUE:$r,NS_CORRECTION_0:Kr,NS_PSA:Jr,NS_MAM_TMP:"urn:xmpp:mam:tmp",NS_MAM_0:"urn:xmpp:mam:0",NS_MAM_1:Yr,NS_MAM_2:Xr,NS_HATS_0:Zr,NS_IDLE_1:ei,NS_JINGLE_DTLS_0:ti,NS_CHAT_MARKERS_0:ni,NS_HINTS:ri,NS_JSON_0:ii,NS_JINGLE_GROUPING_0:ai,NS_JINGLE_RTP_SSMA_0:oi,NS_JINGLE_DTLS_SCTP_1:si,NS_CSI_0:ci,NS_JINGLE_MSG_INITIATE_0:"urn:xmpp:jingle:jingle-message:0",NS_DELEGATION_1:"urn:xmpp:delegation:1",NS_PUSH_0:ui,NS_JINGLE_PUB_1:"urn:xmpp:jinglepub:1",NS_SID_0:li,NS_HTTP_UPLOAD_0:pi,NS_JINGLE_HTTP_0:"urn:xmpp:jingle:transports:http:0",NS_JINGLE_HTTP_UPLOAD_0:"urn:xmpp:jingle:transports:http:upload:0",NS_JINGLE_ICE_0:di,NS_REFERENCE_0:fi,NS_EME_0:hi,NS_SPOILER_0:"urn:xmpp:spoiler:0",NS_OMEMO_AXOLOTL:mi,NS_OMEMO_AXOLOTL_DEVICELIST:vi,NS_OMEMO_AXOLOTL_BUNDLES:gi,NS_OMEMO_AXOLOTL_BUNDLE:function(e){return"".concat(gi,":").concat(e)},NS_JSON_MESSAGE_0:yi,NS_XRD:bi,NS_JINGLE_RTP_MSID_0:wi}),Si=st,Ci=gt,xi=Ot;function ji(e,t,n){return{aliases:Array.isArray(n)?n:[n],element:t,fields:{},namespace:e}}function Oi(e){return{element:"message",fields:e,namespace:tn}}function _i(e){return{element:"presence",fields:e,namespace:tn}}function Ei(e){return{element:"iq",fields:e,namespace:tn}}function Ti(e){return{element:"features",fields:e,namespace:sn}}function Ri(e){return{element:"error",fields:e,namespace:on,path:"stanzaError"}}function Pi(){return[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}]}var Ai=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,{objectMode:!0})).closedStream=!1,r.wrappedStream=!1,r.registry=e.registry,r.acceptLanguages=e.acceptLanguages||[],e.wrappedStream&&(r.wrappedStream=!0,r.rootImportKey=e.rootKey),r.parser=new qe({allowComments:e.allowComments}),r.parser.on("error",(function(e){r.destroy(e)})),r.parser.on("startElement",(function(e,t){if(!r.destroyed){if(r.closedStream)return r.destroy(fe.alreadyClosed());var n=new xe(e,t),i=r.registry.getImportKey(n);if(r.wrappedStream&&!r.rootElement){if(r.rootImportKey&&i!==r.rootImportKey)return r.destroy(fe.unknownRoot());var a=r.registry.import(n,{acceptLanguages:r.acceptLanguages,lang:r.lang});return a?(r.rootElement=n,void r.push({event:"stream-start",kind:i,stanza:a,xml:n})):r.destroy(fe.notWellFormed())}r.currentElement?r.currentElement=r.currentElement.appendChild(n):r.currentElement=n}})),r.parser.on("endElement",(function(e){if(!r.destroyed){if(r.wrappedStream&&!r.currentElement)return r.rootElement&&e===r.rootElement.name?(r.closedStream=!0,r.push({event:"stream-end",kind:r.rootImportKey,stanza:{},xml:r.rootElement}),r.end()):(r.closedStream=!0,r.destroy(fe.notWellFormed()));if(!r.currentElement||e!==r.currentElement.name)return r.closedStream=!0,r.destroy(fe.notWellFormed());if(r.currentElement.parent)r.currentElement=r.currentElement.parent;else{r.wrappedStream&&(r.currentElement.parent=r.rootElement);var t=r.registry.getImportKey(r.currentElement),n=r.registry.import(r.currentElement,{acceptLanguages:r.acceptLanguages,lang:r.lang});n&&r.push({kind:t,stanza:n,xml:r.currentElement}),r.currentElement=void 0}}})),r.parser.on("text",(function(e){r.currentElement&&r.currentElement.children.push(e)})),r}return Object(m.a)(n,[{key:"_transform",value:function(e,t,n){this.parser.write(e.toString()),n()}}]),n}(C.Transform);var Ii=Object.freeze({__proto__:null,Registry:Xt,Translator:Yt,XMLElement:xe,define:function(e){return function(t){t.define(e)}},Parser:qe,parse:Be,StreamParser:Ai,escapeXML:we,unescapeXML:ke,escapeXMLText:Se,basicLanguageResolver:Ce,createElement:Ue,getLang:ze,getTargetLang:Ve,findAll:He,findOrCreate:We,attribute:st,booleanAttribute:ct,integerAttribute:ut,floatAttribute:lt,dateAttribute:pt,namespacedAttribute:dt,namespacedBooleanAttribute:ft,namespacedIntegerAttribute:ht,namespacedFloatAttribute:mt,namespacedDateAttribute:vt,childAttribute:gt,childBooleanAttribute:yt,childIntegerAttribute:bt,childFloatAttribute:wt,childDateAttribute:kt,text:St,textJSON:Ct,textBuffer:xt,languageAttribute:jt,childLanguageAttribute:function(e,t){return Ke(Object.assign({converter:jt(),element:t,name:"xml:lang",namespace:e},Ze))},childText:Ot,childTextBuffer:_t,childDate:Et,childInteger:Tt,childFloat:Rt,childJSON:Pt,childTimezoneOffset:At,childBoolean:It,deepChildText:Mt,deepChildInteger:Dt,deepChildBoolean:Lt,deepMultipleChildText:Ft,childEnum:qt,childDoubleEnum:Bt,multipleChildText:Ut,multipleChildAttribute:zt,multipleChildIntegerAttribute:Vt,childAlternateLanguageText:Ht,multipleChildAlternateLanguageText:function(e,t){return{importer:function(n,r){var i,a=[],o=new Map,s=!1,c=He(n,e||n.getNamespace(),t),u=Object(p.a)(c);try{for(u.s();!(i=u.n()).done;){var l=i.value,d=l.getText();if(d){var f=ze(l,r.lang),h=o.get(f);h||(h=[],o.set(f,h),a.push({lang:f,value:h})),h.push(d),s=!0}}}catch(m){u.e(m)}finally{u.f()}return s?a:void 0},exporter:function(n,r,i){var a,o=Object(p.a)(r);try{for(o.s();!(a=o.n()).done;){var s,c=a.value,u=Object(p.a)(c.value);try{for(u.s();!(s=u.n()).done;){var l=s.value,d=Ue(e||n.getNamespace(),t,i.namespace,n);c.lang!==i.lang&&d.setAttribute("xml:lang",c.lang),d.children.push(l),n.appendChild(d)}}catch(f){u.e(f)}finally{u.f()}}}catch(f){o.e(f)}finally{o.f()}}}},multipleChildEnum:Wt,splicePath:Gt,staticValue:Qt,childRawElement:function(e,t,n){return{importer:function(r,i){if(!n||i.sanitizers&&i.sanitizers[n]){var a=r.getChild(t,e||r.getNamespace());return a?n?i.sanitizers[n](a.toJSON()):a.toJSON():void 0}},exporter:function(r,i,a){"string"===typeof i&&(i=Be("<".concat(t,' xmlns="').concat(e||r.getNamespace(),'">').concat(i,"</").concat(t,">")).toJSON());if(n){if(!a.sanitizers||!a.sanitizers[n])return;i=a.sanitizers[n](i)}i&&r.appendChild(new xe(i.name,i.attributes,i.children))}}},childLanguageRawElement:$t,childAlternateLanguageRawElement:Kt,parameterMap:Jt,JIDAttribute:Si,childJIDAttribute:Ci,childJID:xi,addAlias:ji,extendMessage:Oi,extendPresence:_i,extendIQ:Ei,extendStreamFeatures:Ti,extendStanzaError:Ri,pubsubItemContentAliases:Pi}),Ni=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(t,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"be";return Object(h.a)(this,r),(a=n.call(this))._block=e.alloc(t),a._finalSize=i,a._blockSize=t,a._bigEndian="be"===o,a._len=0,a}return Object(m.a)(r,[{key:"_transform",value:function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)}},{key:"_flush",value:function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)}},{key:"update",value:function(t,n){"string"===typeof t&&(n=n||"utf8",t=e.from(t,n));for(var r=this._block,i=this._blockSize,a=t.length,o=this._len,s=0;s<a;){for(var c=o%i,u=Math.min(a-s,i-c),l=0;l<u;l++)r[c+l]=t[s+l];s+=u,(o+=u)%i===0&&this._update(r)}return this._len+=a,this}},{key:"digest",value:function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._bigEndian?(this._block.writeUInt32BE(0,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)):(this._block.writeUInt32LE(n,this._blockSize-8),this._block.writeUInt32LE(0,this._blockSize-4));else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._bigEndian?(this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)):(this._block.writeUInt32LE(r,this._blockSize-8),this._block.writeUInt32LE(i,this._blockSize-4))}this._update(this._block);var a=this._hash();return e?a.toString(e):a}},{key:"_update",value:function(e){throw new Error("_update must be implemented by subclass")}},{key:"_hash",value:function(){throw new Error("_update must be implemented by subclass")}}]),r}(C.Transform);function Mi(e,t){return e<<t|e>>>32-t}function Di(e,t,n,r,i,a,o){return Mi(e+(t&n|~t&r)+i+a|0,o)+t|0}function Li(e,t,n,r,i,a,o){return Mi(e+(t&r|n&~r)+i+a|0,o)+t|0}function Fi(e,t,n,r,i,a,o){return Mi(e+(t^n^r)+i+a|0,o)+t|0}function qi(e,t,n,r,i,a,o){return Mi(e+(n^(t|~r))+i+a|0,o)+t|0}var Bi=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(){var e;return Object(h.a)(this,r),(e=n.call(this,64,56,"le"))._a=1732584193,e._b=4023233417,e._c=2562383102,e._d=271733878,e._m=new Array(16),e}return Object(m.a)(r,[{key:"_update",value:function(e){for(var t=this._m,n=0;n<16;++n)t[n]=e.readInt32LE(4*n);var r=this._a,i=this._b,a=this._c,o=this._d;r=Di(r,i,a,o,t[0],3614090360,7),o=Di(o,r,i,a,t[1],3905402710,12),a=Di(a,o,r,i,t[2],606105819,17),i=Di(i,a,o,r,t[3],3250441966,22),r=Di(r,i,a,o,t[4],4118548399,7),o=Di(o,r,i,a,t[5],1200080426,12),a=Di(a,o,r,i,t[6],2821735955,17),i=Di(i,a,o,r,t[7],4249261313,22),r=Di(r,i,a,o,t[8],1770035416,7),o=Di(o,r,i,a,t[9],2336552879,12),a=Di(a,o,r,i,t[10],4294925233,17),i=Di(i,a,o,r,t[11],2304563134,22),r=Di(r,i,a,o,t[12],1804603682,7),o=Di(o,r,i,a,t[13],4254626195,12),a=Di(a,o,r,i,t[14],2792965006,17),r=Li(r,i=Di(i,a,o,r,t[15],1236535329,22),a,o,t[1],4129170786,5),o=Li(o,r,i,a,t[6],3225465664,9),a=Li(a,o,r,i,t[11],643717713,14),i=Li(i,a,o,r,t[0],3921069994,20),r=Li(r,i,a,o,t[5],3593408605,5),o=Li(o,r,i,a,t[10],38016083,9),a=Li(a,o,r,i,t[15],3634488961,14),i=Li(i,a,o,r,t[4],3889429448,20),r=Li(r,i,a,o,t[9],568446438,5),o=Li(o,r,i,a,t[14],3275163606,9),a=Li(a,o,r,i,t[3],4107603335,14),i=Li(i,a,o,r,t[8],1163531501,20),r=Li(r,i,a,o,t[13],2850285829,5),o=Li(o,r,i,a,t[2],4243563512,9),a=Li(a,o,r,i,t[7],1735328473,14),r=Fi(r,i=Li(i,a,o,r,t[12],2368359562,20),a,o,t[5],4294588738,4),o=Fi(o,r,i,a,t[8],2272392833,11),a=Fi(a,o,r,i,t[11],1839030562,16),i=Fi(i,a,o,r,t[14],4259657740,23),r=Fi(r,i,a,o,t[1],2763975236,4),o=Fi(o,r,i,a,t[4],1272893353,11),a=Fi(a,o,r,i,t[7],4139469664,16),i=Fi(i,a,o,r,t[10],3200236656,23),r=Fi(r,i,a,o,t[13],681279174,4),o=Fi(o,r,i,a,t[0],3936430074,11),a=Fi(a,o,r,i,t[3],3572445317,16),i=Fi(i,a,o,r,t[6],76029189,23),r=Fi(r,i,a,o,t[9],3654602809,4),o=Fi(o,r,i,a,t[12],3873151461,11),a=Fi(a,o,r,i,t[15],530742520,16),r=qi(r,i=Fi(i,a,o,r,t[2],3299628645,23),a,o,t[0],4096336452,6),o=qi(o,r,i,a,t[7],1126891415,10),a=qi(a,o,r,i,t[14],2878612391,15),i=qi(i,a,o,r,t[5],4237533241,21),r=qi(r,i,a,o,t[12],1700485571,6),o=qi(o,r,i,a,t[3],2399980690,10),a=qi(a,o,r,i,t[10],4293915773,15),i=qi(i,a,o,r,t[1],2240044497,21),r=qi(r,i,a,o,t[8],1873313359,6),o=qi(o,r,i,a,t[15],4264355552,10),a=qi(a,o,r,i,t[6],2734768916,15),i=qi(i,a,o,r,t[13],1309151649,21),r=qi(r,i,a,o,t[4],4149444226,6),o=qi(o,r,i,a,t[11],3174756917,10),a=qi(a,o,r,i,t[2],718787259,15),i=qi(i,a,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+a|0,this._d=this._d+o|0}},{key:"_hash",value:function(){var t=e.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t}}]),r}(Ni),Ui=[1518500249,1859775393,-1894007588,-899497514];function zi(e){return e<<5|e>>>27}function Vi(e){return e<<30|e>>>2}function Hi(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var Wi=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(){var e;return Object(h.a)(this,r),(e=n.call(this,64,56))._a=1732584193,e._b=4023233417,e._c=2562383102,e._d=271733878,e._e=3285377520,e._w=new Array(80),e}return Object(m.a)(r,[{key:"_update",value:function(e){var t,n,r=this._w,i=0|this._a,a=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e;for(t=0;t<16;++t)r[t]=e.readInt32BE(4*t);for(;t<80;++t)r[t]=(n=r[t-3]^r[t-8]^r[t-14]^r[t-16])<<1|n>>>31;for(var u=0;u<80;++u){var l=~~(u/20),p=zi(i)+Hi(l,a,o,s)+c+r[u]+Ui[l]|0;c=s,s=o,o=Vi(a),a=i,i=p}this._a=i+this._a|0,this._b=a+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0}},{key:"_hash",value:function(){var t=e.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t}}]),r}(Ni),Gi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qi(e,t,n){return n^e&(t^n)}function $i(e,t,n){return e&t|n&(e|t)}function Ki(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function Ji(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function Yi(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}var Xi=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(){var e;return Object(h.a)(this,r),(e=n.call(this,64,56))._a=1779033703,e._b=3144134277,e._c=1013904242,e._d=2773480762,e._e=1359893119,e._f=2600822924,e._g=528734635,e._h=1541459225,e._w=new Array(64),e}return Object(m.a)(r,[{key:"_update",value:function(e){var t,n,r=this._w,i=0|this._a,a=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,u=0|this._f,l=0|this._g,p=0|this._h;for(t=0;t<16;++t)r[t]=e.readInt32BE(4*t);for(;t<64;++t)r[t]=0|(((n=r[t-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10)+r[t-7]+Yi(r[t-15])+r[t-16];for(var d=0;d<64;++d){var f=p+Ji(c)+Qi(c,u,l)+Gi[d]+r[d]|0,h=Ki(i)+$i(i,a,o)|0;p=l,l=u,u=c,c=s+f|0,s=o,o=a,a=i,i=f+h|0}this._a=i+this._a|0,this._b=a+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=u+this._f|0,this._g=l+this._g|0,this._h=p+this._h|0}},{key:"_hash",value:function(){var t=e.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t}}]),r}(Ni),Zi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ea(e,t,n){return n^e&(t^n)}function ta(e,t,n){return e&t|n&(e|t)}function na(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function ra(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function ia(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function aa(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function oa(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function sa(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function ca(e,t){return e>>>0<t>>>0?1:0}var ua=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(){var e;return Object(h.a)(this,r),(e=n.call(this,128,112))._ah=1779033703,e._bh=3144134277,e._ch=1013904242,e._dh=2773480762,e._eh=1359893119,e._fh=2600822924,e._gh=528734635,e._hh=1541459225,e._al=4089235720,e._bl=2227873595,e._cl=4271175723,e._dl=1595750129,e._el=2917565137,e._fl=725511199,e._gl=4215389547,e._hl=327033209,e._w=new Array(160),e}return Object(m.a)(r,[{key:"_update",value:function(e){var t,n,r=this._w,i=0|this._ah,a=0|this._bh,o=0|this._ch,s=0|this._dh,c=0|this._eh,u=0|this._fh,l=0|this._gh,p=0|this._hh,d=0|this._al,f=0|this._bl,h=0|this._cl,m=0|this._dl,v=0|this._el,g=0|this._fl,y=0|this._gl,b=0|this._hl,w=0;for(w=0;w<32;w+=2)r[w]=e.readInt32BE(4*w),r[w+1]=e.readInt32BE(4*w+4);for(;w<160;w+=2){var k=r[w-30],S=r[w-30+1],C=ia(k,S),x=aa(S,k),j=oa(k=r[w-4],S=r[w-4+1]),O=sa(S,k),_=r[w-14],E=r[w-14+1],T=r[w-32],R=r[w-32+1];t=(t=(t=C+_+ca(n=x+E|0,x)|0)+j+ca(n=n+O|0,O)|0)+T+ca(n=n+R|0,R)|0,r[w]=t,r[w+1]=n}for(var P=0;P<160;P+=2){t=r[P],n=r[P+1];var A=ta(i,a,o),I=ta(d,f,h),N=na(i,d),M=na(d,i),D=ra(c,v),L=ra(v,c),F=Zi[P],q=Zi[P+1],B=ea(c,u,l),U=ea(v,g,y),z=b+L|0,V=p+D+ca(z,b)|0;V=(V=(V=V+B+ca(z=z+U|0,U)|0)+F+ca(z=z+q|0,q)|0)+t+ca(z=z+n|0,n)|0;var H=M+I|0,W=N+A+ca(H,M)|0;p=l,b=y,l=u,y=g,u=c,g=v,c=s+V+ca(v=m+z|0,m)|0,s=o,m=h,o=a,h=f,a=i,f=d,i=V+W+ca(d=z+H|0,z)|0}this._al=this._al+d|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+m|0,this._el=this._el+v|0,this._fl=this._fl+g|0,this._gl=this._gl+y|0,this._hl=this._hl+b|0,this._ah=this._ah+i+ca(this._al,d)|0,this._bh=this._bh+a+ca(this._bl,f)|0,this._ch=this._ch+o+ca(this._cl,h)|0,this._dh=this._dh+s+ca(this._dl,m)|0,this._eh=this._eh+c+ca(this._el,v)|0,this._fh=this._fh+u+ca(this._fl,g)|0,this._gh=this._gh+l+ca(this._gl,y)|0,this._hh=this._hh+p+ca(this._hl,b)|0}},{key:"_hash",value:function(){var t=e.allocUnsafe(64);function n(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return n(this._ah,this._al,0),n(this._bh,this._bl,8),n(this._ch,this._cl,16),n(this._dh,this._dl,24),n(this._eh,this._el,32),n(this._fh,this._fl,40),n(this._gh,this._gl,48),n(this._hh,this._hl,56),t}}]),r}(Ni),la=new Map([["md5",Bi],["sha-1",Wi],["sha-256",Xi],["sha-512",ua],["sha1",Wi],["sha256",Xi],["sha512",ua]]);function pa(e){e=e.toLowerCase();var t=la.get(e);if(t)return new t;throw new Error("Unsupported hash algorithm: "+e)}var da,fa=e.alloc(128),ha=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(t,i){var a;Object(h.a)(this,r),a=n.call(this),"string"===typeof i&&(i=e.from(i));var o="sha512"===t?128:64;a._alg=t,i.length>o?i=pa(t).update(i).digest():i.length<o&&(i=e.concat([i,fa],o)),a._ipad=e.alloc(o),a._opad=e.alloc(o);for(var s=0;s<o;s++)a._ipad[s]=54^i[s],a._opad[s]=92^i[s];return a._hash=pa(t).update(a._ipad),a}return Object(m.a)(r,[{key:"_transform",value:function(e,t,n){var r;try{this.update(e,t)}catch(i){r=i}finally{n(r)}}},{key:"_flush",value:function(e){var t;try{this.push(this._final())}catch(n){t=n}e(t)}},{key:"_final",value:function(){var e=this._hash.digest();return pa(this._alg).update(this._opad).update(e).digest()}},{key:"update",value:function(e,t){return this._hash.update(e,t),this}},{key:"digest",value:function(t){var n=this._final()||e.alloc(0);return t?n.toString(t):n}}]),r}(C.Transform);function ma(t){var n=new Uint8Array(t);return t>0&&(da.crypto||da.msCrypto).getRandomValues(n),e.from(n.buffer)}"undefined"!==typeof window?da=window:"undefined"!==typeof r&&(da=r);var va=fetch,ga=WebSocket,ya=da.RTCPeerConnection,ba=function(){function e(t){Object(h.a)(this,e),this.authenticated=!1,this.mutuallyAuthenticated=!1,this.name=t}return Object(m.a)(e,[{key:"getCacheableCredentials",value:function(){return null}},{key:"processChallenge",value:function(e){}},{key:"processSuccess",value:function(e){this.authenticated=!0}},{key:"finalize",value:function(){var e={authenticated:this.authenticated,mutuallyAuthenticated:this.mutuallyAuthenticated};return this.errorData&&(e.errorData=this.errorData),e}}]),e}(),wa=function(){function e(){Object(h.a)(this,e),this.mechanisms=[]}return Object(m.a)(e,[{key:"register",value:function(e,t,n){this.mechanisms.push({constructor:t,name:e.toUpperCase(),priority:n}),this.mechanisms.sort((function(e,t){return t.priority-e.priority}))}},{key:"disable",value:function(e){var t=e.toUpperCase();this.mechanisms=this.mechanisms.filter((function(e){return e.name!==t}))}},{key:"createMechanism",value:function(e){var t,n=e.map((function(e){return e.toUpperCase()})),r=Object(p.a)(this.mechanisms);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=Object(p.a)(n);try{for(o.s();!(i=o.n()).done;){if(i.value===a.name)return new a.constructor(a.name)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}}]),e}();function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return ma(e).toString("hex")}function Sa(t,n){for(var r=[],i=0;i<t.length;i++)r.push(t[i]^n[i]);return e.from(r)}function Ca(e,t){return pa(t).update(e).digest()}function xa(e,t,n){return function(e,t){return new ha(e.toLowerCase(),t)}(n,e).update(t).digest()}function ja(t,n,r,i){for(var a=xa(t,e.concat([n,e.from("00000001","hex")]),i),o=a,s=0;s<r-1;s++)o=Sa(o,a=xa(t,a,i));return o}function Oa(e){for(var t={},n=e.toString().split(/,(?=(?:[^"]|"[^"]*")*$)/),r=0,i=n.length;r<i;r++){var a=/(\w+)=["]?([^"]+)["]?$/.exec(n[r]);a&&(t[a[1]]=a[2])}return t}function _a(e){var t,n=[],r=Object(p.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;","===i?n.push("=2C"):"="===i?n.push("=3D"):n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n.join("")}var Ea=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(){return Object(h.a)(this,r),n.apply(this,arguments)}return Object(m.a)(r,[{key:"getExpectedCredentials",value:function(){return{optional:["trace"],required:[]}}},{key:"createResponse",value:function(t){return e.from(t.trace||"")}}]),r}(ba),Ta=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(){return Object(h.a)(this,r),n.apply(this,arguments)}return Object(m.a)(r,[{key:"getExpectedCredentials",value:function(){return{optional:["authzid"],required:[]}}},{key:"createResponse",value:function(t){return e.from(t.authzid||"")}}]),r}(ba),Ra=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(){return Object(h.a)(this,r),n.apply(this,arguments)}return Object(m.a)(r,[{key:"getExpectedCredentials",value:function(){return{optional:["authzid"],required:["username","password"]}}},{key:"createResponse",value:function(t){return e.from((t.authzid||"")+"\0"+t.username+"\0"+(t.password||t.token))}}]),r}(ba),Pa=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(e){var t;return Object(h.a)(this,r),(t=n.call(this,e)).failed=!1,t.name=e,t}return Object(m.a)(r,[{key:"getExpectedCredentials",value:function(){return{optional:["authzid"],required:["token"]}}},{key:"createResponse",value:function(t){if(this.failed)return e.from("\x01");var n="n,".concat(_a(X(t.authzid)),","),r="auth=Bearer ".concat(t.token,"\x01");return e.from(n+"\x01"+r+"\x01","utf8")}},{key:"processChallenge",value:function(e){this.failed=!0,this.errorData=JSON.parse(e.toString("utf8"))}}]),r}(ba),Aa=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(e){var t;return Object(h.a)(this,r),(t=n.call(this,e)).providesMutualAuthentication=!1,t.state="INITIAL",t.name=e,t}return Object(m.a)(r,[{key:"processChallenge",value:function(e){this.state="CHALLENGE";var t=Oa(e);this.authenticated=!!t.rspauth,this.realm=t.realm,this.nonce=t.nonce,this.charset=t.charset}},{key:"getExpectedCredentials",value:function(){return{optional:["authzid","clientNonce","realm"],required:["host","password","serviceName","serviceType","username"]}}},{key:"createResponse",value:function(t){if("INITIAL"===this.state||this.authenticated)return null;var n=t.serviceType+"/"+t.host;t.serviceName&&t.host!==t.serviceName&&(n+="/"+t.serviceName);var r=t.realm||this.realm||"",i=t.clientNonce||ka(16),a="00000001",o="auth",s="";s+='username="'+t.username+'"',r&&(s+=',realm="'+r+'"'),s+=',nonce="'+this.nonce+'"',s+=',cnonce="'+i+'"',s+=",nc="+a,s+=",qop=auth",s+=',digest-uri="'+n+'"';var c=pa("md5").update(t.username).update(":").update(r).update(":").update(t.password).digest(),u=pa("md5").update(c).update(":").update(this.nonce).update(":").update(i);t.authzid&&u.update(":").update(t.authzid);var l=u.digest("hex"),p=pa("md5").update("AUTHENTICATE:").update(n).digest("hex");return s+=",response="+pa("md5").update(l).update(":").update(this.nonce).update(":").update(a).update(":").update(i).update(":").update(o).update(":").update(p).digest("hex"),"utf-8"===this.charset&&(s+=",charset=utf-8"),t.authzid&&(s+=',authzid="'+t.authzid+'"'),e.from(s)}}]),r}(ba),Ia=function(){function t(e){Object(h.a)(this,t),this.providesMutualAuthentication=!0,this.name=e,this.state="INITIAL",this.useChannelBinding=this.name.toLowerCase().endsWith("-plus"),this.algorithm=this.name.toLowerCase().split("scram-")[1].split("-plus")[0]}return Object(m.a)(t,[{key:"getExpectedCredentials",value:function(){var e=["username","password"];return this.useChannelBinding&&e.push("tlsUnique"),{optional:["authzid","clientNonce"],required:e}}},{key:"getCacheableCredentials",value:function(){return this.cache}},{key:"createResponse",value:function(e){return"INITIAL"===this.state?this.initialResponse(e):this.challengeResponse(e)}},{key:"processChallenge",value:function(t){var n=Oa(t);this.salt=e.from(n.s||"","base64"),this.iterationCount=parseInt(n.i,10),this.nonce=n.r,this.verifier=n.v,this.error=n.e,this.challenge=t}},{key:"processSuccess",value:function(e){this.processChallenge(e)}},{key:"finalize",value:function(){return this.verifier?this.serverSignature.toString("base64")!==this.verifier?{authenticated:!1,error:"Mutual authentication failed",mutuallyAuthenticated:!1}:{authenticated:!0,mutuallyAuthenticated:!0}:{authenticated:!1,error:this.error,mutuallyAuthenticated:!1}}},{key:"initialResponse",value:function(t){var n=_a(X(t.authzid)),r=_a(X(t.username));this.clientNonce=t.clientNonce||ka();var i="n";t.tlsUnique&&(i=this.useChannelBinding?"p=tls-unique":"y"),this.gs2Header=e.from(n?"".concat(i,",a=").concat(n,","):"".concat(i,",,")),this.clientFirstMessageBare=e.from("n=".concat(r,",r=").concat(this.clientNonce));var a=e.concat([this.gs2Header,this.clientFirstMessageBare]);return this.state="CHALLENGE",a}},{key:"challengeResponse",value:function(t){var n,r,i,a=e.from("Client Key"),o=e.from("Server Key"),s=e.concat([this.gs2Header,t.tlsUnique||e.from("")]).toString("base64"),c=e.from("c=".concat(s,",r=").concat(this.nonce)),u=t.salt&&0===e.compare(t.salt,this.salt);u&&t.clientKey&&t.serverKey?(r=e.from(t.clientKey),i=e.from(t.serverKey)):u&&t.saltedPassword?(r=xa(n=e.from(t.saltedPassword),a,this.algorithm),i=xa(n,o,this.algorithm)):(r=xa(n=ja(e.from(X(t.password)),this.salt,this.iterationCount,this.algorithm),a,this.algorithm),i=xa(n,o,this.algorithm));var l=Ca(r,this.algorithm),p=e.from(","),d=e.concat([this.clientFirstMessageBare,p,this.challenge,p,c]),f=Sa(r,xa(l,d,this.algorithm)).toString("base64");this.serverSignature=xa(i,d,this.algorithm);var h=e.concat([c,e.from(",p=".concat(f))]);return this.state="FINAL",this.cache={clientKey:r,salt:this.salt,saltedPassword:n,serverKey:i},h}}]),t}();function Na(e){var t=this;e.getAccountInfo=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({account:{},to:n,type:"get"});case 2:return r=t.sent,t.abrupt("return",r.account);case 4:case"end":return t.stop()}}),t)})))},e.updateAccount=function(t,n){return e.sendIQ({account:n,to:t,type:"set"})},e.deleteAccount=function(t){return e.sendIQ({account:{remove:!0},to:t,type:"set"})},e.getPrivateData=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({privateStorage:Object(s.a)({},n,{}),type:"get"});case 2:return r=t.sent,t.abrupt("return",r.privateStorage[n]);case 4:case"end":return t.stop()}}),t)})))},e.setPrivateData=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendIQ({privateStorage:Object(s.a)({},n,r),type:"set"}));case 1:case"end":return t.stop()}}),t)})))},e.getVCard=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({to:n,type:"get",vcard:{format:En}});case 2:return r=t.sent,t.abrupt("return",r.vcard);case 4:case"end":return t.stop()}}),t)})))},e.publishVCard=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({type:"set",vcard:n});case 2:case"end":return t.stop()}}),t)})))},e.enableNotifications=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.sendIQ({push:{action:"enable",form:{fields:[{name:"FORM_TYPE",type:"hidden",value:"http://jabber.org/protocol/pubsub#publish-options"}].concat(Object(c.a)(r)),type:"submit"},jid:t,node:n},type:"set"})},e.disableNotifications=function(t,n){return e.sendIQ({push:{action:"disable",jid:t,node:n},type:"set"})}}function Ma(e){e.disco.addFeature(ur(Hn)),e.on("pubsub:published",(function(t){if(t.pubsub.items.node===Hn){var n=t.pubsub.items.published[0].content;e.emit("avatar",{avatars:n.versions||[],jid:t.from,source:"pubsub"})}})),e.on("presence",(function(t){t.vcardAvatar&&"string"===typeof t.vcardAvatar&&e.emit("avatar",{avatars:[{id:t.vcardAvatar}],jid:t.from,source:"vcard"})})),e.publishAvatar=function(t,n){return e.publish("",Vn,{data:n,itemType:Vn},t)},e.useAvatars=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.publish("",Hn,{itemType:Hn,pointers:n,versions:t},"current")},e.getAvatar=function(t,n){return e.getItem(t,Vn,n)}}function Da(e){var t=this;e.registerFeature("bind",300,(function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sendIQ({bind:{resource:e.config.resource},type:"set"});case 3:return i=t.sent,e.features.negotiated.bind=!0,e.emit("session:prebind",i.bind.jid),a=!n.legacySession||n.legacySession&&n.legacySession.optional,!e.sessionStarted&&a&&e.emit("session:started",e.jid),t.abrupt("return",r());case 11:return t.prev=11,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",r("disconnect","JID binding failed"));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))})),e.registerFeature("legacySession",1e3,(function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.sessionStarted||n.legacySession&&n.legacySession.optional)){t.next=3;break}return e.features.negotiated.session=!0,t.abrupt("return",r());case 3:return t.prev=3,t.next=6,e.sendIQ({legacySession:!0,type:"set"});case 6:return e.features.negotiated.session=!0,e.sessionStarted||(e.sessionStarted=!0,e.emit("session:started",e.jid)),t.abrupt("return",r());case 11:return t.prev=11,t.t0=t.catch(3),t.abrupt("return",r("disconnect","Session requeset failed"));case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))})),e.on("session:started",(function(){e.sessionStarted=!0})),e.on("session:prebind",(function(t){e.jid=t,e.emit("session:bound",e.jid)})),e.on("--reset-stream-features",(function(){e.sessionStarted=!1,e.features.negotiated.bind=!1,e.features.negotiated.session=!1}))}function La(e){e.disco.addFeature(_n),e.disco.addItem({name:"Ad-Hoc Commands",node:_n}),e.getCommands=function(t){return e.getDiscoItems(t,_n)}}for(var Fa=[],qa=0;qa<256;++qa)Fa[qa]=(qa+256).toString(16).substr(1);function Ba(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return Object(y.a)(this,void 0,void 0,f.a.mark((function r(){var i,a;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.race([e,new Promise((function(e,r){i=setTimeout((function(){return r(n())}),t)}))]);case 2:return a=r.sent,clearTimeout(i),r.abrupt("return",a);case 5:case"end":return r.stop()}}),r)})))}function Ua(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t()}),e)})));case 1:case"end":return t.stop()}}),t)})))}function za(t,n){var r="string"===typeof t?e.from(t,"utf8"):t,i="string"===typeof n?e.from(n,"utf8"):n;return r.compare(i)}function Va(){var e=ma(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;var t=0;return[Fa[e[t++]],Fa[e[t++]],Fa[e[t++]],Fa[e[t++]],"-",Fa[e[t++]],Fa[e[t++]],"-",Fa[e[t++]],Fa[e[t++]],"-",Fa[e[t++]],Fa[e[t++]],"-",Fa[e[t++]],Fa[e[t++]],Fa[e[t++]],Fa[e[t++]],Fa[e[t++]],Fa[e[15]]].join("")}var Ha=new Set(["date","expires","httpUploadRetry","idleSince","published","since","stamp","timestamp","updated","utc"]),Wa=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)(?:Z|((\+|-)([\d|:]*)))?$/;var Ga=Object.freeze({__proto__:null,timeoutPromise:Ba,sleep:Ua,octetCompare:za,uuid:Va,reviveData:function(t,n){return Ha.has(t)&&n&&"string"===typeof n&&Wa.test(n)?new Date(n):n&&"object"===typeof n&&"Buffer"===n.type&&Array.isArray(n.data)?e.from(n):n}});function Qa(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.sm.started){t.next=2;break}return t.abrupt("return",new Promise((function(t){e.once("stream:management:ack",(function(){return t()})),e.sm.request()})));case 2:return t.prev=2,t.next=5,e.ping();case 5:t.next=14;break;case 7:if(t.prev=7,t.t0=t.catch(2),!t.t0.error||"timeout"===t.t0.error.condition){t.next=13;break}return t.abrupt("return");case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,7]])})))}function $a(e,t){e.features.negotiated.clientStateIndication&&e.send("csi",{type:t})}function Ka(e){var t=this;e.disco.addFeature(xr),e.on("iq:get:ping",(function(t){e.sendIQResult(t)})),e.on("--reset-stream-features",(function(){e.disableKeepAlive(),e.features.negotiated.streamManagement=!1,e.features.negotiated.clientStateIndication=!1})),e.markActive=function(){return $a(e,"active")},e.markInactive=function(){return $a(e,"inactive")},e.ping=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({ping:!0,to:n,type:"get"});case 2:case"end":return t.stop()}}),t)})))},e.enableKeepAlive=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.interval||300,r=t.timeout||e.config.timeout||15;function i(){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.sessionStarted){t.next=10;break}return t.prev=1,t.next=4,Ba(Qa(e),1e3*r);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),e.emit("stream:error",{condition:"connection-timeout",text:"Server did not respond in "+r+" seconds"}),e.transport&&(e.transport.hasStream=!1,e.transport.disconnect());case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))}e._keepAliveInterval=setInterval(i,1e3*n)},e.disableKeepAlive=function(){e._keepAliveInterval&&(clearInterval(e._keepAliveInterval),delete e._keepAliveInterval)};var n=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var n,i=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.config.useStreamManagement){t.next=2;break}return t.abrupt("return",r());case 2:if(n=function t(n){return Object(y.a)(i,void 0,void 0,f.a.mark((function i(){return f.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=n.type,i.next="enabled"===i.t0?3:"resumed"===i.t0?8:"failed"===i.t0?17:22;break;case 3:return i.next=5,e.sm.enabled(n);case 5:return e.features.negotiated.streamManagement=!0,e.off("sm",t),i.abrupt("return",r());case 8:return i.next=10,e.sm.resumed(n);case 10:return e.features.negotiated.streamManagement=!0,e.features.negotiated.bind=!0,e.sessionStarted=!0,e.sessionStarting=!1,e.off("sm",t),e.emit("stream:management:resumed",n),i.abrupt("return",r("break"));case 17:return i.next=19,e.sm.failed(n);case 19:e.off("sm",t),e.emit("session:end"),r();case 22:case"end":return i.stop()}}),i)})))},e.on("sm",n),e.sm.id){t.next=14;break}if(!e.features.negotiated.bind){t.next=10;break}return t.next=8,e.sm.enable();case 8:t.next=12;break;case 10:e.off("sm",n),r();case 12:t.next=21;break;case 14:if(!e.sm.id||!e.sm.allowResume){t.next=19;break}return t.next=17,e.sm.resume();case 17:t.next=21;break;case 19:e.off("sm",n),r();case 21:case"end":return t.stop()}}),t)})))};e.registerFeature("streamManagement",200,n),e.registerFeature("streamManagement",500,n),e.registerFeature("clientStateIndication",400,(function(t,n){e.features.negotiated.clientStateIndication=!0,n()}))}function Ja(t){return e.from(t.replace(/</g,"&lt;"),"utf-8")}function Ya(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;"FORM_TYPE"!==i.name&&(i.rawValues?n.push({name:Ja(i.name),values:i.rawValues.map((function(e){return Ja(e)})).sort(za)}):Array.isArray(i.value)?n.push({name:Ja(i.name),values:i.value.map((function(e){return Ja(e)})).sort(za)}):!0===i.value||!1===i.value?n.push({name:Ja(i.name),values:[Ja(i.value?"1":"0")]}):n.push({name:Ja(i.name),values:[Ja(i.value||"")]}))}}catch(f){r.e(f)}finally{r.f()}n.sort((function(e,t){return za(e.name,t.name)}));for(var a=[],o=0,s=n;o<s.length;o++){var c=s[o];a.push(c.name);var u,l=Object(p.a)(c.values);try{for(l.s();!(u=l.n()).done;){var d=u.value;a.push(d)}}catch(f){l.e(f)}finally{l.f()}}return a}function Xa(t,n){var r=[],i=e.from("<","utf8"),a=function(e){r.push(e),r.push(i)},o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=new Set,i=Object(p.a)(t);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=a.category,s=a.type,c=a.lang,u=a.name,l="".concat(o,"/").concat(s,"/").concat(c||"","/").concat(u||"");if(r.has(l))return null;r.add(l),n.push(Ja(l))}}catch(d){i.e(d)}finally{i.f()}return n.sort(za),n}(t.identities),s=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=new Set,i=Object(p.a)(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(r.has(a))return null;r.add(a),n.push(Ja(a))}}catch(o){i.e(o)}finally{i.f()}return n.sort(za),n}(t.features),c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=new Set,i=Object(p.a)(t);try{for(i.s();!(e=i.n()).done;){var a,o=e.value,s=void 0,c=Object(p.a)(o.fields||[]);try{for(c.s();!(a=c.n()).done;){var u=a.value;if("FORM_TYPE"===u.name&&"hidden"===u.type){if(u.rawValues&&1===u.rawValues.length){s=Ja(u.rawValues[0]);break}if(u.value&&"string"===typeof u.value){s=Ja(u.value);break}}}}catch(b){c.e(b)}finally{c.f()}if(s){if(r.has(s.toString()))return null;r.add(s.toString()),n.push({type:s,form:o})}}}catch(b){i.e(b)}finally{i.f()}n.sort((function(e,t){return za(e.type,t.type)}));for(var l=[],d=0,f=n;d<f.length;d++){var h=f[d];l.push(h.type);var m,v=Ya(h.form.fields),g=Object(p.a)(v);try{for(g.s();!(m=g.n()).done;){var y=m.value;l.push(y)}}catch(b){g.e(b)}finally{g.f()}}return l}(t.extensions);if(!o||!s||!c)return null;var u,l=Object(p.a)(o);try{for(l.s();!(u=l.n()).done;){a(u.value)}}catch(v){l.e(v)}finally{l.f()}var d,f=Object(p.a)(s);try{for(f.s();!(d=f.n()).done;){a(d.value)}}catch(v){f.e(v)}finally{f.f()}var h,m=Object(p.a)(c);try{for(m.s();!(h=m.n()).done;){a(h.value)}}catch(v){m.e(v)}finally{m.f()}return pa(n).update(e.concat(r)).digest("base64")}var Za=function(){function e(){Object(h.a)(this,e),this.capsAlgorithms=["sha-1"],this.features=new Map,this.identities=new Map,this.extensions=new Map,this.items=new Map,this.caps=new Map,this.features.set("",new Set),this.identities.set("",[]),this.extensions.set("",[])}return Object(m.a)(e,[{key:"getNodeInfo",value:function(e){return{extensions:Object(c.a)(this.extensions.get(e)||[]),features:Object(c.a)(this.features.get(e)||[]),identities:Object(c.a)(this.identities.get(e)||[])}}},{key:"addFeature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.features.has(t)||this.features.set(t,new Set),this.features.get(t).add(e)}},{key:"addIdentity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.identities.has(t)||this.identities.set(t,[]),this.identities.get(t).push(e)}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.items.has(t)||this.items.set(t,[]),this.items.get(t).push(e)}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.extensions.has(t)||this.extensions.set(t,[]),this.extensions.get(t).push(e)}},{key:"updateCaps",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.capsAlgorithms,r={extensions:Object(c.a)(this.extensions.get("")),features:Object(c.a)(this.features.get("")),identities:Object(c.a)(this.identities.get("")),type:"info"},i=Object(p.a)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=Xa(r,a);if(o){this.caps.set(a,{algorithm:a,node:e,value:o});var s,u="".concat(e,"#").concat(o),l=Object(p.a)(r.features);try{for(l.s();!(s=l.n()).done;){var d=s.value;this.addFeature(d,u)}}catch(b){l.e(b)}finally{l.f()}var f,h=Object(p.a)(r.identities);try{for(h.s();!(f=h.n()).done;){var m=f.value;this.addIdentity(m,u)}}catch(b){h.e(b)}finally{h.f()}var v,g=Object(p.a)(r.extensions);try{for(g.s();!(v=g.n()).done;){var y=v.value;this.addExtension(y,u)}}catch(b){g.e(b)}finally{g.f()}this.identities.set(u,r.identities),this.features.set(u,new Set(r.features)),this.extensions.set(u,r.extensions)}else this.caps.delete(a)}}catch(b){i.e(b)}finally{i.f()}return Object(c.a)(this.caps.values())}},{key:"getCaps",value:function(){return Object(c.a)(this.caps.values())}}]),e}();function eo(e){var t=this;e.disco=new Za,e.disco.addFeature(gn),e.disco.addFeature(yn),e.disco.addIdentity({category:"client",type:"web"}),e.registerFeature("caps",100,(function(t,n){var r=ce(e.jid)||e.config.server;e.emit("disco:caps",{caps:t.legacyCapabilities||[],jid:r}),e.features.negotiated.caps=!0,n()})),e.getDiscoInfo=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({disco:{node:r,type:"info"},to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",Object.assign({extensions:[],features:[],identities:[]},i.disco));case 4:case"end":return t.stop()}}),t)})))},e.getDiscoItems=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({disco:{node:r,type:"items"},to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",Object.assign({items:[]},i.disco));case 4:case"end":return t.stop()}}),t)})))},e.updateCaps=function(){var t=e.config.capsNode||"https://stanzajs.org";return e.disco.updateCaps(t)},e.getCurrentCaps=function(){var t=e.disco.getCaps();if(t){var n="".concat(t[0].node,"#").concat(t[0].value);return{info:e.disco.getNodeInfo(n),legacyCapabilities:t}}},e.on("presence",(function(t){t.legacyCapabilities&&e.emit("disco:caps",{caps:t.legacyCapabilities,jid:t.from})})),e.on("iq:get:disco",(function(t){var n=t.disco,r=n.type,i=n.node;"info"===r&&e.sendIQResult(t,{disco:Object.assign(Object.assign({},e.disco.getNodeInfo(i||"")),{node:i,type:"info"})}),"items"===r&&e.sendIQResult(t,{disco:{items:e.disco.items.get(i||"")||[],type:"items"}})}))}var to="12.15.0",no="not-authorized",ro={Bosh:Zn,Client:tn,Component:Kn,Server:rn},io={AccountDisabled:"account-disabled",CredentialsExpired:"credentials-expired",EncryptionRequired:"encryption-required",IncorrectEncoding:"incorrect-encoding",InvalidAuthzid:"invalid-authzid",InvalidMechanism:"invalid-mechanism",MalformedRequest:"malformed-request",MechanismTooWeak:"mechanism-too-weak",NotAuthorized:no,TemporaryAuthFailure:"temporary-auth-failure"},ao={BadFormat:"bad-format",BadNamespacePrefix:"bad-namespace-prefix",Conflict:"conflict",ConnectionTimeout:"connection-timeout",HostGone:"host-gone",HostUnknown:"host-unknown",ImproperAddressing:"improper-addressing",InternalServerError:"internal-server-error",InvalidFrom:"invalid-from",InvalidId:"invalid-id",InvalidNamespace:"invalid-namespace",InvalidXML:"invalid-xml",NotAuthorized:no,NotWellFormed:"not-well-formed",PolicyViolation:"policy-violation",RemoteConnectionFailed:"remote-connection-failed",Reset:"reset",ResourceConstraint:"resource-constraint",RestrictedXML:"restricted-xml",SeeOtherHost:"see-other-host",SystemShutdown:"system-shutdown",UndefinedCondition:"undefined-condition",UnsupportedEncoding:"unsupported-encoding",UnsupportedStanzaType:"unsupported-stanza-type",UnsupportedVersion:"unsupported-version"},oo={BadRequest:"bad-request",Conflict:"conflict",FeatureNotImplemented:"feature-not-implemented",Forbidden:"forbidden",Gone:"gone",InternalServerError:"internal-server-error",ItemNotFound:"item-not-found",JIDMalformed:"jid-malformed",NotAcceptable:"not-acceptable",NotAllowed:"not-allowed",NotAuthorized:no,PolicyViolation:"policy-violation",RecipientUnavailable:"recipient-unavailable",Redirect:"redirect",RegistrationRequired:"registration-required",RemoteServerNotFound:"remote-server-not-found",RemoteServerTimeout:"remote-server-timeout",ResourceConstraint:"resource-constraint",ServiceUnavailable:"service-unavailable",SubscriptionRequired:"subscription-required",UndefinedCondition:"undefined-condition",UnexpectedRequest:"unexpected-request"},so={Available:void 0,Error:"error",Probe:"probe",Subscribe:"subscribe",Subscribed:"subscribed",Unavailable:"unavailable",Unsubscribe:"unsubscribe",Unsubscribed:"unsubscribed"},co={Boolean:"boolean",Fixed:"fixed",Hidden:"hidden",JID:"jid-single",JIDMultiple:"jid-multi",List:"list-single",ListMultiple:"list-multi",Password:"text-private",Text:"text-single",TextMultiple:"text-multi",TextPrivate:"text-private"},uo={AffiliationChanged:"101",AffiliationLost:"321",Banned:"301",Error:"333",Kicked:"307",LoggingDisabled:"171",LoggingEnabled:"170",MembershipLost:"322",NickChanged:"303",NickChangedByService:"210",NonAnonymous:"172",NonAnonymousRoom:"100",NonPrivacyConfigurationChange:"104",RoomCreated:"201",SelfPresence:"110",SemiAnonymous:"173",Shutdown:"332",UnavailableMembersListed:"102",UnavailableMembersNotListed:"103"},lo={ClosedNode:"closed-node",ConfigurationRequired:"configuration-required",InvalidJID:"invalid-jid",InvalidOptions:"invalid-options",InvalidPayload:"invalid-payload",InvalidSubscriptionId:"invalid-subid",ItemForbidden:"item-forbidden",ItemRequired:"item-required",JIDRequired:"jid-required",MaxItemsExceeded:"max-items-exceeded",MaxNodesExceeded:"max-nodes-exceeded",NodeIdRequired:"nodeid-required",NotInRosterGroup:"not-in-roster-group",NotSubscribed:"not-subscribed",PayloadRequired:"payload-required",PayloadTooBig:"payload-too-big",PendingSubscription:"pending-subscription",PresenceSubscriptionRequired:"presence-subscription-required",SubscriptionIdRequired:"subid-required",TooManySubscriptions:"too-many-subscriptions",Unsupported:"unsupported",UnsupportedAccessModel:"unsupported-access-model"},po={Active:"active",Composing:"composing",Gone:"gone",Inactive:"inactive",Paused:"paused"},fo={Initiator:"initiator",Responder:"responder"},ho={Inactive:"inactive",Receive:"recvonly",Send:"sendonly",SendReceive:"sendrecv"},mo={Both:"both",Initiator:"initiator",None:"none",Responder:"responder"},vo={ContentAccept:"content-accept",ContentAdd:"content-add",ContentModify:"content-modify",ContentReject:"content-reject",ContentRemove:"content-remove",DescriptionInfo:"description-info",SecurityInfo:"security-info",SessionAccept:"session-accept",SessionInfo:"session-info",SessionInitiate:"session-initiate",SessionTerminate:"session-terminate",TransportAccept:"transport-accept",TransportInfo:"transport-info",TransportReject:"transport-reject",TransportReplace:"transport-replace"},go={OutOfOrder:"out-of-order",TieBreak:"tie-break",UnknownContent:"unknown-content",UnknownSession:"unknown-session",UnsupportedInfo:"unsupported-info"},yo={AlternativeSession:"alternative-session",Busy:"busy",Cancel:"cancel",ConnectivityError:"connectivity-error",Decline:"decline",Expired:"expired",FailedApplication:"failed-application",FailedTransport:"failed-transport",GeneralError:"general-error",Gone:"gone",IncompatibleParameters:"incompatible-parameters",MediaError:"media-error",SecurityError:"security-error",Success:"success",Timeout:"timeout",UnsupportedApplications:"unsupported-applications",UnsupportedTransports:"unsupported-transports"},bo=["afraid","amazed","amorous","angry","annoyed","anxious","aroused","ashamed","bored","brave","calm","cautious","cold","confident","confused","contemplative","contented","cranky","crazy","creative","curious","dejected","depressed","disappointed","disgusted","dismayed","distracted","embarrassed","envious","excited","flirtatious","frustrated","grateful","grieving","grumpy","guilty","happy","hopeful","hot","humbled","humiliated","hungry","hurt","impressed","in_awe","in_love","indignant","interested","intoxicated","invincible","jealous","lonely","lost","lucky","mean","moody","nervous","neutral","offended","outraged","playful","proud","relaxed","relieved","remorseful","restless","sad","sarcastic","satisfied","serious","shocked","shy","sick","sleepy","spontaneous","stressed","strong","surprised","thankful","thirsty","tired","undefined","weak","worried"],wo=["doing_chores","drinking","eating","exercising","grooming","having_appointment","inactive","relaxing","talking","traveling","undefined","working"],ko=["at_the_spa","brushing_teeth","buying_groceries","cleaning","coding","commuting","cooking","cycling","cycling","dancing","day_off","doing_maintenance","doing_the_dishes","doing_the_laundry","driving","fishing","gaming","gardening","getting_a_haircut","going_out","hanging_out","having_a_beer","having_a_snack","having_breakfast","having_coffee","having_dinner","having_lunch","having_tea","hiding","hiking","in_a_car","in_a_meeting","in_real_life","jogging","on_a_bus","on_a_plane","on_a_train","on_a_trip","on_the_phone","on_vacation","on_video_phone","other","partying","playing_sports","praying","reading","rehearsing","running","running_an_errand","scheduled_holiday","shaving","shopping","skiing","sleeping","smoking","socializing","studying","sunbathing","swimming","taking_a_bath","taking_a_shower","thinking","walking","walking_the_dog","watching_a_movie","watching_tv","working_out","writing"],So=function(e,t){return"{".concat(e,"}").concat(t)},Co=So(fr,"mute"),xo=So(fr,"unmute"),jo=So(fr,"hold"),Oo=So(fr,"unhold"),_o=So(fr,"active"),Eo=So(fr,"ringing"),To=So(Nr,"checksum"),Ro=So(Nr,"received");function Po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo.Both,n=e===fo.Initiator;switch(t){case mo.Initiator:return n?ho.Send:ho.Receive;case mo.Responder:return n?ho.Receive:ho.Send;case mo.Both:return ho.SendReceive}return ho.Inactive}function Ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho.SendReceive,n=e===fo.Initiator;switch(t){case ho.Send:return n?mo.Initiator:mo.Responder;case ho.Receive:return n?mo.Responder:mo.Initiator;case ho.SendReceive:return mo.Both}return mo.None}var Io=Object.freeze({__proto__:null,VERSION:to,StreamType:ro,SASLFailureCondition:io,StreamErrorCondition:ao,StanzaErrorCondition:oo,MessageType:{Chat:"chat",Error:"error",GroupChat:"groupchat",Headline:"headline",Normal:"normal"},PresenceType:so,IQType:{Error:"error",Get:"get",Result:"result",Set:"set"},PresenceShow:{Away:"away",Chat:"chat",DoNotDisturb:"dnd",ExtendedAway:"xa"},RosterSubscription:{Both:"both",From:"from",None:"none",ReceivePresenceOnly:"to",Remove:"remove",SendAndReceivePresence:"both",SendPresenceOnly:"from",To:"to"},DataFormType:{Cancel:"cancel",Form:"form",Result:"result",Submit:"submit"},DataFormFieldType:co,MUCAffiliation:{Admin:"admin",Banned:"outcast",Member:"member",None:"none",Outcast:"outcast",Owner:"owner"},MUCRole:{Moderator:"moderator",None:"none",Participant:"participant",Visitor:"visitor"},MUCStatusCode:uo,PubsubErrorCondition:lo,ChatState:po,JingleSessionRole:fo,JingleApplicationDirection:ho,JingleContentSenders:mo,JingleAction:vo,JingleErrorCondition:go,JingleReasonCondition:yo,USER_MOODS:bo,USER_ACTIVITY_GENERAL:wo,USER_ACTIVITY_SPECIFIC:ko,JINGLE_INFO:So,JINGLE_INFO_MUTE:Co,JINGLE_INFO_UNMUTE:xo,JINGLE_INFO_HOLD:jo,JINGLE_INFO_UNHOLD:Oo,JINGLE_INFO_ACTIVE:_o,JINGLE_INFO_RINGING:Eo,JINGLE_INFO_CHECKSUM_5:To,JINGLE_INFO_RECEIVED_5:Ro,sendersToDirection:Po,directionToSenders:Ao});function No(e){var t=this;e.disco.addFeature("jid\\20escaping"),e.disco.addFeature(Or),e.disco.addFeature(hi),e.disco.addFeature(Vr),e.disco.addFeature(Wr),e.disco.addFeature(Hr),e.disco.addFeature(ei),e.disco.addFeature(ii),e.disco.addFeature(Dn),e.disco.addFeature(Jr),e.disco.addFeature(fi),e.disco.addFeature(er),e.disco.addFeature(hn),e.disco.addFeature(Rr),e.disco.addFeature(Xn),e.disco.addFeature(rr);var n,r=["sha-1","sha-256","sha-512","md5"],i=Object(p.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.disco.addFeature(Gr(a))}}catch(o){i.e(o)}finally{i.f()}e.disco.addFeature(jr),e.disco.addFeature(Gn),e.on("iq:get:softwareVersion",(function(t){return e.sendIQResult(t,{softwareVersion:e.config.softwareVersion||{name:"stanzajs.org",version:to}})})),e.on("iq:get:time",(function(t){var n=new Date;e.sendIQResult(t,{time:{tzo:n.getTimezoneOffset(),utc:n}})})),e.getSoftwareVersion=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({softwareVersion:{},to:n,type:"get"});case 2:return r=t.sent,t.abrupt("return",r.softwareVersion);case 4:case"end":return t.stop()}}),t)})))},e.getTime=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({time:{},to:n,type:"get"});case 2:return r=t.sent,t.abrupt("return",r.time);case 4:case"end":return t.stop()}}),t)})))},e.getLastActivity=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({lastActivity:{},to:n,type:"get"});case 2:return r=t.sent,t.abrupt("return",r.lastActivity);case 4:case"end":return t.stop()}}),t)})))}}function Mo(e){var t=this;e.features={handlers:Object.create(null),negotiated:Object.create(null),order:[]},e.registerFeature=function(t,n,r){this.features.order.push({name:t,priority:n}),this.features.order.sort((function(e,t){return e.priority-t.priority})),this.features.handlers[t]=r.bind(e)},e.on("features",(function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r,i,a,o,s,c,u,l,d,h,m,v,g;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=function(e){return new Promise((function(t){i[e](n,(function(e,n){e?t({command:e,message:n}):t()}))}))},r=e.features.negotiated,i=e.features.handlers,a=[],o=Object(p.a)(e.features.order);try{for(o.s();!(s=o.n()).done;)c=s.value.name,n[c]&&i[c]&&!r[c]&&a.push(c)}catch(f){o.e(f)}finally{o.f()}l=0,d=a;case 7:if(!(l<d.length)){t.next=33;break}if(h=d[l],!r[h]){t.next=11;break}return t.abrupt("continue",30);case 11:return m="",v="",t.prev=13,t.next=16,u(h);case 16:(g=t.sent)&&(m=g.command,v=g.message||""),t.next=25;break;case 20:t.prev=20,t.t0=t.catch(13),m="disconnect",v=t.t0.message,console.error(t.t0);case 25:if(m){t.next=27;break}return t.abrupt("continue",30);case 27:return"restart"===m&&e.transport&&e.transport.restart(),"disconnect"===m&&(e.emit("stream:error",{condition:"policy-violation",text:"Failed to negotiate stream features: "+v}),e.disconnect()),t.abrupt("return");case 30:l++,t.next=7;break;case 33:case"end":return t.stop()}}),t,null,[[13,20]])})))}))}function Do(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(e.map((function(e){return e.then((function(e){return Promise.reject(e)}),(function(e){return Promise.resolve(e)}))})));case 3:return n=t.sent,t.abrupt("return",Promise.reject(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",Promise.resolve(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}function Lo(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a=this;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"string"===typeof t&&(t={host:t}),r=Object.assign({json:!0,ssl:!0,xrd:!0},t),i=r.ssl?"https://":"http://",n.abrupt("return",Do([va("".concat(i).concat(r.host,"/.well-known/host-meta.json")).then((function(e){return Object(y.a)(a,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw new Error("could-not-fetch-json");case 2:return t.abrupt("return",e.json());case 3:case"end":return t.stop()}}),t)})))})),va("".concat(i).concat(r.host,"/.well-known/host-meta")).then((function(t){return Object(y.a)(a,void 0,void 0,f.a.mark((function n(){var r,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ok){n.next=2;break}throw new Error("could-not-fetch-xml");case 2:return n.next=4,t.text();case 4:if(r=n.sent,!(i=Be(r))){n.next=8;break}return n.abrupt("return",e.import(i));case 8:case"end":return n.stop()}}),n)})))}))]));case 4:case"end":return n.stop()}}),n)})))}function Fo(e,t){var n=this;e.discoverBindings=function(e){return Object(y.a)(n,void 0,void 0,f.a.mark((function n(){var r,i,a,o,s,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Lo(t,e);case 3:r=n.sent,i={bosh:[],websocket:[]},a=r.links||[],o=Object(p.a)(a);try{for(o.s();!(s=o.n()).done;)(c=s.value).href&&c.rel===or&&i.websocket.push(c.href),c.href&&c.rel===sr&&i.bosh.push(c.href)}catch(u){o.e(u)}finally{o.f()}return n.abrupt("return",i);case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",{});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))}}function qo(e){var t=Object(x.getMediaSections)(e),n=Object(x.getDescription)(e),r={groups:[],media:[]};Object(x.matchPrefix)(n,"a=ice-lite").length>0&&(r.iceLite=!0);var i,a=Object(p.a)(Object(x.matchPrefix)(n,"a=group:"));try{for(a.s();!(i=a.n()).done;){var o=i.value.split(" "),s=o.shift().substr(8);r.groups.push({mids:o,semantics:s})}}catch(g){a.e(g)}finally{a.f()}var c,u=Object(p.a)(t);try{for(u.s();!(c=u.n()).done;){var l=c.value,d=Object(x.getKind)(l),f=Object(x.isRejected)(l),h=Object(x.parseMLine)(l),m={direction:Object(x.getDirection)(l,n),kind:d,mid:Object(x.getMid)(l),protocol:h.protocol};if(f||(m.iceParameters=Object(x.getIceParameters)(l,n),m.dtlsParameters=Object(x.getDtlsParameters)(l,n),m.setup=Object(x.matchPrefix)(l,"a=setup:")[0].substr(8),r.iceLite&&(m.iceParameters.iceLite=!0)),"audio"===d||"video"===d){m.rtpParameters=Object(x.parseRtpParameters)(l),m.rtpEncodingParameters=Object(x.parseRtpEncodingParameters)(l),m.rtcpParameters=Object(x.parseRtcpParameters)(l);var v=Object(x.parseMsid)(l);m.streams=v?[v]:[]}else"application"===d&&(m.sctp=Object(x.parseSctpDescription)(l));m.candidates=Object(x.matchPrefix)(l,"a=candidate:").map(x.parseCandidate),r.media.push(m)}}catch(g){u.e(g)}finally{u.f()}return r}function Bo(e){var t=[];t.push(Object(x.writeSessionBoilerplate)(e.sessionId,e.sessionVersion),"a=msid-semantic:WMS *\r\n"),(e.iceLite||e.media.filter((function(e){return e.iceParameters&&e.iceParameters.iceLite})).length>0)&&t.push("a=ice-lite\r\n");var n,r=Object(p.a)(e.groups||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push("a=group:".concat(i.semantics," ").concat(i.mids.join(" "),"\r\n"))}}catch(y){r.e(y)}finally{r.f()}var a,o=Object(p.a)(e.media||[]);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=!(s.iceParameters&&s.dtlsParameters);if("application"===s.kind&&s.sctp)t.push(Object(x.writeSctpDescription)(s,s.sctp));else if(s.rtpParameters){var u=Object(x.writeRtpDescription)(s.kind,s.rtpParameters);c&&(u=u.replace("m=".concat(s.kind," 9 "),"m=".concat(s.kind," 0 "))),t.push(u),t.push("a=".concat(s.direction||"sendrecv","\r\n"));var l,d=Object(p.a)(s.streams||[]);try{for(d.s();!(l=d.n()).done;){var f=l.value;t.push("a=msid:".concat(f.stream," ").concat(f.track,"\r\n"))}}catch(y){d.e(y)}finally{d.f()}if(s.rtcpParameters&&(t.push(Object(x.writeRtcpParameters)(s.rtcpParameters)),s.rtcpParameters.cname&&s.rtpEncodingParameters&&s.rtpEncodingParameters[0].rtx)){var h=s.rtpEncodingParameters[0];t.push("a=ssrc-group:FID ".concat(h.ssrc," ").concat(h.rtx.ssrc,"\r\n")),t.push("a=ssrc:".concat(h.rtx.ssrc," cname:").concat(s.rtcpParameters.cname,"\r\n"))}}if(void 0!==s.mid&&t.push("a=mid:".concat(s.mid,"\r\n")),s.iceParameters&&t.push(Object(x.writeIceParameters)({usernameFragment:s.iceParameters.usernameFragment,password:s.iceParameters.password})),s.dtlsParameters&&s.setup&&t.push(Object(x.writeDtlsParameters)(s.dtlsParameters,s.setup)),s.candidates&&s.candidates.length){var m,v=Object(p.a)(s.candidates);try{for(v.s();!(m=v.n()).done;){var g=m.value;t.push("a=".concat(Object(x.writeCandidate)(g),"\r\n"))}}catch(y){v.e(y)}finally{v.f()}}}}catch(y){o.e(y)}finally{o.f()}return t.join("")}function Uo(e,t){var n=e.rtpParameters,r=e.rtcpParameters||{},i=e.rtpEncodingParameters||[],a=!1;i&&i.length&&(a=!!i[0].ssrc);var o,s={applicationType:dr,codecs:[],headerExtensions:[],media:e.kind,rtcpMux:r.mux,rtcpReducedSize:r.reducedSize,sourceGroups:[],sources:[],ssrc:a?i[0].ssrc.toString():void 0,streams:[]},c=Object(p.a)(n.headerExtensions||[]);try{for(c.s();!(o=c.n()).done;){var u=o.value,l={id:u.id,uri:u.uri};u.direction&&"sendrecv"!==u.direction&&(l.senders=Ao(t,u.direction)),s.headerExtensions.push(l)}}catch(b){c.e(b)}finally{c.f()}r.ssrc&&r.cname&&(s.sources=[{parameters:{cname:r.cname},ssrc:r.ssrc.toString()}]),a&&i[0]&&i[0].rtx&&(s.sourceGroups=[{semantics:"FID",sources:[i[0].ssrc.toString(),i[0].rtx.ssrc.toString()]}]);var d,f=Object(p.a)(e.streams||[]);try{for(f.s();!(d=f.n()).done;){var h=d.value;s.streams.push({id:h.stream,track:h.track})}}catch(b){f.e(b)}finally{f.f()}var m,v=Object(p.a)(n.codecs||[]);try{for(v.s();!(m=v.n()).done;){var g=m.value,y={channels:g.channels,clockRate:g.clockRate,id:g.payloadType.toString(),name:g.name,parameters:g.parameters,rtcpFeedback:g.rtcpFeedback};g.maxptime&&(y.maxptime=g.maxptime),g.parameters&&g.parameters.ptime&&(y.ptime=parseInt(g.parameters.ptime,10)),s.codecs.push(y)}}catch(b){v.e(b)}finally{v.f()}return s}function zo(e){return{component:"rtp"===e.component?1:"rtcp"===e.component?2:e.component,foundation:e.foundation,generation:void 0,id:void 0,ip:e.ip,network:void 0,port:e.port,priority:e.priority,protocol:e.protocol,relatedAddress:e.relatedAddress,relatedPort:e.relatedPort,tcpType:e.tcpType,type:e.type}}function Vo(e){return{address:e.ip,component:1===e.component?"rtp":2===e.component?"rtcp":e.component,foundation:e.foundation,ip:e.ip,port:e.port,priority:e.priority,protocol:e.protocol,relatedAddress:e.relatedAddress,relatedPort:e.relatedPort,tcpType:e.tcpType,type:e.type}}function Ho(e,t){var n=e.iceParameters,r=e.dtlsParameters,i={candidates:[],transportType:t};n&&(i.usernameFragment=n.usernameFragment,i.password=n.password,n.iceLite&&(i.iceLite=!0)),r&&(i.fingerprints=r.fingerprints.map((function(t){return{algorithm:t.algorithm,setup:e.setup,value:t.value}}))),e.sctp&&(i.sctp=e.sctp);var a,o=Object(p.a)(e.candidates||[]);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.candidates.push(zo(s))}}catch(c){o.e(c)}finally{o.f()}return i}function Wo(e,t,n){return{contents:e.media.map((function(e){return{application:"audio"===e.kind||"video"===e.kind?Uo(e,t):{applicationType:"datachannel",protocol:e.protocol},creator:fo.Initiator,name:e.mid,senders:Ao(t,e.direction),transport:Ho(e,n)}})),groups:e.groups?e.groups.map((function(e){return{contents:e.mids,semantics:e.semantics}})):[]}}function Go(e,t){var n=e.application||{},r=e.transport,i=n&&n.applicationType===dr,a={direction:Po(t,e.senders),kind:n.media||"application",mid:e.name,protocol:i?"UDP/TLS/RTP/SAVPF":"UDP/DTLS/SCTP"};if(i){if(a.rtcpParameters={compound:!n.rtcpReducedSize,mux:n.rtcpMux,reducedSize:n.rtcpReducedSize},n.sources&&n.sources.length){var o=n.sources[0];a.rtcpParameters.ssrc=parseInt(o.ssrc,10),o.parameters&&(a.rtcpParameters.cname=o.parameters.cname)}if(a.rtpParameters={codecs:[],fecMechanisms:[],headerExtensions:[],rtcp:[]},n.streams){a.streams=[];var s,c=Object(p.a)(n.streams);try{for(c.s();!(s=c.n()).done;){var u=s.value;a.streams.push({stream:u.id,track:u.track})}}catch(T){c.e(T)}finally{c.f()}}if(n.ssrc&&(a.rtpEncodingParameters=[{ssrc:parseInt(n.ssrc,10)}],n.sourceGroups&&n.sourceGroups.length)){var l=n.sourceGroups[0];a.rtpEncodingParameters[0].rtx={ssrc:parseInt(l.sources[1],10)}}var d,f=!1,h=!1,m=Object(p.a)(n.codecs||[]);try{for(m.s();!(d=m.n()).done;){var v,g=d.value,y=g.parameters||{},b=[],w=Object(p.a)(g.rtcpFeedback||[]);try{for(w.s();!(v=w.n()).done;){var k=v.value;b.push({parameter:k.parameter,type:k.type})}}catch(T){w.e(T)}finally{w.f()}if("red"===g.name||"ulpfec"===g.name){f=f||"red"===g.name,h=h||"ulpfec"===g.name;var S=g.name.toUpperCase();a.rtpParameters.fecMechanisms.includes(S)||a.rtpParameters.fecMechanisms.push(S)}a.rtpParameters.codecs.push({channels:g.channels,clockRate:g.clockRate,name:g.name,numChannels:g.channels,parameters:y,payloadType:parseInt(g.id,10),rtcpFeedback:b})}}catch(T){m.e(T)}finally{m.f()}var C,x=Object(p.a)(n.headerExtensions||[]);try{for(x.s();!(C=x.n()).done;){var j=C.value;a.rtpParameters.headerExtensions.push({direction:Po(t,j.senders||"both"),id:j.id,uri:j.uri})}}catch(T){x.e(T)}finally{x.f()}}if(r){if(r.usernameFragment&&r.password&&(a.iceParameters={password:r.password,usernameFragment:r.usernameFragment},r.iceLite&&(a.iceParameters.iceLite=!0)),r.fingerprints&&r.fingerprints.length){a.dtlsParameters={fingerprints:[],role:"auto"};var O,_=Object(p.a)(r.fingerprints);try{for(_.s();!(O=_.n()).done;){var E=O.value;a.dtlsParameters.fingerprints.push({algorithm:E.algorithm,value:E.value})}}catch(T){_.e(T)}finally{_.f()}r.sctp&&(a.sctp=r.sctp),a.setup=r.fingerprints[0].setup}a.candidates=(r.candidates||[]).map(Vo)}return a}function Qo(e,t){var n,r={groups:[],media:[]},i=Object(p.a)(e.groups||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.groups.push({mids:a.contents,semantics:a.semantics})}}catch(u){i.e(u)}finally{i.f()}var o,s=Object(p.a)(e.contents||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value;r.media.push(Go(c,t))}}catch(u){s.e(u)}finally{s.f()}return r}var $o={condition:oo.BadRequest},Ko={condition:oo.FeatureNotImplemented,jingleError:go.UnsupportedInfo,type:"modify"},Jo=function(){function e(t){var n=this;Object(h.a)(this,e),this.parent=t.parent,this.sid=t.sid||Va(),this.peerID=t.peerID,this.role=t.initiator?fo.Initiator:fo.Responder,this._sessionState="starting",this._connectionState="starting",this.pendingApplicationTypes=t.applicationTypes||[],this.pendingAction=void 0,this.processingQueue=Object(b.a)((function(e,t){return Object(y.a)(n,void 0,void 0,f.a.mark((function n(){var r,i,a,o,s=this;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("ended"!==this.state){n.next=4;break}return"local"===e.type&&e.reject&&e.reject(new Error("Session ended")),t&&t(),n.abrupt("return");case 4:if("local"!==e.type){n.next=18;break}return this._log("debug","Processing local action:",e.name),n.prev=6,n.next=9,e.handler();case 9:r=n.sent,e.resolve(r),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6),e.reject(n.t0);case 16:return t&&t(),n.abrupt("return");case 18:return i=e.action,a=e.changes,o=e.cb,this._log("debug","Processing remote action:",i),n.abrupt("return",new Promise((function(e){var n=function(n,r){o(n,r),t&&t(),e()};switch(i){case vo.ContentAccept:return s.onContentAccept(a,n);case vo.ContentAdd:return s.onContentAdd(a,n);case vo.ContentModify:return s.onContentModify(a,n);case vo.ContentReject:return s.onContentReject(a,n);case vo.ContentRemove:return s.onContentRemove(a,n);case vo.DescriptionInfo:return s.onDescriptionInfo(a,n);case vo.SecurityInfo:return s.onSecurityInfo(a,n);case vo.SessionAccept:return s.onSessionAccept(a,n);case vo.SessionInfo:return s.onSessionInfo(a,n);case vo.SessionInitiate:return s.onSessionInitiate(a,n);case vo.SessionTerminate:return s.onSessionTerminate(a,n);case vo.TransportAccept:return s.onTransportAccept(a,n);case vo.TransportInfo:return s.onTransportInfo(a,n);case vo.TransportReject:return s.onTransportReject(a,n);case vo.TransportReplace:return s.onTransportReplace(a,n);default:s._log("error","Invalid or unsupported action: "+i),n({condition:oo.BadRequest})}})));case 21:case"end":return n.stop()}}),n,this,[[6,13]])})))}),1)}return Object(m.a)(e,[{key:"send",value:function(e,t){(t=t||{}).sid=this.sid,t.action=e,new Set([vo.ContentAccept,vo.ContentAdd,vo.ContentModify,vo.ContentReject,vo.ContentRemove,vo.SessionAccept,vo.SessionInitiate,vo.TransportAccept,vo.TransportReject,vo.TransportReplace]).has(e)?this.pendingAction=e:this.pendingAction=void 0,this.parent.signal(this,{id:Va(),jingle:t,to:this.peerID,type:"set"})}},{key:"processLocal",value:function(e,t){var n=this;return new Promise((function(r,i){n.processingQueue.push({handler:t,name:e,reject:i,resolve:r,type:"local"},1)}))}},{key:"process",value:function(e,t,n){this.processingQueue.push({action:e,cb:n,changes:t,type:"remote"},2)}},{key:"start",value:function(e,t){this._log("error","Can not start base sessions"),this.end("unsupported-applications",!0)}},{key:"accept",value:function(e,t){this._log("error","Can not accept base sessions"),this.end("unsupported-applications")}},{key:"cancel",value:function(){this.end("cancel")}},{key:"decline",value:function(){this.end("decline")}},{key:"end",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.state="ended",this.processingQueue.kill(),"string"===typeof e&&(e={condition:e}),t||this.send("session-terminate",{reason:e}),this.parent.emit("terminated",this,e),this.parent.forgetSession(this)}},{key:"_log",value:function(e,t){if(this.parent){var n,r;t=this.sid+": "+t;for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];(n=this.parent).emit.apply(n,["log",e,t].concat(a)),(r=this.parent).emit.apply(r,["log:"+e,t].concat(a))}}},{key:"onSessionInitiate",value:function(e,t){t()}},{key:"onSessionAccept",value:function(e,t){t()}},{key:"onSessionTerminate",value:function(e,t){this.end(e.reason,!0),t()}},{key:"onSessionInfo",value:function(e,t){e.info?t(Ko):t()}},{key:"onSecurityInfo",value:function(e,t){t(Ko)}},{key:"onDescriptionInfo",value:function(e,t){t(Ko)}},{key:"onTransportInfo",value:function(e,t){t(Ko)}},{key:"onContentAdd",value:function(e,t){t(),this.send(vo.ContentReject,{reason:{condition:yo.FailedApplication,text:"content-add is not supported"}})}},{key:"onContentAccept",value:function(e,t){t($o)}},{key:"onContentReject",value:function(e,t){t($o)}},{key:"onContentModify",value:function(e,t){t($o)}},{key:"onContentRemove",value:function(e,t){t($o)}},{key:"onTransportReplace",value:function(e,t){t(),this.send(vo.TransportReject,{reason:{condition:yo.FailedTransport,text:"transport-replace is not supported"}})}},{key:"onTransportAccept",value:function(e,t){t($o)}},{key:"onTransportReject",value:function(e,t){t($o)}},{key:"isInitiator",get:function(){return this.role===fo.Initiator}},{key:"peerRole",get:function(){return this.isInitiator?fo.Responder:fo.Initiator}},{key:"state",get:function(){return this._sessionState},set:function(e){e!==this._sessionState&&(this._log("info","Changing session state to: "+e),this._sessionState=e,this.parent&&this.parent.emit("sessionState",this,e))}},{key:"connectionState",get:function(){return this._connectionState},set:function(e){e!==this._connectionState&&(this._log("info","Changing connection state to: "+e),this._connectionState=e,this.parent&&this.parent.emit("connectionState",this,e))}}]),e}(),Yo=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).bitrateLimit=0,r.candidateBuffer=[],r.transportType=gr,r.restartingIce=!1,r.usingRelay=!1,r.maxRelayBandwidth=e.maxRelayBandwidth,r.pc=r.parent.createPeerConnection(Object(i.a)(r),Object.assign(Object.assign({},e.config),{iceServers:e.iceServers})),r.pc.oniceconnectionstatechange=function(){r.onIceStateChange()},r.pc.onicecandidate=function(e){e.candidate?r.onIceCandidate(e):r.onIceEndOfCandidates()},r.restrictRelayBandwidth(),r}return Object(m.a)(n,[{key:"end",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.pc.close(),Object(a.a)(Object(o.a)(n.prototype),"end",this).call(this,e,t)}},{key:"restartIce",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){var t=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitiator){e.next=2;break}return e.abrupt("return");case 2:return void 0!==this._maybeRestartingIce&&clearTimeout(this._maybeRestartingIce),this.restartingIce=!0,e.prev=4,e.next=7,this.processLocal("restart-ice",(function(){return Object(y.a)(t,void 0,void 0,f.a.mark((function e(){var t,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pc.createOffer({iceRestart:!0});case 2:return t=e.sent,n=qo(t.sdp),this.send(vo.TransportInfo,{contents:n.media.map((function(e){return{creator:fo.Initiator,name:e.mid,transport:Ho(e,r.transportType)}})),sid:this.sid}),e.next=7,this.pc.setLocalDescription(t);case 7:case"end":return e.stop()}}),e,this)})))}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),this._log("error","Could not create WebRTC offer",e.t0),this.end(yo.FailedTransport,!0);case 13:case"end":return e.stop()}}),e,this,[[4,9]])})))}},{key:"setMaximumBitrate",value:function(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){var n,r=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.maximumBitrate&&(e=Math.min(e,this.maximumBitrate)),this.currentBitrate=e,(n=this.pc.getSenders().find((function(e){return!!e.track&&"video"===e.track.kind})))&&n.getParameters){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,this.processLocal("set-bitrate",(function(){return Object(y.a)(r,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=n.getParameters()).encodings&&r.encodings.length||(r.encodings=[{}]),0===e?delete r.encodings[0].maxBitrate:r.encodings[0].maxBitrate=e,t.next=5,n.setParameters(r);case 5:case"end":return t.stop()}}),t)})))}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),this._log("error","Set maximumBitrate failed",t.t0);case 13:case"end":return t.stop()}}),t,this,[[5,10]])})))}},{key:"onTransportInfo",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a,o,s,c,u,d,h,m,v,g,b,w,k,S=this;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.contents&&e.contents[0]&&e.contents[0].transport.gatheringComplete)){n.next=18;break}if(r={sdpMid:e.contents[0].name,candidate:""},n.prev=2,"stable"!==this.pc.signalingState){n.next=8;break}return n.next=6,this.pc.addIceCandidate(r);case 6:n.next=9;break;case 8:this.candidateBuffer.push(r);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),this._log("debug","Could not add null end-of-candidate");case 14:return n.prev=14,t(),n.finish(14);case 17:return n.abrupt("return");case 18:if(!this.pc.remoteDescription){n.next=51;break}if(i=this.pc.remoteDescription,a=qo(i.sdp),o=a.media.find((function(t){return t.mid===e.contents[0].name})),s=o.iceParameters.usernameFragment,!(c=e.contents[0].transport.usernameFragment)||s===c){n.next=51;break}u=Object(p.a)(e.contents.entries());try{for(u.s();!(d=u.n()).done;)h=Object(l.a)(d.value,2),m=h[0],v=h[1],g=v.transport,a.media[m].iceParameters={password:g.password,usernameFragment:g.usernameFragment},a.media[m].candidates=[]}catch(C){u.e(C)}finally{u.f()}return n.prev=27,n.next=30,this.pc.setRemoteDescription({type:i.type,sdp:Bo(a)});case 30:return n.next=32,this.processBufferedCandidates();case 32:if("offer"!==i.type){n.next=42;break}return n.next=35,this.pc.createAnswer();case 35:return b=n.sent,n.next=38,this.pc.setLocalDescription(b);case 38:w=qo(b.sdp),this.send(vo.TransportInfo,{contents:w.media.map((function(e){return{creator:fo.Initiator,name:e.mid,transport:Ho(e,S.transportType)}})),sid:this.sid}),n.next=43;break;case 42:this.restartingIce=!1;case 43:n.next=51;break;case 45:return n.prev=45,n.t1=n.catch(27),this._log("error","Could not do remote ICE restart",n.t1),t(n.t1),this.end(yo.FailedTransport),n.abrupt("return");case 51:return k=(e.contents||[]).map((function(e){var t=e.name,n=(e.transport.candidates||[]).map((function(e){return Object(y.a)(S,void 0,void 0,f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Object(x.writeCandidate)(Vo(e)),!this.pc.remoteDescription||"stable"!==this.pc.signalingState){n.next=12;break}return n.prev=2,n.next=5,this.pc.addIceCandidate({sdpMid:t,candidate:r});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),this._log("error","Could not add ICE candidate",n.t0);case 10:n.next=13;break;case 12:this.candidateBuffer.push({sdpMid:t,candidate:r});case 13:case"end":return n.stop()}}),n,this,[[2,7]])})))}));return Promise.all(n)})),n.prev=52,n.next=55,Promise.all(k);case 55:t(),n.next=62;break;case 58:n.prev=58,n.t2=n.catch(52),this._log("error","Could not process transport-info: ".concat(n.t2)),t(n.t2);case 62:case"end":return n.stop()}}),n,this,[[2,11,14,17],[27,45],[52,58]])})))}},{key:"onSessionAccept",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.state="active",r=Qo(e,this.peerRole),i=Bo(r),n.prev=3,n.next=6,this.pc.setRemoteDescription({type:"answer",sdp:i});case 6:return n.next=8,this.processBufferedCandidates();case 8:this.parent.emit("accepted",this,void 0),t(),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(3),this._log("error","Could not process WebRTC answer: ".concat(n.t0)),t({condition:"general-error"});case 16:case"end":return n.stop()}}),n,this,[[3,12]])})))}},{key:"onSessionTerminate",value:function(e,t){this._log("info","Terminating session"),this.pc.close(),Object(a.a)(Object(o.a)(n.prototype),"end",this).call(this,e.reason,!0),t()}},{key:"onIceCandidate",value:function(e){if(e.candidate&&e.candidate.candidate){var t=Object(x.parseCandidate)(e.candidate.candidate),n={contents:[{creator:fo.Initiator,name:e.candidate.sdpMid,transport:{candidates:[zo(t)],transportType:this.transportType,usernameFragment:t.usernameFragment}}]};this._log("info","Discovered new ICE candidate",n),this.send(vo.TransportInfo,n)}}},{key:"onIceEndOfCandidates",value:function(){this._log("info","ICE end of candidates");var e=qo(this.pc.localDescription.sdp).media[0];this.send(vo.TransportInfo,{contents:[{creator:fo.Initiator,name:e.mid,transport:{gatheringComplete:!0,transportType:this.transportType,usernameFragment:e.iceParameters.usernameFragment}}]})}},{key:"onIceStateChange",value:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":if("stable"===this.pc.signalingState?this.connectionState="interrupted":this.connectionState="disconnected",this.restartingIce)return void this.end(yo.FailedTransport);this.maybeRestartIce();break;case"failed":if("failed"===this.connectionState||this.restartingIce)return void this.end(yo.FailedTransport);this.connectionState="failed",this.restartIce();break;case"closed":this.connectionState="disconnected",this.restartingIce?this.end(yo.FailedTransport):this.end()}}},{key:"processBufferedCandidates",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(p.a)(this.candidateBuffer),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=15;break}return r=n.value,e.prev=5,e.next=8,this.pc.addIceCandidate(r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),this._log("error","Could not add ICE candidate",e.t0);case 13:e.next=3;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),t.e(e.t1);case 20:return e.prev=20,t.f(),e.finish(20);case 23:this.candidateBuffer=[];case 24:case"end":return e.stop()}}),e,this,[[1,17,20,23],[5,10]])})))}},{key:"restrictRelayBandwidth",value:function(){var e=this;this.pc.addEventListener("iceconnectionstatechange",(function(){return Object(y.a)(e,void 0,void 0,f.a.mark((function e(){var t,n,r,i,a,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("completed"===this.pc.iceConnectionState||"connected"===this.pc.iceConnectionState){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.pc.getStats();case 4:if((t=e.sent).forEach((function(e){"transport"===e.type&&(n=t.get(e.selectedCandidatePairId))})),n||t.forEach((function(e){"candidate-pair"===e.type&&e.selected&&(n=e)})),n){e.next=9;break}return e.abrupt("return");case 9:r=!1,i="",a="",n.remoteCandidateId&&(o=t.get(n.remoteCandidateId))&&(a=o.candidateType),n.localCandidateId&&(s=t.get(n.localCandidateId))&&(i=s.candidateType),"relay"!==i&&"relay"!==a||(r=!0),this.usingRelay=r,this.parent.emit("iceConnectionType",this,{localCandidateType:i,relayed:r,remoteCandidateType:a}),r&&(this.maximumBitrate=this.maxRelayBandwidth,this.currentBitrate?this.setMaximumBitrate(Math.min(this.currentBitrate,this.maximumBitrate)):this.setMaximumBitrate(this.maximumBitrate));case 18:case"end":return e.stop()}}),e,this)})))}))}},{key:"maybeRestartIce",value:function(){var e=this;this.isInitiator&&(void 0!==this._maybeRestartingIce&&clearTimeout(this._maybeRestartingIce),this._maybeRestartingIce=setTimeout((function(){e._maybeRestartingIce=void 0,"disconnected"===e.pc.iceConnectionState&&e.restartIce()}),2e3))}}]),n}(Jo),Xo=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.a)(this,n),(e=t.call(this)).config=Object.assign({chunkSize:16384,hash:"sha-1"},r),e.file=void 0,e.channel=void 0,e.hash=pa(e.config.hash),e}return Object(m.a)(n,[{key:"send",value:function(e,t){var n=this;if(!this.file||!this.channel){this.file=e,this.channel=t,this.channel.binaryType="arraybuffer";var r=new FileReader,i=0,a=!1,o=function(){if(!(a||i>=e.size)){a=!0;var t=e.slice(i,i+n.config.chunkSize);r.readAsArrayBuffer(t)}};t.bufferedAmountLowThreshold=8*this.config.chunkSize,t.onbufferedamountlow=function(){o()},r.addEventListener("load",(function(t){var r=t.target.result;a=!1,i+=r.byteLength,n.channel.send(r),n.hash.update(new Uint8Array(r)),n.emit("progress",i,e.size,r),i<e.size?n.channel.bufferedAmount<=n.channel.bufferedAmountLowThreshold&&o():(n.emit("progress",e.size,e.size,null),n.emit("sentFile",{algorithm:n.config.hash,name:e.name,size:e.size,value:n.hash.digest()}))})),o()}}}]),n}(w.EventEmitter),Zo=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.a)(this,n),(e=t.call(this)).config=Object.assign({hash:"sha-1"},r),e.receiveBuffer=[],e.received=0,e.channel=void 0,e.hash=pa(e.config.hash),e}return Object(m.a)(n,[{key:"receive",value:function(e,t){var n=this;this.metadata=e,this.channel=t,this.channel.binaryType="arraybuffer",this.channel.onmessage=function(e){var t=e.data.byteLength;n.received+=t,n.receiveBuffer.push(e.data),e.data&&n.hash.update(new Uint8Array(e.data)),n.emit("progress",n.received,n.metadata.size,e.data),n.received===n.metadata.size?(n.metadata.actualhash=n.hash.digest("hex"),n.emit("receivedFile",new Blob(n.receiveBuffer),n.metadata),n.receiveBuffer=[]):n.received>n.metadata.size&&(console.error("received more than expected, discarding..."),n.receiveBuffer=[])}}}]),n}(w.EventEmitter),es=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).sender=void 0,r.receiver=void 0,r.file=void 0,r}return Object(m.a)(n,[{key:"start",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r=this;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=t||function(){},e&&"function"!==typeof e){n.next=3;break}throw new Error("File object required");case 3:return this.state="pending",this.role="initiator",this.file=e,this.sender=new Xo,this.sender.on("progress",(function(e,t){r._log("info","Send progress "+e+"/"+t)})),this.sender.on("sentFile",(function(e){r._log("info","Sent file",e.name),r.send(vo.SessionInfo,{info:{creator:fo.Initiator,file:{hashes:[{algorithm:e.algorithm,value:e.value}]},infoType:To,name:r.contentName}}),r.parent.emit("sentFile",r,e)})),this.channel=this.pc.createDataChannel("filetransfer",{ordered:!0}),this.channel.onopen=function(){r.sender.send(r.file,r.channel)},n.prev=11,n.next=14,this.processLocal(vo.SessionInitiate,(function(){return Object(y.a)(r,void 0,void 0,f.a.mark((function t(){var n,r,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pc.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});case 2:return n=t.sent,r=qo(n.sdp),i=Wo(r,this.role,this.transportType),this.contentName=i.contents[0].name,i.sid=this.sid,i.action=vo.SessionInitiate,i.contents[0].application={applicationType:Nr,file:{date:e.lastModified?new Date(e.lastModified):void 0,hashesUsed:[{algorithm:"sha-1"}],name:e.name,size:e.size}},this.send("session-initiate",i),t.next=12,this.pc.setLocalDescription(n);case 12:case"end":return t.stop()}}),t,this)})))}));case 14:t(),n.next=21;break;case 17:return n.prev=17,n.t0=n.catch(11),this._log("error","Could not create WebRTC offer",n.t0),n.abrupt("return",this.end("failed-application",!0));case 21:case"end":return n.stop()}}),n,this,[[11,17]])})))}},{key:"accept",value:function(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){var n=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._log("info","Accepted incoming session"),this.role="responder",this.state="active",e=e||function(){},t.prev=4,t.next=7,this.processLocal(vo.SessionAccept,(function(){return Object(y.a)(n,void 0,void 0,f.a.mark((function e(){var t,n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pc.createAnswer();case 2:t=e.sent,n=qo(t.sdp),(r=Wo(n,this.role,this.transportType)).sid=this.sid,r.action="session-accept",i=Object(p.a)(r.contents);try{for(i.s();!(a=i.n()).done;)a.value.creator="initiator"}catch(o){i.e(o)}finally{i.f()}return this.contentName=r.contents[0].name,this.send("session-accept",r),e.next=13,this.pc.setLocalDescription(t);case 13:return e.next=15,this.processBufferedCandidates();case 15:case"end":return e.stop()}}),e,this)})))}));case 7:e(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),this._log("error","Could not create WebRTC answer",t.t0),this.end("failed-application");case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"onSessionInitiate",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a,o,s=this;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._log("info","Initiating incoming session"),this.role="responder",this.state="pending",this.transportType=e.contents[0].transport.transportType,r=Qo(e,this.peerRole),i=Bo(r),a=e.contents[0].application,o=a.file.hashesUsed?a.file.hashesUsed:a.file.hashes||[],this.receiver=new Zo({hash:o[0]&&o[0].algorithm}),this.receiver.on("progress",(function(e,t){s._log("info","Receive progress "+e+"/"+t)})),this.receiver.on("receivedFile",(function(e){s.receivedFile=e,s._maybeReceivedFile()})),this.receiver.metadata=a.file,this.pc.addEventListener("datachannel",(function(e){s.channel=e.channel,s.receiver.receive(s.receiver.metadata,e.channel)})),n.prev=13,n.next=16,this.pc.setRemoteDescription({type:"offer",sdp:i});case 16:return n.next=18,this.processBufferedCandidates();case 18:t(),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(13),this._log("error","Could not create WebRTC answer",n.t0),t({condition:"general-error"});case 25:case"end":return n.stop()}}),n,this,[[13,21]])})))}},{key:"onSessionInfo",value:function(e,t){var n=e.info;n&&n.file&&n.file.hashes&&(this.receiver.metadata.hashes=n.file.hashes,this.receiver.metadata.actualhash&&this._maybeReceivedFile(),t())}},{key:"_maybeReceivedFile",value:function(){if(this.receiver.metadata.hashes&&this.receiver.metadata.hashes.length){var e,t=Object(p.a)(this.receiver.metadata.hashes||[]);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.value&&n.value.toString("hex")===this.receiver.metadata.actualhash)return this._log("info","File hash matches"),this.parent.emit("receivedFile",this,this.receivedFile,this.receiver.metadata),void this.end("success")}}catch(r){t.e(r)}finally{t.f()}this._log("error","File hash does not match"),this.end("media-error")}}}]),n}(Yo);function ts(e){var t=e.application;if(t.streams&&t.streams.length&&t.sources&&t.sources.length){var n=t.streams[0];t.sources[0].parameters.msid="".concat(n.id," ").concat(n.track),t.sourceGroups&&t.sourceGroups.length>0&&t.sources.push({parameters:{cname:t.sources[0].parameters.cname,msid:"".concat(n.id," ").concat(n.track)},ssrc:t.sourceGroups[0].sources[1]})}}var ns=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var r;if(Object(h.a)(this,n),(r=t.call(this,e)).includesAudio=!1,r.includesVideo=!1,r._ringing=!1,r.pc.addEventListener("track",(function(e){r.onAddTrack(e.track,e.streams[0])})),e.stream){var i,a=Object(p.a)(e.stream.getTracks());try{for(a.s();!(i=a.n()).done;){var o=i.value;r.addTrack(o,e.stream)}}catch(s){a.e(s)}finally{a.f()}}return r}return Object(m.a)(n,[{key:"start",value:function(e,t){return Object(y.a)(this,arguments,void 0,f.a.mark((function n(){var r=this,i=arguments;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.state="pending",1===i.length&&"function"===typeof e&&(t=e,e={}),t=t||function(){},e=e||{},this.role="initiator",this.offerOptions=e,n.prev=6,n.next=9,this.processLocal(vo.SessionInitiate,(function(){return Object(y.a)(r,void 0,void 0,f.a.mark((function t(){var n,r,i,a,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pc.createOffer(e);case 2:n=t.sent,r=qo(n.sdp),(i=Wo(r,this.role,this.transportType)).sid=this.sid,i.action=vo.SessionInitiate,a=Object(p.a)(i.contents||[]);try{for(a.s();!(o=a.n()).done;)(s=o.value).creator="initiator",ts(s)}catch(c){a.e(c)}finally{a.f()}return t.next=11,this.pc.setLocalDescription(n);case 11:this.send("session-initiate",i);case 12:case"end":return t.stop()}}),t,this)})))}));case 9:t(),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(6),this._log("error","Could not create WebRTC offer",n.t0),this.end("failed-application",!0);case 16:case"end":return n.stop()}}),n,this,[[6,12]])})))}},{key:"accept",value:function(e,t){return Object(y.a)(this,arguments,void 0,f.a.mark((function n(){var r=this,i=arguments;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return 1===i.length&&"function"===typeof e&&(t=e,e={}),t=t||function(){},e=e||{},this._log("info","Accepted incoming session"),this.state="active",this.role="responder",n.prev=6,n.next=9,this.processLocal(vo.SessionAccept,(function(){return Object(y.a)(r,void 0,void 0,f.a.mark((function t(){var n,r,i,a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pc.createAnswer(e);case 2:n=t.sent,r=qo(n.sdp),(i=Wo(r,this.role,this.transportType)).sid=this.sid,i.action=vo.SessionAccept,a=Object(p.a)(i.contents||[]);try{for(a.s();!(o=a.n()).done;)o.value.creator="initiator"}catch(s){a.e(s)}finally{a.f()}return t.next=11,this.pc.setLocalDescription(n);case 11:return t.next=13,this.processBufferedCandidates();case 13:this.send("session-accept",i);case 14:case"end":return t.stop()}}),t,this)})))}));case 9:t(),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(6),this._log("error","Could not create WebRTC answer",n.t0),this.end("failed-application");case 16:case"end":return n.stop()}}),n,this,[[6,12]])})))}},{key:"end",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Object(p.a)(this.pc.getReceivers());try{for(i.s();!(e=i.n()).done;){var s=e.value;this.onRemoveTrack(s.track)}}catch(c){i.e(c)}finally{i.f()}Object(a.a)(Object(o.a)(n.prototype),"end",this).call(this,t,r)}},{key:"ring",value:function(){var e=this;return this.processLocal("ring",(function(){return Object(y.a)(e,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._log("info","Ringing on incoming session"),this.ringing=!0,this.send(vo.SessionInfo,{info:{infoType:Eo}});case 3:case"end":return e.stop()}}),e,this)})))}))}},{key:"mute",value:function(e,t){var n=this;return this.processLocal("mute",(function(){return Object(y.a)(n,void 0,void 0,f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._log("info","Muting",t),this.send(vo.SessionInfo,{info:{creator:e,infoType:Co,name:t}});case 2:case"end":return n.stop()}}),n,this)})))}))}},{key:"unmute",value:function(e,t){var n=this;return this.processLocal("unmute",(function(){return Object(y.a)(n,void 0,void 0,f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._log("info","Unmuting",t),this.send(vo.SessionInfo,{info:{creator:e,infoType:xo,name:t}});case 2:case"end":return n.stop()}}),n,this)})))}))}},{key:"hold",value:function(){var e=this;return this.processLocal("hold",(function(){return Object(y.a)(e,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._log("info","Placing on hold"),this.send("session-info",{info:{infoType:jo}});case 2:case"end":return e.stop()}}),e,this)})))}))}},{key:"resume",value:function(){var e=this;return this.processLocal("resume",(function(){return Object(y.a)(e,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._log("info","Resuming from hold"),this.send("session-info",{info:{infoType:_o}});case 2:case"end":return e.stop()}}),e,this)})))}))}},{key:"addTrack",value:function(e,t,n){var r=this;return"audio"===e.kind&&(this.includesAudio=!0),"video"===e.kind&&(this.includesVideo=!0),this.processLocal("addtrack",(function(){return Object(y.a)(r,void 0,void 0,f.a.mark((function r(){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.pc.addTrack?this.pc.addTrack(e,t):this.pc.addStream(t),n&&n();case 2:case"end":return r.stop()}}),r,this)})))}))}},{key:"removeTrack",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r=this;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.processLocal("removetrack",(function(){return Object(y.a)(r,void 0,void 0,f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.pc.removeTrack(e),!t){n.next=3;break}return n.abrupt("return",t());case 3:case"end":return n.stop()}}),n,this)})))})));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"onAddTrack",value:function(e,t){this._log("info","Track added"),this.parent.emit("peerTrackAdded",this,e,t)}},{key:"onRemoveTrack",value:function(e){this._log("info","Track removed"),this.parent.emit("peerTrackRemoved",this,e)}},{key:"onSessionInitiate",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a,o,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._log("info","Initiating incoming session"),this.state="pending",this.role="responder",this.transportType=e.contents[0].transport.transportType,r=Qo(e,this.peerRole),i=Object(p.a)(r.media);try{for(i.s();!(a=i.n()).done;)"audio"===(o=a.value).kind&&(this.includesAudio=!0),"video"===o.kind&&(this.includesVideo=!0),o.streams||(o.streams=[{stream:"legacy",track:o.kind}])}catch(c){i.e(c)}finally{i.f()}return s=Bo(r),n.prev=8,n.next=11,this.pc.setRemoteDescription({type:"offer",sdp:s});case 11:return n.next=13,this.processBufferedCandidates();case 13:return n.abrupt("return",t());case 16:return n.prev=16,n.t0=n.catch(8),this._log("error","Could not create WebRTC answer",n.t0),n.abrupt("return",t({condition:"general-error"}));case 20:case"end":return n.stop()}}),n,this,[[8,16]])})))}},{key:"onSessionTerminate",value:function(e,t){var r,i=Object(p.a)(this.pc.getReceivers());try{for(i.s();!(r=i.n()).done;){var s=r.value;this.onRemoveTrack(s.track)}}catch(c){i.e(c)}finally{i.f()}Object(a.a)(Object(o.a)(n.prototype),"onSessionTerminate",this).call(this,e,t)}},{key:"onSessionInfo",value:function(e,t){var n=e.info||{infoType:""};switch(n.infoType){case Eo:return this._log("info","Outgoing session is ringing"),this.ringing=!0,this.parent.emit("ringing",this),t();case jo:return this._log("info","On hold"),this.parent.emit("hold",this),t();case Oo:case _o:return this._log("info","Resuming from hold"),this.parent.emit("resumed",this),t();case Co:return this._log("info","Muting",n),this.parent.emit("mute",this,n),t();case xo:return this._log("info","Unmuting",n),this.parent.emit("unmute",this,n),t()}return t()}},{key:"ringing",get:function(){return this._ringing},set:function(e){e!==this._ringing&&(this._ringing=e)}},{key:"streams",get:function(){return"closed"!==this.pc.signalingState?this.pc.getRemoteStreams():[]}}]),n}(Yo),rs=786432;var is=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.a)(this,n),r=r||{},(e=t.call(this)).selfID=r.selfID,e.sessions={},e.peers={},e.iceServers=r.iceServers||[],e.prepareSession=r.prepareSession||function(t){if(e.config.hasRTCPeerConnection)return t.applicationTypes.indexOf(dr)>=0?new ns(t):t.applicationTypes.indexOf(Nr)>=0?new es(t):void 0},e.performTieBreak=r.performTieBreak||function(e,t){var n=(t.jingle.contents||[]).map((function(e){if(e.application)return e.application.applicationType}));return(e.pendingApplicationTypes||[]).filter((function(e){return n.includes(e)})).length>0},e.createPeerConnection=r.createPeerConnection||function(e,t){if(ya)return new ya(t)},e.config=Object.assign({debug:!1,hasRTCPeerConnection:!!ya,peerConnectionConfig:{bundlePolicy:r.bundlePolicy||"balanced",iceTransportPolicy:r.iceTransportPolicy||"all",rtcpMuxPolicy:r.rtcpMuxPolicy||"require",sdpSemantics:r.sdpSemantics||"plan-b"},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]}},r),e}return Object(m.a)(n,[{key:"addICEServer",value:function(e){if("string"!==typeof e)if((t=e).type||!t.urls&&!t.url){var t,n=e.host||"";n.indexOf(":")>=0&&(n="[".concat(n,"]"));var r="".concat(e.type,":").concat(n);e.port&&(r+=":".concat(e.port)),e.transport&&(r+="?transport=".concat(e.transport)),"turn"===e.type||"turns"===e.type?this.iceServers.push({credential:e.password,urls:[r],username:e.username}):"stun"!==e.type&&"stuns"!==e.type||this.iceServers.push({urls:[r]})}else this.iceServers.push(e);else this.iceServers.push({urls:e})}},{key:"resetICEServers",value:function(){this.iceServers=[]}},{key:"addSession",value:function(e){e.parent=this;var t=e.sid,n=e.peerID;return this.sessions[t]=e,this.peers[n]||(this.peers[n]=[]),this.peers[n].push(e),this.emit("createdSession",e),e}},{key:"forgetSession",value:function(e){var t=this.peers[e.peerID]||[];t.length&&t.splice(t.indexOf(e),1),delete this.sessions[e.sid]}},{key:"createMediaSession",value:function(e,t,n){var r=new ns({config:this.config.peerConnectionConfig,constraints:this.config.peerConnectionConstraints,iceServers:this.iceServers,initiator:!0,maxRelayBandwidth:rs,parent:this,peerID:e,sid:t,stream:n});return this.addSession(r),r}},{key:"createFileTransferSession",value:function(e,t){var n=new es({config:this.config.peerConnectionConfig,constraints:this.config.peerConnectionConstraints,iceServers:this.iceServers,initiator:!0,maxRelayBandwidth:rs,parent:this,peerID:e,sid:t});return this.addSession(n),n}},{key:"endPeerSessions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.peers[e]||[];delete this.peers[e];var i,a=Object(p.a)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.end(t||"gone",n)}}catch(s){a.e(s)}finally{a.f()}}},{key:"endAllSessions",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=Object.keys(this.peers);n<r.length;n++){var i=r[n];this.endPeerSessions(i,e,t)}}},{key:"process",value:function(e){var t=this,n=e.jingle?e.jingle.sid:void 0,r=n?this.sessions[n]:void 0,i=e.id,a=e.from;if(a){if("error"===e.type){if(this._log("error","Received error response",e),r&&e.error&&"unknown-session"===e.error.jingleError)return r.end("gone",!0);var o=e.error&&"tie-break"===e.error.jingleError;return r&&"pending"===r.state&&o?r.end("alternative-session",!0):void(r&&(r.pendingAction=void 0))}if("result"!==e.type){var s=e.jingle.action,c=e.jingle.contents||[],u=c.map((function(e){return e.application?e.application.applicationType:void 0})),l=c.map((function(e){return e.transport?e.transport.transportType:void 0}));if(s!==vo.SessionInitiate){if(!r)return"session-terminate"===s?void this.emit("send",{id:i,to:a,type:"result"}):(this._log("error","Unknown session",n),this._sendError(a,i,{condition:"item-not-found",jingleError:"unknown-session"}));if(r.peerID!==a||"ended"===r.state)return this._log("error","Session has ended, or action has wrong sender"),this._sendError(a,i,{condition:"item-not-found",jingleError:"unknown-session"});if("session-accept"===s&&"pending"!==r.state)return this._log("error","Tried to accept session twice",n),this._sendError(a,i,{condition:"unexpected-request",jingleError:"out-of-order"});if("session-terminate"!==s&&s===r.pendingAction&&(this._log("error","Tie break during pending request"),r.isInitiator))return this._sendError(a,i,{condition:"conflict",jingleError:"tie-break"})}else if(r){if(r.peerID!==a)return this._log("error","Duplicate sid from new sender"),this._sendError(a,i,{condition:"service-unavailable"});if("pending"!==r.state)return this._log("error","Someone is doing this wrong"),this._sendError(a,i,{condition:"unexpected-request",jingleError:"out-of-order"});if(this.selfID&&this.selfID>r.peerID&&this.performTieBreak(r,e))return this._log("error","Tie break new session because of duplicate sids"),this._sendError(a,i,{condition:"conflict",jingleError:"tie-break"})}else if(this.peers[a]&&this.peers[a].length)for(var p=0,d=this.peers[a].length;p<d;p++){var f=this.peers[a][p];if(f&&"pending"===f.state&&n&&za(f.sid,n)>0&&this.performTieBreak(f,e))return this._log("info","Tie break session-initiate"),this._sendError(a,i,{condition:"conflict",jingleError:"tie-break"})}if("session-initiate"===s){if(!c.length)return this._sendError(a,i,{condition:"bad-request"});r=this._createIncomingSession({applicationTypes:u,config:this.config.peerConnectionConfig,constraints:this.config.peerConnectionConstraints,iceServers:this.iceServers,initiator:!1,parent:this,peerID:a,sid:n,transportTypes:l},e)}r.process(s,e.jingle,(function(n){n?(t._log("error","Could not process request",e,n),t._sendError(a,i,n)):(t.emit("send",{id:i,to:a,type:"result"}),"session-initiate"===s&&t.emit("incoming",r))}))}else r&&(r.pendingAction=void 0)}}},{key:"signal",value:function(e,t){var n=t.jingle&&t.jingle.action;e.isInitiator&&n===vo.SessionInitiate&&this.emit("outgoing",e),this.emit("send",t)}},{key:"_createIncomingSession",value:function(e,t){var n;return this.prepareSession&&(n=this.prepareSession(e,t)),n||(n=new Jo(e)),this.addSession(n),n}},{key:"_sendError",value:function(e,t,n){n.type||(n.type="cancel"),this.emit("send",{error:n,id:t,to:e,type:"error"})}},{key:"_log",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.emit.apply(this,["log",e,t].concat(r)),this.emit.apply(this,["log:"+e,t].concat(r))}}]),n}(w.EventEmitter);function as(e){var t=this,n=!!ya,r={advertiseAudio:n,advertiseFileTransfer:n,advertiseVideo:n,bundlePolicy:"balanced",hasRTCPeerConnection:n,iceServers:[{urls:"stun:stun.l.google.com:19302"}],iceTransportPolicy:"all",rtcpMuxPolicy:"require",trickleIce:!0},i=e.config.jingle,a=Object.assign(Object.assign({},r),i),o=e.jingle=new is(a),s=[lr];a.hasRTCPeerConnection&&(s.push(di,gr,si,ti,"urn:ietf:rfc:5888"),!1===a.trickleIce&&s.push("urn:ietf:rfc:3264"),(a.advertiseAudio||a.advertiseVideo)&&s.push(dr,Ur,zr,"urn:ietf:rfc:5576"),a.advertiseAudio&&s.push(hr),a.advertiseVideo&&s.push(mr),a.advertiseFileTransfer&&s.push(Ir,Nr));for(var c=0,u=s;c<u.length;c++){var l=u[c];e.disco.addFeature(l)}for(var d=function(){var t=m[h];o.on(t,(function(n,r){e.emit("jingle:"+t,n,r)}))},h=0,m=["outgoing","incoming","accepted","terminated","ringing","mute","unmute","hold","resumed"];h<m.length;h++)d();o.on("createdSession",(function(t){e.emit("jingle:created",t)})),o.on("send",(function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"set"!==n.type){t.next=8;break}return t.next=4,e.sendIQ(n);case 4:(r=t.sent).jingle||(r.jingle={}),r.jingle.sid=n.jingle.sid,o.process(r);case 8:"result"===n.type&&e.sendIQResult({type:"set",id:n.id,from:n.to},n),"error"===n.type&&e.sendIQError({type:"set",id:n.id,from:n.to},n),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0.jingle||(t.t0.jingle=n.jingle),t.t0.jingle.sid=n.jingle.sid,o.process(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))})),e.on("session:bound",(function(e){o.selfID=e})),e.on("iq:set:jingle",(function(e){o.process(e)})),e.on("unavailable",(function(e){o.endPeerSessions(e.from,void 0,!0)})),e.getServices=function(n,r,i){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({externalServices:{type:r,version:i},to:n,type:"get"});case 2:return a=t.sent,(o=a.externalServices).services=o.services||[],t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})))},e.getServiceCredentials=function(n,r,i,a,o){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({externalServiceCredentials:{host:r,port:a,type:i,version:o},to:n,type:"get"});case 2:return s=t.sent,t.abrupt("return",s.externalServiceCredentials);case 4:case"end":return t.stop()}}),t)})))},e.discoverICEServers=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r,i,a,o,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getServices(e.config.server,void 0,n.version);case 3:r=t.sent,i=r.services||[],a=[],o=Object(p.a)(i);try{for(o.s();!(s=o.n()).done;)c=s.value,e.jingle.addICEServer(c)}catch(u){o.e(u)}finally{o.f()}return t.abrupt("return",a);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))}}function os(e,t){var n,r=[],i=new Map,a=Object(p.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.name&&i.set(o.name,o)}}catch(m){a.e(m)}finally{a.f()}var s,c=new Set,u=Object(p.a)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.name&&i.has(l.name)?(r.push(Object.assign(Object.assign({},l),i.get(l.name))),c.add(l.name)):r.push(Object.assign({},l))}}catch(m){u.e(m)}finally{u.f()}var d,f=Object(p.a)(t);try{for(f.s();!(d=f.n()).done;){var h=d.value;(!h.name||h.name&&!c.has(h.name))&&r.push(Object.assign({},h))}}catch(m){f.e(m)}finally{f.f()}return r}function ss(e){var t=this;e.getHistorySearchForm=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({archive:{type:"query",version:r.version},to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",i.archive.form);case 4:case"end":return t.stop()}}),t)})))},e.searchHistory=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i,a,o,s,c,u,l,p,d;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.nextId(),a="","string"===typeof n?a=n:(a=n.to||"",r=n),r.queryId=i,(o=r.form||{}).type="submit",s=o.fields||[],c=[{name:"FORM_TYPE",type:"hidden",value:Xr}],r.with&&c.push({name:"with",type:"text-single",value:r.with}),r.start&&c.push({name:"start",type:"text-single",value:r.start.toISOString()}),r.end&&c.push({name:"end",type:"text-single",value:r.end.toISOString()}),o.fields=os(c,s),r.form=o,u=ae(e.jid,a),l=[],p=function(e){u.has(e.from)&&e.archive&&e.archive.queryId===i&&l.push(e.archive)},e.on("mam:item",p),t.prev=17,t.next=20,e.sendIQ({archive:r,id:i,to:a,type:"set"});case 20:return d=t.sent,t.abrupt("return",Object.assign(Object.assign({},d.archive),{results:l}));case 22:return t.prev=22,e.off("mam:item",p),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[17,,22,25]])})))},e.getHistoryPreferences=function(){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({archive:{type:"preferences"},type:"get"});case 2:return n=t.sent,t.abrupt("return",n.archive);case 4:case"end":return t.stop()}}),t)})))},e.setHistoryPreferences=function(t){return e.sendIQ({archive:Object.assign({type:"preferences"},t),type:"set"})},e.on("message",(function(t){t.archive&&e.emit("mam:item",t)}))}var cs=new Set(["chat","headline","normal"]),us=new Set(["chat","groupchat","normal"]),ls=function(e,t){return e.marker&&"markable"===e.marker.type&&!1!==t.config.chatMarkers};function ps(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.sendIQ({carbons:{action:t},type:"set"});case 2:case"end":return n.stop()}}),n)})))}function ds(e,t,n){if(ls(t,e)){var r="groupchat"===t.type?le(t.from):t.from;e.sendMessage({marker:{id:t.id,type:n},to:r,type:t.type})}}function fs(e){e.disco.addFeature(Pr),e.disco.addFeature(ni),e.disco.addFeature(Wn),e.disco.addFeature(Kr),e.disco.addFeature(br),e.disco.addFeature(Qr),e.enableCarbons=function(){return ps(e,"enable")},e.disableCarbons=function(){return ps(e,"disable")},e.markReceived=function(t){return ds(e,t,"received")},e.markDisplayed=function(t){return ds(e,t,"displayed")},e.markAcknowledged=function(t){return ds(e,t,"acknowledged")},e.getAttention=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sendMessage(Object.assign(Object.assign({},n),{requestingAttention:!0,to:t,type:"headline"}))},e.on("message",(function(t){if(t.carbon&&oe(t.from,e.jid)){var n=t.carbon.forward.message;n.delay||(n.delay=t.carbon.forward.delay||{timestamp:new Date(Date.now())}),function(e){return!!e.carbon&&"received"===e.carbon.type}(t)&&(e.emit("carbon:received",t),e.emit("message",n)),function(e){return!!e.carbon&&"sent"===e.carbon.type}(t)&&(e.emit("carbon:sent",t),e.emit("message:sent",n,!0))}(function(e){return!!e.forms&&e.forms.length>0}(t)&&e.emit("dataform",t),t.requestingAttention&&e.emit("attention",t),function(e){return!!e.rtt}(t)&&e.emit("rtt",t),function(e){return!!e.replace}(t)&&e.emit("replace",t),function(e){return!!e.chatState}(t)&&us.has(t.type||"normal")&&e.emit("chat:state",t),ls(t,e)&&e.markReceived(t),t.marker&&"markable"!==t.marker.type&&e.emit("marker:".concat(t.marker.type),t),function(e){return!!e.receipt}(t))&&(!1!==e.config.sendReceipts&&cs.has(t.type||"normal")&&"request"===t.receipt.type&&e.sendMessage({id:t.id,receipt:{id:t.id,type:"received"},to:t.from,type:t.type}),"received"===t.receipt.type&&e.emit("receipt",t))}))}function hs(e){var t=this;function n(){var t=e.joiningRooms;e.joiningRooms=new Map;var n,r=Object(p.a)(t);try{for(r.s();!(n=r.n()).done;){var i=Object(l.a)(n.value,2),a=i[0],o=i[1];e.joinRoom(a,o)}}catch(m){r.e(m)}finally{r.f()}var s=e.joinedRooms;e.joinedRooms=new Map;var c,u=Object(p.a)(s);try{for(u.s();!(c=u.n()).done;){var d=Object(l.a)(c.value,2),f=d[0],h=d[1];e.joinRoom(f,h)}}catch(m){u.e(m)}finally{u.f()}}e.disco.addFeature(wn),e.disco.addFeature(Dr),e.disco.addFeature(Zr),e.joinedRooms=new Map,e.joiningRooms=new Map,e.leavingRooms=new Map,e.on("session:started",n),e.on("stream:management:resumed",n),e.on("message",(function(t){if("groupchat"===t.type&&t.hasSubject)e.emit("muc:topic",{from:t.from,room:le(t.from),topic:t.subject||""});else if(t.muc)if("direct-invite"===t.muc.type||!t.muc.invite&&t.legacyMUC){var n="direct-invite"===t.muc.type?t.muc:t.legacyMUC;e.emit("muc:invite",{from:t.from,password:n.password,reason:n.reason,room:n.jid,thread:n.thread,type:"direct"})}else t.muc.invite?e.emit("muc:invite",{from:t.muc.invite[0].from,password:t.muc.password,reason:t.muc.invite[0].reason,room:t.from,thread:t.muc.invite[0].thread,type:"mediated"}):t.muc.decline?e.emit("muc:declined",{from:t.muc.decline.from,reason:t.muc.decline.reason,room:t.from}):e.emit("muc:other",t)})),e.on("presence",(function(t){var n=le(t.from);if(e.joiningRooms.has(n)&&"error"===t.type)return e.joiningRooms.delete(n),e.emit("muc:failed",t),void e.emit("muc:error",t);if(function(e){return!!e.muc}(t)){var r=t.muc.statusCodes&&t.muc.statusCodes.indexOf(uo.SelfPresence)>=0,i=t.muc.statusCodes&&t.muc.statusCodes.indexOf(uo.NickChanged)>=0;if("error"!==t.type){if("unavailable"===t.type)return e.emit("muc:unavailable",t),r&&(i?e.joinedRooms.set(n,t.muc.nick):(e.emit("muc:leave",t),e.joinedRooms.delete(n),e.leavingRooms.delete(n))),void(t.muc.destroy&&e.emit("muc:destroyed",{newRoom:t.muc.destroy.jid,password:t.muc.destroy.password,reason:t.muc.destroy.reason,room:n}));e.emit("muc:available",t);var a=e.joiningRooms.has(n)||!e.joinedRooms.has(n);r&&(e.joinedRooms.set(n,ue(t.from)),a&&(e.joiningRooms.delete(n),e.emit("muc:join",t)))}else e.emit("muc:error",t)}})),e.joinRoom=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=le(n),e.joiningRooms.set(n,r||""),r){t.next=13;break}return t.prev=3,t.next=6,e.getReservedNick(n);case 6:r=t.sent,e.joiningRooms.set(n,r),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(3),new Error("Room nick required");case 13:return t.abrupt("return",new Promise((function(t,a){function o(r){oe(r.from,n)&&(e.off("muc:join",o),e.off("muc:failed",s),t(r))}function s(t){oe(t.from,n)&&(e.off("muc:join",o),e.off("muc:failed",s),a(t))}e.on("muc:join",o),e.on("muc:failed",s),e.sendPresence(Object.assign(Object.assign({},i),{muc:Object.assign(Object.assign({},i.muc),{type:"join"}),to:re(n,r)}))})));case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))},e.leaveRoom=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=le(t),n=n||e.joinedRooms.get(t),e.leavingRooms.set(t,n),new Promise((function(i,a){var o=r.id||Va(),s=ae(t);function c(n){oe(n.from,t)&&(e.off("muc:leave",c),e.off("presence:error",u),i(n))}function u(n){n.id===o&&s.has(n.from)&&(e.joinedRooms.has(t)||e.leavingRooms.delete(t),e.off("muc:leave",c),e.off("presence:error",u),a(n))}e.on("muc:leave",c),e.on("presence:error",u),e.sendPresence(Object.assign(Object.assign({},r),{id:o,to:re(t,n),type:"unavailable"}))}))},e.ban=function(t,n,r){return e.setRoomAffiliation(t,n,"outcast",r)},e.kick=function(t,n,r){return e.setRoomRole(t,n,"none",r)},e.invite=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(n)||(n=[n]),e.sendMessage({muc:{invite:n,type:"info"},to:t})},e.directInvite=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.sendMessage({muc:Object.assign(Object.assign({},r),{jid:t,type:"direct-invite"}),to:n})},e.declineInvite=function(t,n,r){e.sendMessage({muc:{decline:{reason:r,to:n},type:"info"},to:t})},e.changeNick=function(t,n){var r=Va(),i=re(t,n),a=ae(t);return new Promise((function(t,n){function o(n){a.has(le(n.from))&&n.muc.statusCodes&&n.muc.statusCodes.includes(uo.SelfPresence)&&(e.off("muc:available",o),e.off("presence:id:".concat(r),s),t(n))}function s(i){a.has(le(i.from))&&i.id===r&&(e.off("muc:available",o),e.off("presence:id:".concat(r),s),"error"===i.type?n(i):t(i))}e.on("muc:available",o),e.on("presence:id:".concat(r),s),e.sendPresence({id:r,to:i})}))},e.setSubject=function(t,n){e.sendMessage({subject:n,to:t,type:"groupchat"})},e.getReservedNick=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getDiscoInfo(n,"x-roomuser-item");case 3:if(r=t.sent,!(i=r.identities[0]).name){t.next=9;break}return t.abrupt("return",i.name);case 9:throw new Error("No nickname reserved");case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),new Error("No nickname reserved");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))},e.requestRoomVoice=function(t){e.sendMessage({forms:[{fields:[{name:"FORM_TYPE",type:"hidden",value:"http://jabber.org/protocol/muc#request"},{name:"muc#role",type:"text-single",value:"participant"}],type:"submit"}],to:t})},e.setRoomAffiliation=function(t,n,r,i){return e.sendIQ({muc:{type:"user-list",users:[{affiliation:r,jid:n,reason:i}]},to:t,type:"set"})},e.setRoomRole=function(t,n,r,i){return e.sendIQ({muc:{type:"user-list",users:[{nick:n,reason:i,role:r}]},to:t,type:"set"})},e.getRoomMembers=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{affiliation:"member"};return e.sendIQ({muc:{type:"user-list",users:[n]},to:t,type:"get"})},e.getRoomConfig=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({muc:{type:"configure"},to:n,type:"get"});case 2:if((r=t.sent).muc.form){t.next=5;break}throw new Error("No configuration form returned");case 5:return t.abrupt("return",r.muc.form);case 6:case"end":return t.stop()}}),t)})))},e.configureRoom=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sendIQ({muc:{form:Object.assign(Object.assign({},n),{type:"submit"}),type:"configure"},to:t,type:"set"})},e.destroyRoom=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sendIQ({muc:{destroy:n,type:"configure"},to:t,type:"set"})},e.getUniqueRoomName=function(e){return Object(y.a)(this,void 0,void 0,f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendIQ({muc:{type:"unique"},to:e,type:"get"});case 2:if((n=t.sent).muc.name){t.next=5;break}throw new Error("No unique name returned");case 5:return t.abrupt("return",n.muc.name);case 6:case"end":return t.stop()}}),t,this)})))},e.getBookmarks=function(){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPrivateData("bookmarks");case 2:if((n=t.sent)&&n.rooms){t.next=5;break}return t.abrupt("return",[]);case 5:return t.abrupt("return",n.rooms);case 6:case"end":return t.stop()}}),t)})))},e.setBookmarks=function(t){return e.setPrivateData("bookmarks",{rooms:t})},e.addBookmark=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r,i,a,o,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBookmarks();case 2:r=t.sent,i=[],a=!1,o=Object(p.a)(r);try{for(o.s();!(s=o.n()).done;)oe((c=s.value).jid,n.jid)?(i.push(Object.assign(Object.assign({},c),n)),a=!0):i.push(c)}catch(u){o.e(u)}finally{o.f()}return a||i.push(n),t.abrupt("return",e.setBookmarks(i));case 9:case"end":return t.stop()}}),t)})))},e.removeBookmark=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBookmarks();case 2:return r=t.sent,i=r.filter((function(e){return!oe(e.jid,n)})),t.abrupt("return",e.setBookmarks(i));case 5:case"end":return t.stop()}}),t)})))}}function ms(e){e.disco.addFeature($n),e.disco.addFeature(zn),e.disco.addFeature(Qn),e.disco.addFeature(vr),e.disco.addFeature(Yn),e.disco.addFeature(ur($n)),e.disco.addFeature(ur(zn)),e.disco.addFeature(ur(Qn)),e.disco.addFeature(ur(vr)),e.disco.addFeature(ur(Yn)),e.publishActivity=function(t){return e.publish("",$n,Object.assign({itemType:$n},t))},e.publishGeoLoc=function(t){return e.publish("",zn,Object.assign({itemType:zn},t))},e.publishMood=function(t){return e.publish("",Qn,Object.assign({itemType:Qn},t))},e.publishNick=function(t){return e.publish("",vr,{itemType:vr,nick:t})},e.publishTune=function(t){return e.publish("",Yn,Object.assign({itemType:Yn},t))},e.on("pubsub:published",(function(t){var n=t.pubsub.items.published[0].content;switch(t.pubsub.items.node){case $n:return e.emit("activity",{activity:n,jid:t.from});case zn:return e.emit("geoloc",{geoloc:n,jid:t.from});case Qn:return e.emit("mood",{jid:t.from,mood:n});case vr:return e.emit("nick",{jid:t.from,nick:n.nick});case Yn:return e.emit("tune",{jid:t.from,tune:t.pubsub.items.published[0].content})}}))}function vs(e){var t=this;e.disco.addFeature("".concat(er,"#SubID"),er),e.on("message",(function(t){!function(e){return!!e.pubsub&&(!e.pubsub.context||"user"===e.pubsub.context)&&!!e.pubsub.affiliations}(t)?function(e){return!!e.pubsub}(t)&&(e.emit("pubsub:event",t),!function(e){return!!e.pubsub.items&&!!e.pubsub.items.published}(t)?!function(e){return!!e.pubsub.items&&!!e.pubsub.items.retracted}(t)?!function(e){return"purge"===e.pubsub.eventType}(t)?!function(e){return"purge"===e.pubsub.eventType}(t)?!function(e){return"subscription"===e.pubsub.eventType}(t)?function(e){return"configuration"===e.pubsub.eventType}(t)&&e.emit("pubsub:config",t):e.emit("pubsub:subscription",t):e.emit("pubsub:deleted",t):e.emit("pubsub:purged",t):e.emit("pubsub:retracted",t):e.emit("pubsub:published",t)):e.emit("pubsub:affiliations",t)})),e.subscribeToNode=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i,a,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={},"string"===typeof r?(i.node=r,i.jid=le(e.jid)):(i.node=r.node,i.jid=r.jid||(r.useBareJID?le(e.jid):e.jid),a=r.options),t.next=4,e.sendIQ({pubsub:{context:"user",subscribe:i,subscriptionOptions:a?{form:a}:void 0},to:n,type:"set"});case 4:return o=t.sent,s=o.pubsub.subscription||{},o.pubsub.subscriptionOptions&&(s.options=o.pubsub.subscriptionOptions.form),t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})))},e.unsubscribeFromNode=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={},"string"===typeof r?(i.node=r,i.jid=le(e.jid)):(i.node=r.node,i.subid=r.subid,i.jid=r.jid||(r.useBareJID?le(e.jid):e.jid)),t.next=4,e.sendIQ({pubsub:{context:"user",unsubscribe:i},to:n,type:"set"});case 4:if((a=t.sent).pubsub&&a.pubsub.subscription){t.next=7;break}return t.abrupt("return",Object.assign(Object.assign({},i),{state:"none"}));case 7:return t.abrupt("return",a.pubsub.subscription);case 8:case"end":return t.stop()}}),t)})))},e.publish=function(t,n,r,i){return e.sendIQ({pubsub:{context:"user",publish:{item:{content:r,id:i},node:n}},to:t,type:"set"})},e.getItem=function(n,r,i){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{context:"user",fetch:{items:[{id:i}],node:r}},to:n,type:"get"});case 2:return a=t.sent,t.abrupt("return",a.pubsub.fetch.items[0]);case 4:case"end":return t.stop()}}),t)})))},e.getItems=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{context:"user",fetch:{max:i.max,node:r},paging:i},to:n,type:"get"});case 2:return a=t.sent,(o=a.pubsub.fetch).paging=a.pubsub.paging,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})))},e.retract=function(t,n,r,i){return e.sendIQ({pubsub:{context:"user",retract:{id:r,node:n,notify:i}},to:t,type:"set"})},e.purgeNode=function(t,n){return e.sendIQ({pubsub:{context:"owner",purge:n},to:t,type:"set"})},e.deleteNode=function(t,n,r){return e.sendIQ({pubsub:{context:"owner",destroy:{node:n,redirect:r}},to:t,type:"set"})},e.createNode=function(n,r,i){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{configure:i?{form:i}:void 0,context:"user",create:{node:r}},to:n,type:"set"});case 2:if((a=t.sent).pubsub&&a.pubsub.create){t.next=5;break}return t.abrupt("return",{node:r});case 5:return t.abrupt("return",a.pubsub.create);case 6:case"end":return t.stop()}}),t)})))},e.getSubscriptions=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{context:"user",subscriptions:r},to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",i.pubsub.subscriptions);case 4:case"end":return t.stop()}}),t)})))},e.getAffiliations=function(t,n){return e.sendIQ({pubsub:{affiliations:{node:n}},to:t,type:"get"})},e.getNodeSubscribers=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"string"===typeof n?r.node=n:r=Object.assign(Object.assign({},r),n),e.sendIQ({pubsub:{context:"owner",subscriptions:r},to:t,type:"get"})},e.updateNodeSubscriptions=function(t,n,r){return e.sendIQ({pubsub:{context:"owner",subscriptions:{items:r,node:n}},to:t,type:"set"})},e.getNodeAffiliations=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{affiliations:{node:r},context:"owner"},to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",i.pubsub.affiliations);case 4:case"end":return t.stop()}}),t)})))},e.updateNodeAffiliations=function(t,n,r){return e.sendIQ({pubsub:{affiliations:{items:r,node:n},context:"owner"},to:t,type:"set"})},e.getNodeConfig=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{configure:{node:r},context:"owner"},to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",i.pubsub.configure.form||{});case 4:case"end":return t.stop()}}),t)})))},e.getDefaultNodeConfig=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{context:"owner",defaultConfiguration:{}},to:n,type:"get"});case 2:return r=t.sent,t.abrupt("return",r.pubsub.defaultConfiguration.form||{});case 4:case"end":return t.stop()}}),t)})))},e.configureNode=function(n,r,i){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendIQ({pubsub:{configure:{form:i,node:r},context:"owner"},to:n,type:"set"}));case 1:case"end":return t.stop()}}),t)})))},e.getDefaultSubscriptionOptions=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({pubsub:{defaultSubscriptionOptions:{}},to:n,type:"get"});case 2:return r=t.sent,t.abrupt("return",r.pubsub.defaultSubscriptionOptions.form||{});case 4:case"end":return t.stop()}}),t)})))}}function gs(e){var t=this;function n(t,n){return Object(y.a)(this,void 0,void 0,f.a.mark((function r(){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.sendIQ({blockList:{action:t,jids:[n]},type:"set"});case 2:case"end":return r.stop()}}),r)})))}e.on("iq:set:roster",(function(t){if(!ae(e.jid).has(t.from))return e.sendIQError(t,{error:{condition:"service-unavailable",type:"cancel"}});e.emit("roster:update",t),e.sendIQResult(t)})),e.on("iq:set:blockList",(function(t){if(!ae(e.jid).has(t.from))return e.sendIQError(t,{error:{condition:"service-unavailable",type:"cancel"}});var n=t.blockList;e.emit(n.action,{jids:n.jids||[]}),e.sendIQResult(t)})),e.getRoster=function(){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({roster:{version:e.config.rosterVer},type:"get"});case 2:if(!(n=t.sent).roster){t.next=10;break}return(r=n.roster.version)&&(e.config.rosterVer=r,e.emit("roster:ver",r)),n.roster.items=n.roster.items||[],t.abrupt("return",n.roster);case 10:return t.abrupt("return",{items:[]});case 11:case"end":return t.stop()}}),t)})))},e.updateRosterItem=function(n){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({roster:{items:[n]},type:"set"});case 2:case"end":return t.stop()}}),t)})))},e.removeRosterItem=function(t){return e.updateRosterItem({jid:t,subscription:"remove"})},e.subscribe=function(t){e.sendPresence({type:"subscribe",to:t})},e.unsubscribe=function(t){e.sendPresence({type:"unsubscribe",to:t})},e.acceptSubscription=function(t){e.sendPresence({type:"subscribed",to:t})},e.denySubscription=function(t){e.sendPresence({type:"unsubscribed",to:t})},e.getBlocked=function(){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({blockList:{action:"list"},type:"get"});case 2:return n=t.sent,t.abrupt("return",Object.assign({jids:[]},n.blockList));case 4:case"end":return t.stop()}}),t)})))},e.block=function(e){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n("block",e));case 1:case"end":return t.stop()}}),t)})))},e.unblock=function(e){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n("unblock",e));case 1:case"end":return t.stop()}}),t)})))},e.goInvisible=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({type:"set",visiblity:{probe:n,type:"invisible"}});case 2:case"end":return t.stop()}}),t)})))},e.goVisible=function(){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({type:"set",visiblity:{type:"visible"}});case 2:case"end":return t.stop()}}),t)})))}}function ys(e){var t=this;e.registerFeature("sasl",100,(function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i,a,o,s=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.sasl.createMechanism(n.sasl.mechanisms),a=function t(n){return Object(y.a)(s,void 0,void 0,f.a.mark((function a(){var o,s,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return");case 2:a.t0=n.type,a.next="success"===a.t0?5:"challenge"===a.t0?11:"failure"===a.t0||"abort"===a.t0?27:31;break;case 5:return e.features.negotiated.sasl=!0,e.off("sasl",t),e.emit("auth:success",e.config.credentials),e.transport&&(e.transport.authenticated=!0),r("restart"),a.abrupt("return");case 11:return i.processChallenge(n.value),a.prev=12,a.next=15,e.getCredentials();case 15:o=a.sent,(s=i.createResponse(o))||""===s?e.send("sasl",{type:"response",value:s}):e.send("sasl",{type:"response"}),(c=i.getCacheableCredentials())&&(e.config.credentials||(e.config.credentials={}),e.config.credentials=Object.assign(Object.assign({},e.config.credentials),c),e.emit("credentials:update",e.config.credentials)),a.next=26;break;case 22:a.prev=22,a.t1=a.catch(12),console.error(a.t1),e.send("sasl",{type:"abort"});case 26:return a.abrupt("return");case 27:return e.off("sasl",t),e.emit("auth:failed"),r("disconnect","authentication failed"),a.abrupt("return");case 31:case"end":return a.stop()}}),a,null,[[12,22]])})))},i){t.next=6;break}return e.off("sasl",a),e.emit("auth:failed"),t.abrupt("return",r("disconnect","authentication failed"));case 6:return e.on("sasl",a),e.once("--reset-stream-features",(function(){e.features.negotiated.sasl=!1,e.off("sasl",a)})),t.prev=8,t.next=11,e.getCredentials();case 11:o=t.sent,e.send("sasl",{mechanism:i.name,type:"auth",value:i.createResponse(o)}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),console.error(t.t0),e.send("sasl",{type:"abort"});case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))}))}function bs(e){var t=this;function n(t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a,o,s,c,u;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getDiscoInfo(t);case 2:if((r=n.sent).features&&r.features.includes(pi)){n.next=5;break}return n.abrupt("return");case 5:a=Object(p.a)(r.extensions||[]),n.prev=6,a.s();case 8:if((o=a.n()).done){n.next=17;break}if(s=o.value,!(c=s.fields||[]).some((function(e){return"FORM_TYPE"===e.name&&e.value===pi}))){n.next=15;break}return(u=c.find((function(e){return"max-file-size"===e.name})))&&(i=parseInt(u.value,10)),n.abrupt("return",{jid:t,maxSize:i});case 15:n.next=8;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(6),a.e(n.t0);case 22:return n.prev=22,a.f(),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[6,19,22,25]])})))}e.disco.addFeature(Ar),e.getBits=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({bits:{cid:r},to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",i.bits);case 4:case"end":return t.stop()}}),t)})))},e.getUploadService=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce(e.jid);return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i,a,o,s,c,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(r);case 2:if(!(i=t.sent)){t.next=5;break}return t.abrupt("return",i);case 5:return t.next=7,e.getDiscoItems(r);case 7:a=t.sent,o=Object(p.a)(a.items||[]),t.prev=9,o.s();case 11:if((s=o.n()).done){t.next=22;break}if((c=s.value).jid){t.next=15;break}return t.abrupt("continue",20);case 15:return t.next=17,n(c.jid);case 17:if(!(u=t.sent)){t.next=20;break}return t.abrupt("return",u);case 20:t.next=11;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(9),o.e(t.t0);case 27:return t.prev=27,o.f(),t.finish(27);case 30:throw new Error("No upload service discovered on: "+r);case 31:case"end":return t.stop()}}),t,null,[[9,24,27,30]])})))},e.getUploadSlot=function(n,r){return Object(y.a)(t,void 0,void 0,f.a.mark((function t(){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendIQ({httpUpload:Object.assign({type:"request"},r),to:n,type:"get"});case 2:return i=t.sent,t.abrupt("return",i.httpUpload);case 4:case"end":return t.stop()}}),t)})))}}function ws(e){e.use(Mo),e.use(eo),e.use(Da),e.use(Ka),e.use(Fo),e.use(ys)}function ks(e){e.use(Na),e.use(fs),e.use(Ma),e.use(La),e.use(No),e.use(as),e.use(ss),e.use(hs),e.use(ms),e.use(vs),e.use(gs),e.use(bs)}var Ss={aliases:["features.legacySession","iq.legacySession"],element:"session",fields:{optional:It(null,"optional")},namespace:an},Cs=[{aliases:["atomentry"].concat(Object(c.a)([{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}])),element:"entry",fields:{id:Ot(null,"id"),published:Et(null,"published"),updated:Et(null,"updated")},namespace:Zt,type:Zt,typeField:"itemType"},{element:"summary",fields:{text:St(),type:st("type","text")},namespace:Zt,path:"atomentry.summary"},{element:"title",fields:{text:St(),type:st("type","text")},namespace:Zt,path:"atomentry.title"},{aliases:[{path:"atomentry.links",multiple:!0}],element:"link",fields:{href:st("href"),mediaType:st("type"),rel:st("rel")},namespace:Zt},{aliases:[{path:"atomentry.authors",multiple:!0}],element:"author",fields:{name:Ot(null,"name"),uri:Ot(null,"uri"),email:Ot(null,"email")},namespace:Zt},{aliases:[{path:"atomentry.contributors",multiple:!0}],element:"contributor",fields:{name:Ot(null,"name"),uri:Ot(null,"uri"),email:Ot(null,"email")},namespace:Zt},{aliases:[{path:"atomentry.categories",multiple:!0}],element:"category",fields:{term:st("term"),scheme:st("scheme"),label:st("label")},namespace:Zt},{element:"content",fields:{text:St(),type:st("type","text")},namespace:Zt,path:"atomentry.content"},{element:"rights",fields:{text:St(),type:st("type","text")},namespace:Zt,path:"atomentry.rights"}],xs={defaultType:"stream",element:"stream",fields:{from:st("from"),id:st("id"),lang:jt(),to:st("to"),version:st("version")},namespace:sn,path:"stream",type:"stream",typeField:"action"},js={element:"features",namespace:sn,path:"features"},Os={element:"error",fields:{alternateLanguageText:Ht(cn,"text"),condition:qt(cn,Object.values(ao),ao.UndefinedCondition),seeOtherHost:Ot(cn,ao.SeeOtherHost),text:Ot(cn,"text")},namespace:sn,path:"streamError"},_s=Object.values(ro).map((function(e){return{aliases:["stanzaError","message.error","presence.error","iq.error"],defaultType:tn,element:"error",fields:{alternateLanguageText:Ht(on,"text"),by:Si("by"),condition:qt(on,Object.values(oo),oo.UndefinedCondition),gone:Ot(on,oo.Gone),redirect:Ot(on,oo.Redirect),text:Ot(on,"text"),type:st("type")},namespace:e,type:e,typeField:"streamType"}})),Es=new Set(["from","id","lang","to","type","payloadType","error","streamType"]),Ts=Object.values(ro).map((function(e){return{childrenExportOrder:{error:2e5},defaultType:tn,element:"iq",fields:{from:Si("from"),id:st("id"),lang:jt(),payloadType:{order:-1e4,importer:function(e,t){if("get"===t.data.type||"set"===t.data.type){if(1!==e.children.filter((function(e){return"string"!==typeof e})).length)return"invalid-payload-count";var n=Object.keys(t.data).filter((function(e){return!Es.has(e)}));return 1!==n.length?"unknown-payload":n[0]}}},to:Si("to"),type:st("type")},namespace:e,path:"iq",type:e,typeField:"streamType"}})),Rs=Object.values(ro).map((function(e){return{childrenExportOrder:{error:2e5},defaultType:tn,element:"message",fields:{from:Si("from"),id:st("id"),lang:jt(),to:Si("to")},namespace:e,path:"message",type:e,typeField:"streamType"}})),Ps=Object.values(ro).map((function(e){return{childrenExportOrder:{error:2e5},defaultType:tn,element:"presence",fields:{from:Si("from"),id:st("id"),lang:jt(),to:Si("to")},namespace:e,path:"presence",type:e,typeField:"streamType"}})),As=[{element:"mechanisms",fields:{mechanisms:Ut(null,"mechanism")},namespace:nn,path:"features.sasl"},{element:"abort",namespace:nn,path:"sasl",type:"abort",typeField:"type"},{element:"auth",fields:{mechanism:st("mechanism"),value:xt("base64")},namespace:nn,path:"sasl",type:"auth",typeField:"type"},{element:"challenge",fields:{value:xt("base64")},namespace:nn,path:"sasl",type:"challenge",typeField:"type"},{element:"response",fields:{value:xt("base64")},namespace:nn,path:"sasl",type:"response",typeField:"type"},{element:"success",fields:{value:xt("base64")},namespace:nn,path:"sasl",type:"success",typeField:"type"},{element:"failure",fields:{alternateLanguageText:Ht(nn,"text"),condition:qt(nn,Object.values(io)),text:Ot(nn,"text")},namespace:nn,path:"sasl",type:"failure",typeField:"type"}],Is=[{aliases:["features.tls"],defaultType:"start",element:"starttls",fields:{required:It(null,"required")},namespace:un,path:"tls",type:"start",typeField:"type"},{element:"proceed",namespace:un,path:"tls",type:"proceed",typeField:"type"},{element:"failure",namespace:un,path:"tls",type:"failure",typeField:"type"}],Ns={aliases:["features.bind","iq.bind"],element:"bind",fields:{jid:Ot(null,"jid"),resource:Ot(null,"resource")},namespace:en},Ms=[xs,js,Os].concat(Object(c.a)(_s),As,Is,Object(c.a)(Ts),Object(c.a)(Rs),Object(c.a)(Ps),[Ns]),Ds=[Ti({rosterPreApproval:It(dn,"sub"),rosterVersioning:It(pn,"ver")}),Oi({alternateLanguageBodies:Ht(null,"body"),alternateLanguageSubjects:Ht(null,"subject"),body:Ot(null,"body"),hasSubject:It(null,"subject"),parentThread:gt(null,"thread","parent"),subject:Ot(null,"subject"),thread:Ot(null,"thread"),type:st("type")}),_i({alternateLanguageStatuses:Ht(null,"status"),priority:Tt(null,"priority",0),show:Ot(null,"show"),status:Ot(null,"status"),type:st("type")}),{element:"query",fields:{version:st("ver",void 0,{emitEmpty:!0})},namespace:ln,path:"iq.roster"},{aliases:[{path:"iq.roster.items",multiple:!0}],element:"item",fields:{groups:Ut(null,"group"),jid:Si("jid"),name:st("name"),pending:st("ask"),preApproved:ct("approved"),subscription:st("subscription")},namespace:ln}],Ls=[{element:"open",fields:{from:st("from"),id:st("id"),lang:jt(),to:st("to"),version:st("version")},namespace:fn,path:"stream",type:"open"},{element:"close",fields:{seeOtherURI:st("see-other-uri")},namespace:fn,path:"stream",type:"close"}],Fs=[{aliases:[{path:"message.forms",multiple:!0}],element:"x",fields:{instructions:Object.assign(Object.assign({},Ut(null,"instructions")),{exportOrder:2}),reported:Object.assign(Object.assign({},Gt(null,"reported","dataformField",!0)),{exportOrder:3}),title:Object.assign(Object.assign({},Ot(null,"title")),{exportOrder:1}),type:st("type")},namespace:hn,optionalNamespaces:{xdv:Xn},path:"dataform"},{aliases:[{path:"dataform.fields",multiple:!0},{path:"dataform.items.fields",multiple:!0}],element:"field",fields:{description:Ot(null,"desc"),label:st("label"),name:st("var"),rawValues:Object.assign(Object.assign({},Ut(null,"value")),{exporter:function(){return null}}),required:It(null,"required"),type:st("type"),value:{importer:function(e,t){var n=e.getAttribute("type"),r=Ut(hn,"value").importer(e,t),i=r[0];switch(n){case co.TextMultiple:case co.ListMultiple:case co.JIDMultiple:return r;case co.Hidden:case co.Fixed:return 1===r.length?i:r;case co.Boolean:if(i)return"1"===i||"true"===i;break;default:return i}},exporter:function(e,t,n){var r=Ut(null,"value"),i=[],a=n.data&&n.data.rawValues?n.data.rawValues[0]:void 0;if("boolean"===typeof t)i="true"===a||"false"===a?[a]:[t?"1":"0"];else if(Array.isArray(t)){var o,s=Object(p.a)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;i.push(c.toString())}}catch(u){s.e(u)}finally{s.f()}}else i=[t.toString()];r.exporter(e,i,Object.assign({},n,{namespace:hn}))}}},namespace:hn,path:"dataformField"},{aliases:[{path:"dataform.fields.options",multiple:!0}],element:"option",fields:{label:st("label"),value:Ot(null,"value")},namespace:hn},{aliases:[{path:"dataform.items",multiple:!0}],element:"item",namespace:hn},{element:"validate",fields:{listMax:bt(null,"list-range","max"),listMin:bt(null,"list-range","min"),method:qt(null,["basic","open","range","regex"],"basic"),rangeMax:gt(null,"range","max"),rangeMin:gt(null,"range","min"),regex:Ot(null,"regex"),type:st("datatype","xs:string")},namespace:Xn,path:"dataform.fields.validation"}],qs=[{aliases:["presence.legacyLastActivity","iq.lastActivity"],element:"query",fields:{seconds:ut("seconds"),status:St()},namespace:mn}],Bs=[{element:"query",fields:{activeList:gt(null,"active","name"),defaultList:gt(null,"default","name")},namespace:vn,path:"iq.privacy"},{aliases:[{path:"iq.privacy.lists",multiple:!0}],element:"list",fields:{name:st("name")},namespace:vn},{aliases:[{path:"iq.privacy.lists.items",multiple:!0}],element:"item",fields:{action:st("action"),incomingPresence:It(null,"presence-in"),iq:It(null,"iq"),messages:It(null,"message"),order:ut("order"),outgoingPresence:It(null,"presence-out"),type:st("type"),value:st("value")},namespace:vn}],Us=[{aliases:["iq.disco","message.disco","features.disco"],childrenExportOrder:{identities:100},element:"query",fields:{features:zt(null,"feature","var"),node:st("node")},namespace:gn,path:"disco",type:"info",typeField:"type"},{aliases:[{path:"disco.identities",selector:"info",multiple:!0}],element:"identity",fields:{category:st("category"),lang:jt(),name:st("name"),type:st("type")},namespace:gn},{aliases:[{path:"disco.items",multiple:!0,selector:"items"}],element:"item",fields:{jid:Si("jid"),name:st("name"),node:st("node")},namespace:yn},{aliases:[{path:"disco.items",multiple:!0,selector:"info"}],element:"item",fields:{category:Si("category"),lang:jt(),name:st("name"),type:st("type")},namespace:gn},ji(hn,"x",[{path:"disco.extensions",multiple:!0,selector:"info"}]),ji(Rn,"set",[{path:"disco.paging",selector:"items"}]),{aliases:["iq.disco","message.disco","features.disco"],element:"query",fields:{node:st("node")},namespace:yn,path:"disco",type:"items",typeField:"type"}],zs=[Oi({addresses:Gt(bn,"addresses","extendedAddress",!0)}),_i({addresses:Gt(bn,"addresses","extendedAddress",!0)}),{element:"address",fields:{alternateLanguageDescriptions:Ht(null,"desc"),delivered:ct("delivered"),description:st("desc"),jid:Si("jid"),node:st("node"),type:st("type"),uri:st("uri")},namespace:bn,path:"extendedAddress"}],Vs=[ji(hn,"x",[{path:"iq.muc.form",selector:"configure"}]),{defaultType:"info",element:"x",fields:{password:Ot(null,"password")},namespace:wn,path:"presence.muc",type:"join",typeField:"type"},{aliases:[{path:"presence.muc.history",selector:"join"}],element:"history",fields:{maxCharacters:ut("maxchars"),maxStanzas:ut("maxstanzas"),seconds:ut("seconds"),since:pt("since")},namespace:wn},{aliases:["presence.muc","message.muc"],defaultType:"info",element:"x",fields:{action:qt(null,["invite","decline","destroy"]),actor:Gt(null,"item","mucactor"),affiliation:gt(null,"item","affiliation"),jid:Ci(null,"item","jid"),nick:gt(null,"item","nick"),password:Ot(null,"password"),reason:Mt([{namespace:null,element:"item"},{namespace:null,element:"reason"}]),role:gt(null,"item","role"),statusCodes:zt(null,"status","code")},namespace:Cn,type:"info",typeField:"type",typeOrder:1},{element:"actor",fields:{jid:Si("jid"),nick:st("nick")},namespace:Cn,path:"mucactor"},{element:"destroy",fields:{jid:Si("jid"),password:Ot(null,"password"),reason:Ot(null,"reason")},namespace:Cn,path:"presence.muc.destroy"},{aliases:[{path:"message.muc.invite",multiple:!0}],element:"invite",fields:{continue:It(null,"continue"),from:Si("from"),reason:Ot(null,"reason"),thread:gt(null,"continue","thread"),to:Si("to")},namespace:Cn},{element:"decline",fields:{from:Si("from"),reason:Ot(null,"reason"),to:Si("to")},namespace:Cn,path:"message.muc",type:"decline"},{element:"query",namespace:kn,path:"iq.muc",type:"user-list",typeField:"type"},{aliases:[{path:"iq.muc.users",multiple:!0,selector:"user-list"}],element:"item",fields:{affiliation:st("affiliation"),jid:Si("jid"),nick:st("nick"),reason:Ot(null,"reason"),role:st("role")},namespace:kn},{aliases:["iq.muc.users.actor"],element:"actor",fields:{jid:Si("jid"),nick:st("nick")},namespace:kn},{element:"query",namespace:Sn,path:"iq.muc",type:"configure",typeField:"type"},{aliases:[{path:"iq.muc.destroy",selector:"configure"}],element:"destroy",fields:{jid:Si("jid"),password:Ot(null,"password"),reason:Ot(null,"reason")},namespace:Sn},{element:"x",fields:{action:Qt("invite"),continue:ct("continue"),jid:Si("jid"),legacyReason:St(),password:st("password"),reason:st("reason"),thread:st("thread")},namespace:Dr,path:"message.muc",type:"direct-invite",typeOrder:2},{element:"unique",fields:{name:St()},namespace:$r,path:"iq.muc",type:"unique"},Oi({legacyMUC:{exporter:function(e,t,n){var r=n.registry?n.registry.export("message.muc",Object.assign(Object.assign({},t),{type:"direct-invite"})):void 0;r&&e.appendChild(r)},exportOrder:100001,importer:function(e,t){if(He(e,Cn,"x")[0]){var n=He(e,Dr,"x")[0];if(n)return t.registry?t.registry.import(n,Object.assign(Object.assign({},t),{path:"message"})):void 0}},importOrder:-1}})],Hs=[{aliases:["iq.ibb","message.ibb"],element:"open",fields:{ack:{importer:function(e,t){return"message"!==st("stanza","iq").importer(e,t)},exporter:function(e,t,n){st("stanza").exporter(e,t?"iq":"message",n)}},blockSize:ut("block-size"),sid:st("sid")},namespace:xn,type:"open",typeField:"action"},{aliases:["iq.ibb","message.ibb"],element:"close",fields:{sid:st("sid")},namespace:xn,type:"close",typeField:"action"},{aliases:["iq.ibb","message.ibb"],element:"data",fields:{data:xt("base64"),seq:ut("seq"),sid:st("sid")},namespace:xn,type:"data",typeField:"action"}],Ws=[{aliases:[{path:"bookmarkStorage",impliedType:!0},{path:"iq.privateStorage.bookmarks",impliedType:!0}].concat(Object(c.a)([{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}])),element:"storage",namespace:jn,type:jn,typeField:"itemType"},{aliases:[{path:"bookmarkStorage.rooms",multiple:!0}],element:"conference",fields:{autoJoin:ct("autojoin"),jid:Si("jid"),name:st("name"),nick:Ot(null,"nick"),password:Ot(null,"password")},namespace:jn}],Gs={element:"query",namespace:On,path:"iq.privateStorage"},Qs=[ji(hn,"x",["iq.command.form"]),Ri({commandError:qt(_n,["bad-action","bad-locale","bad-payload","bad-sessionid","malformed-action","session-expired"])}),{element:"command",fields:{action:st("action"),node:st("node"),sid:st("sessionid"),status:st("status")},namespace:_n,path:"iq.command"},{element:"actions",fields:{complete:It(null,"complete"),execute:st("execute"),next:It(null,"next"),prev:It(null,"prev")},namespace:_n,path:"iq.command.availableActions"},{aliases:[{path:"iq.command.notes",multiple:!0}],element:"note",fields:{type:st("type"),value:St()},namespace:_n}],$s="vcardTemp.records";function Ks(e,t){return{aliases:[{multiple:!0,path:$s}],element:e,fields:{value:St()},namespace:En,type:t,typeField:"type"}}var Js,Ys=[{aliases:[{path:"iq.vcard"}],defaultType:En,element:"vCard",fields:{fullName:Ot(null,"FN")},namespace:En,path:"vcardTemp",type:En,typeField:"format"},{element:"N",fields:{additional:Object.assign(Object.assign({},Ot(null,"MIDDLE")),{order:3}),family:Object.assign(Object.assign({},Ot(null,"FAMILY")),{order:1}),given:Object.assign(Object.assign({},Ot(null,"GIVEN")),{order:2}),prefix:Object.assign(Object.assign({},Ot(null,"PREFIX")),{order:4}),suffix:Object.assign(Object.assign({},Ot(null,"SUFFIX")),{order:5})},namespace:En,path:"vcardTemp.name"},Ks("NICKNAME","nickname"),Ks("BDAY","birthday"),Ks("JABBERID","jid"),Ks("TZ","timezone"),Ks("TITLE","title"),Ks("ROLE","role"),Ks("URL","url"),Ks("NOTE","note"),Ks("SORT-STRING","sort"),Ks("UID","uid"),Ks("REV","revision"),Ks("PRODID","productId"),Ks("DESC","description"),{aliases:[{multiple:!0,path:$s}],element:"EMAIL",fields:{preferred:It(null,"PREF"),types:Wt(null,[["home","HOME"],["work","WORK"],["internet","INTERNET"]]),value:Ot(null,"USERID")},namespace:En,type:"email"},{aliases:[{path:$s,multiple:!0}],element:"ORG",fields:{units:Object.assign(Object.assign({},Ut(null,"ORGUNIT")),{order:2}),value:Object.assign(Object.assign({},Ot(null,"ORGNAME")),{order:1})},namespace:En,type:"organization",typeField:"type"},{aliases:[{multiple:!0,path:$s}],element:"ADR",fields:{city:Ot(null,"LOCALITY"),code:Ot(null,"PCODE"),country:Ot(null,"CTRY"),pobox:Ot(null,"POBOX"),preferred:It(null,"PREF"),region:Ot(null,"REGION"),street:Ot(null,"STREET"),street2:Ot(null,"EXTADD"),types:Wt(null,[["home","HOME"],["work","WORK"],["domestic","DOM"],["international","INTL"],["postal","POSTAL"],["parcel","PARCEL"]])},namespace:En,type:"address",typeField:"type"},{aliases:[{multiple:!0,path:$s}],element:"LABEL",fields:{lines:Ut(null,"LINE"),preferred:It(null,"PREF"),types:Wt(null,[["home","HOME"],["work","WORK"]])},namespace:En,type:"addressLabel",typeField:"type"},{aliases:[{multiple:!0,path:$s}],element:"TEL",fields:{preferred:It(null,"PREF"),types:Wt(null,[["home","HOME"],["work","WORK"],["cell","CELL"],["fax","FAX"],["voice","VOICE"],["msg","MSG"]]),value:Ot(null,"NUMBER","",!0)},namespace:En,type:"tel",typeField:"type"},{aliases:[{multiple:!0,path:$s}],element:"PHOTO",fields:{data:Ot(null,"BINVAL"),mediaType:Ot(null,"TYPE"),url:Ot(null,"EXTVAL")},namespace:En,type:"photo",typeField:"type"},{aliases:[{multiple:!0,path:$s}],element:"LOGO",fields:{data:Ot(null,"BINVAL"),mediaType:Ot(null,"TYPE"),url:Ot(null,"EXTVAL")},namespace:En,type:"logo",typeField:"type"},{aliases:[{multiple:!0,path:$s}],element:"CATEGORIES",fields:{value:Ut(null,"KEYWORD")},namespace:En,type:"categories",typeField:"type"}],Xs=[ji(hn,"x",["iq.search.form"]),ji(Rn,"set",["iq.search.paging"]),{element:"query",fields:{email:Ot(null,"email"),familyName:Ot(null,"last"),givenName:Ot(null,"first"),instructions:Ot(null,"instructions"),nick:Ot(null,"nick")},namespace:Tn,path:"iq.search"},{aliases:[{path:"iq.search.items",multiple:!0}],element:"item",fields:{email:Ot(null,"email"),familyName:Ot(null,"last"),givenName:Ot(null,"first"),jid:Si("jid"),nick:Ot(null,"nick")},namespace:Tn}],Zs={aliases:["iq.pubsub.paging"],element:"set",fields:{after:Ot(null,"after"),before:Ot(null,"before"),count:Tt(null,"count"),first:Ot(null,"first"),firstIndex:bt(null,"first","index"),index:Tt(null,"index"),last:Ot(null,"last"),max:Tt(null,"max")},namespace:Rn,path:"paging"},ec={configurable:It(null,"subscribe-options"),configurationRequired:Lt([{namespace:null,element:"subscribe-options"},{namespace:null,element:"required"}]),jid:Si("jid"),node:st("node"),state:st("subscription"),subid:st("subid")},tc={node:st("node")},nc=[{aliases:["pubsub","iq.pubsub","message.pubsub"],childrenExportOrder:{configure:0,create:100,publish:100,subscribe:100,subscriptionOptions:0},defaultType:"user",element:"pubsub",fields:{publishOptions:Gt(null,"publish-options","dataform")},namespace:Pn,type:"user",typeField:"context"},{aliases:["pubsub","iq.pubsub","message.pubsub"],defaultType:"user",element:"pubsub",fields:{purge:gt(null,"purge","node")},namespace:Nn,type:"owner",typeField:"context"},ji(hn,"x",["iq.pubsub.configure.form","iq.pubsub.defaultConfiguration.form","iq.pubsub.defaultSubscriptionOptions.form","iq.pubsub.subscriptionOptions.form","message.pubsub.configuration.form"]),ji(Rn,"set",["iq.pubsub.fetch.paging"]),Ri({pubsubError:qt(An,Object.values(lo)),pubsubUnsupportedFeature:gt(An,"unsupported","feature")}),{element:"subscribe",fields:{jid:Si("jid"),node:st("node")},namespace:Pn,path:"iq.pubsub.subscribe"},{element:"unsubscribe",fields:{jid:Si("jid"),node:st("node"),subid:st("subid")},namespace:Pn,path:"iq.pubsub.unsubscribe"},{element:"options",fields:{jid:Si("jid"),node:st("node"),subid:st("subid")},namespace:Pn,path:"iq.pubsub.subscriptionOptions"},{aliases:[{path:"iq.pubsub.subscriptions",selector:"user",impliedType:!0}],element:"subscriptions",fields:{jid:Si("jid"),node:st("node")},namespace:Pn,type:"user"},{aliases:[{path:"iq.pubsub.subscriptions",selector:"owner",impliedType:!0}],element:"subscriptions",fields:{jid:Si("jid"),node:st("node")},namespace:Nn,type:"owner"},{aliases:[{path:"iq.pubsub.subscription",selector:"owner"},{impliedType:!0,multiple:!0,path:"iq.pubsub.subscriptions.items",selector:"owner"}],element:"subscription",fields:ec,namespace:Pn},{aliases:[{path:"iq.pubsub.subscription",selector:"user"},{impliedType:!0,multiple:!0,path:"iq.pubsub.subscriptions.items",selector:"user"}],element:"subscription",fields:ec,namespace:Pn,type:"user"},{aliases:[{impliedType:!0,multiple:!0,path:"iq.pubsub.subscriptions.items",selector:"owner"}],element:"subscription",fields:ec,namespace:Nn,type:"owner"},{aliases:[{path:"iq.pubsub.affiliations",selector:"user",impliedType:!0},{path:"message.pubsub.affiliations",selector:"user",impliedType:!0}],element:"affiliations",fields:tc,namespace:Pn,type:"user"},{aliases:[{path:"iq.pubsub.affiliations",selector:"owner",impliedType:!0}],element:"affiliations",fields:tc,namespace:Nn,type:"owner"},{aliases:[{impliedType:!0,multiple:!0,path:"iq.pubsub.affiliations.items",selector:"user"},{impliedType:!0,multiple:!0,path:"message.pubsub.affiliations.items",selector:"user"}],element:"affiliation",fields:{affiliation:st("affiliation"),jid:Si("jid"),node:st("node")},namespace:Pn,type:"user"},{aliases:[{impliedType:!0,multiple:!0,path:"iq.pubsub.affiliations.items",selector:"owner"}],element:"affiliation",fields:{affiliation:st("affiliation"),jid:Si("jid"),node:st("node")},namespace:Nn,type:"owner"},{element:"create",fields:tc,namespace:Pn,path:"iq.pubsub.create"},{aliases:[{path:"iq.pubsub.destroy",selector:"owner"}],element:"delete",fields:{node:st("node"),redirect:gt(null,"redirect","uri")},namespace:Nn},{aliases:[{path:"iq.pubsub.configure",selector:"owner",impliedType:!0}],element:"configure",fields:tc,namespace:Nn,type:"owner"},{aliases:[{path:"iq.pubsub.configure",selector:"user",impliedType:!0}],element:"configure",fields:tc,namespace:Pn,type:"user"},{element:"default",fields:{node:st("node")},namespace:Pn,path:"iq.pubsub.defaultSubscriptionOptions"},{element:"default",fields:{},namespace:Nn,path:"iq.pubsub.defaultConfiguration"},{element:"publish",fields:tc,namespace:Pn,path:"iq.pubsub.publish"},{element:"retract",fields:{id:gt(null,"item","id"),node:st("node"),notify:ct("notify")},namespace:Pn,path:"iq.pubsub.retract"},{element:"items",fields:{max:ut("max_items"),node:st("node")},namespace:Pn,path:"iq.pubsub.fetch"},{aliases:["pubsubitem","iq.pubsub.publish.item",{multiple:!0,path:"iq.pubsub.fetch.items"}],element:"item",fields:{id:st("id"),publisher:Si("publisher")},namespace:Pn},{element:"event",fields:{eventType:qt(null,["purge","delete","subscription","configuration","items"])},namespace:In,path:"message.pubsub",type:"event",typeField:"context"},{aliases:[{path:"message.pubsub.items.published",multiple:!0}],element:"item",fields:{id:st("id"),publisher:Si("publisher")},namespace:In,path:"pubsubeventitem"},{element:"purge",fields:tc,namespace:In,path:"message.pubsub.purge"},{element:"delete",fields:{node:st("node"),redirect:gt(null,"redirect","uri")},namespace:In,path:"message.pubsub.delete"},{aliases:[{path:"message.pubsub.subscription",selector:"event",impliedType:!0}],element:"subscription",fields:{expires:(Js="expiry",{importer:function(e){var t=e.getAttribute(Js);return"presence"===t?t:t?new Date(t):void 0},exporter:function(e,t){var n;n="string"===typeof t?t:t.toISOString(),e.setAttribute(Js,n)}}),jid:Si("jid"),node:st("node"),subid:st("subid"),type:st("subscription")},namespace:In,type:"event"},{element:"configuration",fields:tc,namespace:In,path:"message.pubsub.configuration"},{element:"items",fields:{node:st("node"),retracted:zt(null,"retract","id")},namespace:In,path:"message.pubsub.items"}],rc=[{element:"query",fields:{activate:Ot(null,"activate"),address:st("dstaddr"),candidateUsed:Ci(null,"streamhost-used","jid"),mode:st("mode","tcp"),sid:st("sid"),udpSuccess:gt(null,"udpsuccess","dstaddr")},namespace:Mn,path:"iq.socks5"},{aliases:[{multiple:!0,path:"iq.socks5.candidates"}],element:"streamhost",fields:{host:st("host"),jid:Si("jid"),port:ut("port"),uri:st("uri")},namespace:Mn}],ic=[{aliases:[{multiple:!0,path:"message.links"}],element:"x",fields:{description:Ot(null,"desc"),url:Ot(null,"url")},namespace:Dn},{element:"query",fields:{description:Ot(null,"desc"),url:Ot(null,"url")},namespace:Ln,path:"iq.transferLink"}],ac={element:"html",fields:{alternateLanguageBodies:Kt(Fn,"body","xhtmlim"),body:$t(Fn,"body","xhtmlim")},namespace:qn,path:"message.html"},oc=[Ti({inbandRegistration:It(Un,"register")}),ji(hn,"x",["iq.account.form"]),ji(Dn,"x",["iq.account.registrationLink"]),{element:"query",fields:{address:Ot(null,"address"),date:Et(null,"date"),email:Ot(null,"email"),familyName:Ot(null,"last"),fullName:Ot(null,"name"),givenName:Ot(null,"first"),instructions:Ot(null,"instructions"),key:Ot(null,"key"),locality:Ot(null,"city"),misc:Ot(null,"misc"),nick:Ot(null,"nick"),password:Ot(null,"password"),phone:Ot(null,"phone"),postalCode:Ot(null,"zip"),region:Ot(null,"state"),registered:It(null,"registered"),remove:It(null,"remove"),text:Ot(null,"text"),uri:Ot(null,"uri"),username:Ot(null,"username")},namespace:Bn,path:"iq.account"}],sc={aliases:[{path:"message.geoloc",impliedType:!0},{path:"dataform.fields.geoloc",impliedType:!0}].concat(Object(c.a)([{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}])),element:"geoloc",fields:{accuracy:Rt(null,"accuracy"),altitude:Rt(null,"alt"),altitudeAccuracy:Rt(null,"altaccuracy"),area:Ot(null,"area"),building:Ot(null,"building"),country:Ot(null,"country"),countryCode:Ot(null,"countrycode"),datum:Ot(null,"datum"),description:Ot(null,"description"),error:Rt(null,"error"),floor:Ot(null,"floor"),heading:Rt(null,"bearing"),lang:jt(),latitude:Rt(null,"lat"),locality:Ot(null,"locality"),longitude:Rt(null,"lon"),postalCode:Ot(null,"postalcode"),region:Ot(null,"region"),room:Ot(null,"room"),speed:Rt(null,"speed"),street:Ot(null,"street"),text:Ot(null,"text"),timestamp:Et(null,"timestamp"),tzo:At(null,"tzo"),uri:Ot(null,"uri")},namespace:zn,type:zn},cc=[{aliases:[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}],element:"data",fields:{data:xt("base64")},namespace:Vn,path:"avatar",type:Vn,typeField:"itemType"},{aliases:[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}],element:"metadata",namespace:Hn,path:"avatar",type:Hn,typeField:"itemType"},{aliases:[{multiple:!0,path:"avatar.versions",selector:Hn}],element:"info",fields:{bytes:ut("bytes"),height:ut("height"),id:st("id"),mediaType:st("type"),uri:st("url"),width:ut("width")},namespace:Hn},{aliases:[{multiple:!0,path:"avatar.pointers",selector:Hn}],element:"pointer",fields:{bytes:ut("bytes"),height:ut("height"),id:st("id"),mediaType:st("type"),uri:st("url"),width:ut("width")},namespace:Hn}],uc=Oi({chatState:qt(Wn,Object.values(po))}),lc={element:"query",fields:{name:Ot(null,"name"),os:Ot(null,"os"),version:Ot(null,"version")},namespace:Gn,path:"iq.softwareVersion"},pc={aliases:[{path:"message.mood",impliedType:!0}].concat(Object(c.a)([{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}])),element:"mood",fields:{alternateLanguageText:Ht(null,"text"),text:Ot(null,"text"),value:qt(null,bo)},namespace:Qn,type:Qn},dc={aliases:[{path:"activity",impliedType:!0}].concat(Object(c.a)([{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}])),element:"activity",fields:{activity:Bt(null,wo,ko),alternateLanguageText:Ht(null,"text"),text:Ot(null,"text")},namespace:$n,type:$n},fc={element:"handshake",fields:{value:xt("hex")},namespace:Kn,path:"handshake"},hc={aliases:[{path:"presence.legacyCapabilities",multiple:!0},{path:"features.legacyCapabilities",multiple:!0}],element:"c",fields:{algorithm:st("hash"),legacy:Qt(!0),node:st("node"),value:st("ver")},namespace:Jn},mc={aliases:[{impliedType:!0,path:"tune"}].concat(Object(c.a)([{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}])),element:"tune",fields:{artist:Ot(null,"artist"),length:Tt(null,"length"),rating:Tt(null,"rating"),source:Ot(null,"source"),title:Ot(null,"title"),track:Ot(null,"track"),uri:Ot(null,"uri")},namespace:Yn,type:Yn},vc=["dataformLayout",{multiple:!0,path:"dataformLayout.contents"},{multiple:!0,path:"dataform.layout.contents"}],gc=[{aliases:[{multiple:!0,path:"dataform.layout"}],element:"page",fields:{label:st("label")},namespace:rr},{aliases:vc,element:"section",fields:{label:st("label")},namespace:rr,type:"section",typeField:"type"},{aliases:vc,element:"text",fields:{value:St()},namespace:rr,type:"text",typeField:"type"},{aliases:vc,element:"fieldref",fields:{field:st("var")},namespace:rr,type:"fieldref",typeField:"type"},{aliases:vc,element:"reportedref",namespace:rr,type:"reportedref",typeField:"type"}],yc={element:"body",fields:{acceptMediaTypes:st("accept"),ack:ut("ack"),authId:st("authid"),characterSets:st("charsets"),condition:st("condition"),from:Si("from"),key:st("key"),lang:jt(),maxClientRequests:ut("requests"),maxHoldOpen:ut("hold"),maxInactivityTime:ut("inactivity"),maxSessionPause:ut("maxpause"),maxWaitTime:ut("wait"),mediaType:st("content"),minPollingInterval:ut("polling"),newKey:st("newkey"),pauseSession:ut("pause"),report:ut("report"),rid:ut("rid"),route:st("string"),seeOtherURI:Ot(null,"uri"),sid:st("sid"),stream:st("stream"),time:ut("time"),to:Si("to"),type:st("type"),version:st("ver"),xmppRestart:ft("xmpp",_r,"restart",void 0,{writeValue:function(e){return e?"true":"false"}}),xmppRestartLogic:ft("xmpp",_r,"restartlogic",void 0,{writeValue:function(e){return e?"true":"false"}}),xmppVersion:dt("xmpp",_r,"version")},namespace:Zn,path:"bosh"},bc=[Oi({headers:Gt(er,"headers","header",!0)}),_i({headers:Gt(er,"headers","header",!0)}),{element:"header",fields:{name:st("name"),value:St()},namespace:er,path:"header"}],wc=[{element:"compression",fields:{methods:Ut(null,"method")},namespace:tr,path:"features.compression"},{element:"compress",fields:{method:Ot(null,"method")},namespace:nr,path:"compression",type:"start",typeField:"type"},{aliases:["error.compressionError"],element:"failure",fields:{condition:qt(null,["unsupported-method","setup-failed","processing-failed"])},namespace:nr,path:"compression",type:"failure",typeField:"type"},{element:"compressed",namespace:nr,path:"compression",type:"success",typeField:"type"}],kc=[Oi({rosterExchange:Gt(ir,"x","rosterExchange",!0)}),Ei({rosterExchange:Gt(ir,"x","rosterExchange",!0)}),{element:"item",fields:{action:st("action"),groups:Ut(null,"group"),jid:Si("jid"),name:st("name")},namespace:ir,path:"rosterExchange"}],Sc=_i({vcardAvatar:{importer:function(e){var t=He(e,ar,"x");if(t.length){var n=He(t[0],ar,"photo");return!n.length||n[0].getText()}},exporter:function(e,t){var n=We(e,ar,"x");if(""===t)We(n,ar,"photo");else{if(!0===t)return;t&&We(n,ar,"photo").children.push(t)}}}}),Cc=[Oi({captcha:Gt(cr,"captcha","dataform")}),Ei({captcha:Gt(cr,"captcha","dataform")})],xc=[Ri({jingleError:qt(pr,Object.values(go))}),{element:"jingle",fields:{action:st("action"),initiator:Si("initiator"),responder:Si("responder"),sid:st("sid")},namespace:lr,path:"iq.jingle"},{aliases:[{multiple:!0,path:"iq.jingle.contents"}],element:"content",fields:{creator:st("creator"),disposition:st("disposition","session"),name:st("name"),senders:st("senders","both")},namespace:lr},{element:"reason",fields:{alternativeSession:Ot(null,"alternative-session"),condition:qt(null,Object.values(yo)),text:Ot(null,"text")},namespace:lr,path:"iq.jingle.reason"}];function jc(){return{importer:function(e,t){var n,r=He(e,Ur,"rtcp-fb"),i=st("type").importer,a=st("subtype").importer,o=st("value").importer,s=[],c=Object(p.a)(r);try{for(c.s();!(n=c.n()).done;){var u=n.value,l=i(u,t),d=a(u,t);s.push(d?{type:l,parameter:d}:{type:l})}}catch(v){c.e(v)}finally{c.f()}r=He(e,Ur,"rtcp-fb-trr-int");var f,h=Object(p.a)(r);try{for(h.s();!(f=h.n()).done;){var m=o(f.value,t);s.push(m?{type:"trr-int",parameter:m}:{type:"trr-int"})}}catch(v){h.e(v)}finally{h.f()}return s},exporter:function(e,t,n){var r,i=st("type").exporter,a=st("subtype").exporter,o=st("value").exporter,s=Object(p.a)(t);try{for(s.s();!(r=s.n()).done;){var c=r.value,u=void 0;"trr-int"===c.type?(u=Ue(Ur,"rtcp-fb-trr-int",n.namespace,e),c.parameter&&o(u,c.parameter,n)):(i(u=Ue(Ur,"rtcp-fb",n.namespace,e),c.type,n),c.parameter&&a(u,c.parameter,n)),e.appendChild(u)}}catch(l){s.e(l)}finally{s.f()}}}}for(var Oc="iq.jingle.info",_c=[{aliases:["iq.jingle.contents.application"],childrenExportOrder:{codecs:4,encryption:5,headerExtensions:6,sourceGroups:8,sources:7,streams:9},element:"description",fields:{media:st("media"),rtcpFeedback:Object.assign(Object.assign({},jc()),{exportOrder:3}),rtcpMux:Object.assign(Object.assign({},It(null,"rtcp-mux")),{exportOrder:1}),rtcpReducedSize:Object.assign(Object.assign({},It(null,"rtcp-reduced-size")),{exportOrder:2}),ssrc:st("ssrc")},namespace:dr,optionalNamespaces:{rtcpf:Ur,rtph:zr},type:dr},{aliases:[{multiple:!0,path:"iq.jingle.contents.application.headerExtensions",selector:dr}],element:"rtp-hdrext",fields:{id:ut("id"),senders:st("senders"),uri:st("uri")},namespace:zr},{aliases:[{multiple:!0,path:"iq.jingle.contents.application.codecs",selector:dr},"rtpcodec"],element:"payload-type",fields:{channels:ut("channels"),clockRate:ut("clockrate"),id:st("id"),maxptime:ut("maxptime"),name:st("name"),parameters:Jt(dr,"parameter","name","value"),ptime:ut("ptime"),rtcpFeedback:jc()},namespace:dr},{aliases:[{multiple:!0,path:"iq.jingle.contents.application.sources",selector:dr}],element:"source",fields:{parameters:Jt(oi,"parameter","name","value"),ssrc:st("ssrc")},namespace:oi},{aliases:[{multiple:!0,path:"iq.jingle.contents.application.sourceGroups",selector:dr}],element:"ssrc-group",fields:{semantics:st("semantics"),sources:zt(null,"source","ssrc")},namespace:oi},{aliases:[{multiple:!0,path:"iq.jingle.contents.application.streams",selector:dr}],element:"stream",fields:{id:st("id"),track:st("track")},namespace:wi},{aliases:[{path:"iq.jingle.contents.application.encryption",selector:dr}],element:"encryption",fields:{required:ct("required")},namespace:dr},{aliases:[{multiple:!0,path:"iq.jingle.contents.application.encryption.sdes",selector:dr}],element:"crypto",fields:{cryptoSuite:st("crypto-suite"),keyParameters:st("key-params"),sessionParameters:st("session-params"),tag:ut("tag")},namespace:dr},{aliases:[{path:"iq.jingle.contents.application.encryption.zrtp",selector:dr}],element:"zrtp-hash",fields:{value:xt("hex"),version:st("version")},namespace:dr},{element:"mute",fields:{creator:st("creator"),name:st("name")},namespace:fr,path:Oc,type:Co},{element:"unmute",fields:{creator:st("creator"),name:st("name")},namespace:fr,path:Oc,type:xo},{element:"hold",namespace:fr,path:Oc,type:jo},{element:"unhold",namespace:fr,path:Oc,type:Oo},{element:"active",namespace:fr,path:Oc,type:_o},{element:"ringing",namespace:fr,path:Oc,type:Eo}],Ec=[Oi({nick:Ot(vr,"nick")}),_i({nick:Ot(vr,"nick")}),{aliases:[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}],element:"nick",fields:{nick:St()},namespace:vr,type:vr}],Tc=function(e){return[{element:"transport",fields:{gatheringComplete:It(null,"gathering-complete"),password:st("pwd"),usernameFragment:st("ufrag")},namespace:e,path:"iq.jingle.contents.transport",type:e,typeField:"transportType"},{aliases:[{impliedType:!0,path:"iq.jingle.contents.transport.remoteCandidate",selector:e}],element:"remote-candidate",fields:{component:ut("component"),ip:st("ip"),port:ut("port")},namespace:e,type:e,typeField:"transportType"},{aliases:[{impliedType:!0,multiple:!0,path:"iq.jingle.contents.transport.candidates",selector:e}],element:"candidate",fields:{component:ut("component"),foundation:st("foundation"),generation:ut("generation"),id:st("id"),ip:st("ip"),network:ut("network"),port:ut("port"),priority:ut("priority"),protocol:st("protocol"),relatedAddress:st("rel-addr"),relatedPort:st("rel-port"),tcpType:st("tcptype"),type:st("type")},namespace:e,type:e,typeField:"transportType"}]},Rc=[].concat(Object(c.a)(Tc(di)),Object(c.a)(Tc(gr))),Pc=[{element:"transport",fields:{gatheringComplete:It(null,"gathering-complete"),password:st("pwd"),usernameFragment:st("ufrag")},namespace:yr,path:"iq.jingle.contents.transport",type:yr,typeField:"transportType"},{aliases:[{impliedType:!0,multiple:!0,path:"iq.jingle.contents.transport.candidates",selector:yr}],element:"candidate",fields:{component:ut("component"),foundation:st("foundation"),generation:ut("generation"),id:st("id"),ip:st("ip"),port:ut("port"),type:st("type")},namespace:yr,type:yr,typeField:"transportType"}],Ac=[{element:"request",namespace:br,path:"message.receipt",type:"request",typeField:"type"},{element:"received",fields:{id:st("id")},namespace:br,path:"message.receipt",type:"received",typeField:"type"}],Ic=[{element:"invisible",fields:{probe:ct("probe")},namespace:wr,path:"iq.visibility",type:"invisible",typeField:"type"},{element:"visible",namespace:wr,path:"iq.visibility",type:"visible"}],Nc=[Ri({blocked:It(Sr,"blocked")}),{element:"blocklist",fields:{jids:zt(null,"item","jid")},namespace:kr,path:"iq.blockList",type:"list",typeField:"action"},{element:"block",fields:{jids:zt(null,"item","jid")},namespace:kr,path:"iq.blockList",type:"block",typeField:"action"},{element:"unblock",fields:{jids:zt(null,"item","jid")},namespace:kr,path:"iq.blockList",type:"unblock",typeField:"action"}],Mc=[Ti({streamManagement:It(Cr,"sm")}),{element:"a",fields:{handled:ut("h")},namespace:Cr,path:"sm",type:"ack",typeField:"type"},{element:"r",namespace:Cr,path:"sm",type:"request",typeField:"type"},{element:"enable",fields:{allowResumption:ct("resume")},namespace:Cr,path:"sm",type:"enable",typeField:"type"},{element:"enabled",fields:{id:st("id"),resume:ct("resume")},namespace:Cr,path:"sm",type:"enabled",typeField:"type"},{element:"resume",fields:{handled:ut("h"),previousSession:st("previd")},namespace:Cr,path:"sm",type:"resume",typeField:"type"},{element:"resumed",fields:{handled:ut("h"),previousSession:st("previd")},namespace:Cr,path:"sm",type:"resumed",typeField:"type"},{element:"failed",fields:{handled:ut("h")},namespace:Cr,path:"sm",type:"failed",typeField:"type"}],Dc=Ei({ping:It(xr,"ping")}),Lc={element:"time",fields:{tzo:At(null,"tzo"),utc:Et(null,"utc")},namespace:jr,path:"iq.time"},Fc={aliases:["message.delay","presence.delay"],element:"delay",fields:{from:Si("from"),reason:St(),timestamp:pt("stamp")},namespace:Or},qc={2:Tr,1:Er},Bc=[],Uc=0,zc=Object.entries(qc);Uc<zc.length;Uc++){var Vc=Object(l.a)(zc[Uc],2),Hc=Vc[0],Wc=Vc[1];Bc.push({aliases:["iq.externalServiceCredentials"],defaultType:"2",element:"credentials",fields:{expires:kt(null,"service","expires"),host:gt(null,"service","host"),name:gt(null,"service","name"),password:gt(null,"service","password"),port:bt(null,"service","port"),restricted:yt(null,"service","restricted"),transport:gt(null,"service","transport"),type:gt(null,"service","type"),username:gt(null,"service","username")},namespace:Wc,type:Hc,typeField:"version"},{aliases:["iq.externalServices"],defaultType:"2",element:"services",fields:{type:st("type")},namespace:Wc,type:Hc,typeField:"version"},{aliases:[{path:"iq.externalServices.services",multiple:!0}],defaultType:"2",element:"service",fields:{expires:pt("expires"),host:st("host"),name:st("name"),password:st("password"),port:ut("port"),restricted:ct("restricted"),transport:st("transport"),type:st("type"),username:st("username")},namespace:Wc,type:Hc,typeField:"version"})}for(var Gc=[{element:"media",fields:{height:ut("height"),width:ut("width")},namespace:Rr,path:"dataform.fields.media"},{aliases:[{multiple:!0,path:"dataform.fields.media.sources"}],element:"uri",fields:{mediaType:st("type"),uri:St()},namespace:Rr}],Qc=Oi({requestingAttention:It(Pr,"attention")}),$c={aliases:["iq.bits",{path:"message.bits",multiple:!0},{path:"presence.bits",multiple:!0},{path:"iq.jingle.bits",multiple:!0}],element:"data",fields:{cid:st("cid"),data:xt("base64"),maxAge:ut("max-age"),mediaType:st("type")},namespace:Ar},Kc=[ji(Wr,"hash",[{path:"file.hashes",multiple:!0},{path:"file.range.hashes",multiple:!0}]),ji(Hr,"hash",[{path:"file.hashes",multiple:!0},{path:"file.range.hashes",multiple:!0}]),ji(Wr,"hash-used",[{path:"file.hashesUsed",multiple:!0}]),ji(qr,"thumbnail",[{path:"file.thumbnails",multiple:!0}])],Jc=0,Yc=[Ir,Nr];Jc<Yc.length;Jc++){var Xc=Yc[Jc];Kc=Kc.concat([{aliases:["file",{impliedType:!0,path:"iq.jingle.contents.application.file",selector:Xc},{impliedType:!0,path:"iq.jingle.info.file",selector:"{".concat(Xc,"}checksum")}],defaultType:Nr,element:"file",fields:{date:Et(null,"date"),description:Ot(null,"desc"),mediaType:Ot(null,"media-type"),name:Ot(null,"name"),size:Tt(null,"size")},namespace:Xc,type:Xc,typeField:"version"},{aliases:[{impliedType:!0,path:"file.range",selector:Xc}],defaultType:Nr,element:"range",fields:{length:ut("length"),offset:ut("offset",0)},namespace:Xc,type:Xc,typeField:"version"},{element:"description",namespace:Xc,path:"iq.jingle.contents.application",type:Xc,typeField:"applicationType"},{element:"received",fields:{creator:st("creator"),name:st("name")},namespace:Xc,path:"iq.jingle.info",type:"{".concat(Xc,"}received"),typeField:"infoType"},{element:"checksum",fields:{creator:st("creator"),name:st("name")},namespace:Xc,path:"iq.jingle.info",type:"{".concat(Xc,"}checksum"),typeField:"infoType"}])}for(var Zc=Kc,eu={element:"description",namespace:Mr,path:"iq.jingle.contents.application",type:Mr,typeField:"applicationType"},tu=[{element:"transport",fields:{activated:gt(null,"activated","cid"),address:st("dstaddr"),candidateError:It(null,"candidate-error"),candidateUsed:gt(null,"candidate-used","cid"),mode:st("mode","tcp"),proxyError:It(null,"proxy-error"),sid:st("sid")},namespace:Lr,path:"iq.jingle.contents.transport",type:Lr,typeField:"transportType"},{aliases:[{multiple:!0,path:"iq.jingle.contents.transport.candidates",selector:Lr}],element:"candidate",fields:{cid:st("cid"),host:st("host"),jid:Si("jid"),port:ut("port"),priority:ut("priority"),type:st("type"),uri:st("uri")},namespace:Lr}],nu={element:"transport",fields:{ack:{importer:function(e,t){return"message"!==st("stanza","iq").importer(e,t)},exporter:function(e,t,n){!1===t&&st("stanza").exporter(e,"message",n)}},blockSize:ut("block-size"),sid:st("sid")},namespace:Fr,path:"iq.jingle.contents.transport",type:Fr,typeField:"transportType"},ru=[ji(Ar,"data",[{path:"iq.jingle.bits",multiple:!0}]),{element:"thumbnail",fields:{height:ut("height"),mediaType:st("media-type"),uri:st("uri"),width:ut("width")},namespace:qr,path:"thumbnail"}],iu=[ji(Vr,"forwarded",["message.carbon.forward"]),{element:"enable",namespace:Br,path:"iq.carbons",type:"enable",typeField:"action"},{element:"disable",namespace:Br,path:"iq.carbons",type:"disable",typeField:"action"},{element:"sent",namespace:Br,path:"message.carbon",type:"sent",typeField:"type"},{element:"received",namespace:Br,path:"message.carbon",type:"received",typeField:"type"}],au=[].concat(Object(c.a)(Object.values(ro).map((function(e){return ji(e,"message",["forward.message"])}))),Object(c.a)(Object.values(ro).map((function(e){return ji(e,"presence",["forward.presence"])}))),Object(c.a)(Object.values(ro).map((function(e){return ji(e,"iq",["forward.iq"])}))),[ji(Or,"delay",["forward.delay"]),{aliases:["message.forward"],element:"forwarded",namespace:Vr,path:"forward"}]),ou=[{defaultType:"2",element:"hash",fields:{algorithm:st("algo"),value:xt("base64"),version:Qt("2")},namespace:Wr,path:"hash",type:"2",typeField:"version"},{element:"hash-used",fields:{algorithm:st("algo"),version:Qt("2")},namespace:Wr,path:"hashUsed"},{element:"hash",fields:{algorithm:st("algo"),value:xt("hex"),version:Qt("1")},namespace:Hr,path:"hash",type:"1",typeField:"version"}],su=[{element:"rtt",fields:{event:st("event","edit"),id:st("id"),seq:ut("seq")},namespace:Qr,path:"message.rtt"},{aliases:[{path:"message.rtt.actions",multiple:!0}],element:"t",fields:{position:ut("p"),text:St()},namespace:Qr,type:"insert",typeField:"type"},{aliases:[{path:"message.rtt.actions",multiple:!0}],element:"e",fields:{length:ut("n",1),position:ut("p")},namespace:Qr,type:"erase",typeField:"type"},{aliases:[{multiple:!0,path:"message.rtt.actions"}],element:"w",fields:{duration:ut("n",0)},namespace:Qr,type:"wait",typeField:"type"}],cu=Oi({replace:gt(Kr,"replace","id")}),uu={2:Xr,1:Yr},lu=[ji(hn,"x",["iq.archive.form"]),ji(Vr,"forwarded",["message.archive.item"]),ji(Rn,"set",["iq.archive.paging"])],pu=0,du=Object.entries(uu);pu<du.length;pu++){var fu=Object(l.a)(du[pu],2),hu=fu[0],mu=fu[1];lu.push({defaultType:"query",defaultVersion:"2",element:"query",fields:{node:st("node"),queryId:st("queryid")},namespace:mu,path:"iq.archive",type:"query",typeField:"type",version:hu,versionField:"version"},{element:"fin",fields:{complete:ct("complete"),stable:ct("stable")},namespace:mu,path:"iq.archive",type:"result",version:hu},{element:"prefs",fields:{default:st("default"),always:Ft([{namespace:null,element:"always"},{namespace:null,element:"jid"}]),never:Ft([{namespace:null,element:"never"},{namespace:null,element:"jid"}])},namespace:mu,path:"iq.archive",type:"preferences",version:hu},{element:"result",defaultType:"2",fields:{id:st("id"),queryId:st("queryid")},namespace:mu,path:"message.archive",type:hu,typeField:"version"})}var vu="message.marker";var gu=[Ss,Cs,Ms,Ds,Ls,Fs,qs,Bs,Us,zs,Vs,Hs,Ws,Gs,Qs,Ys,Xs,Zs,nc,rc,ic,ac,oc,sc,cc,uc,lc,pc,dc,fc,hc,mc,yc,bc,wc,gc,kc,Sc,Cc,xc,_c,Ec,Rc,Pc,Ac,Ic,Nc,Mc,Dc,Lc,Fc,Bc,Gc,Qc,$c,Zc,eu,tu,nu,ru,iu,au,ou,su,cu,lu,[_i({hats:Gt(Zr,"hats","hat",!0)}),{element:"hat",fields:{id:st("name"),name:st("displayName")},namespace:Zr,path:"hat"}],_i({idleSince:Et(ei,"since")}),{aliases:[{multiple:!0,path:"iq.jingle.contents.transport.fingerprints",selector:gr},{multiple:!0,path:"iq.jingle.contents.transport.fingerprints",selector:di},{multiple:!0,path:"iq.jingle.contents.application.encryption.dtls",selector:dr}],element:"fingerprint",fields:{algorithm:st("hash"),setup:st("setup"),value:St()},namespace:ti},[{element:"markable",namespace:ni,path:vu,type:"markable",typeField:"type"},{element:"received",fields:{id:st("id")},namespace:ni,path:vu,type:"received"},{element:"displayed",fields:{id:st("id")},namespace:ni,path:vu,type:"displayed"},{element:"acknowledged",fields:{id:st("id")},namespace:ni,path:vu,type:"acknowledged"}],Oi({processingHints:{importer:function(e){var t,n={},r=!1,i=Object(p.a)(e.children);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("string"!==typeof a&&a.getNamespace()===ri)switch(a.getName()){case"no-copy":n.noCopy=!0,r=!0;break;case"no-permanent-store":n.noPermanentStore=!0,r=!0;break;case"no-store":n.noStore=!0,r=!0;break;case"store":n.store=!0,r=!0}}}catch(o){i.e(o)}finally{i.f()}return r?n:void 0},exporter:function(e,t,n){t.noCopy&&e.appendChild(Ue(ri,"no-copy",n.namespace,e)),t.noPermanentStore&&e.appendChild(Ue(ri,"no-permanent-store",n.namespace,e)),t.noStore&&e.appendChild(Ue(ri,"no-store",n.namespace,e)),t.store&&e.appendChild(Ue(ri,"store",n.namespace,e))}}}),[Oi({json:Pt(ii,"json")}),{aliases:[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}],element:"json",fields:{json:Ct()},namespace:ii,type:ii},{aliases:[{path:"message.jsonPayloads",multiple:!0}],element:"payload",fields:{type:st("datatype"),data:Pt(ii,"json")},namespace:yi}],[{aliases:[{path:"iq.jingle.groups",multiple:!0}],element:"group",fields:{contents:zt(null,"content","name"),semantics:st("semantics")},namespace:ai}],{aliases:[{path:"iq.jingle.contents.transport.sctp",selector:gr},{path:"iq.jingle.contents.transport.sctp",selector:di}],element:"sctpmap",fields:{port:ut("number"),protocol:st("protocol"),streams:st("streams")},namespace:si},[{element:"active",namespace:ci,path:"csi",type:"active",typeField:"state"},{element:"inactive",namespace:ci,path:"csi",type:"inactive",typeField:"state"}],[ji(hn,"x",["iq.push.form","pushNotification.form"]),{element:"enable",fields:{jid:Si("jid"),node:st("node")},namespace:ui,path:"iq.push",type:"enable",typeField:"action"},{element:"disable",fields:{jid:Si("jid"),node:st("node")},namespace:ui,path:"iq.push",type:"disable",typeField:"action"},{aliases:[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}],element:"notification",namespace:ui,path:"pushNotification",type:ui,typeField:"itemType"}],[Oi({originId:gt(li,"origin-id","id")}),{aliases:[{path:"message.stanzaIds",multiple:!0}],element:"stanza-id",fields:{by:Si("by"),id:st("id")},namespace:li}],[Ri({httpUploadError:qt(pi,["file-too-large","retry"]),httpUploadMaxFileSize:Dt([{namespace:pi,element:"file-too-large"},{namespace:pi,element:"max-file-size"}]),httpUploadRetry:kt(pi,"retry","stamp")}),{element:"request",fields:{mediaType:st("content-type"),name:st("filename"),size:ut("size")},namespace:pi,path:"iq.httpUpload",type:"request",typeField:"type"},{element:"slot",fields:{download:gt(null,"get","url")},namespace:pi,path:"iq.httpUpload",type:"slot"},{aliases:[{path:"iq.httpUpload.upload",selector:"slot"}],element:"put",fields:{url:st("url")},namespace:pi},{aliases:[{path:"iq.httpUpload.upload.headers",multiple:!0}],element:"header",fields:{name:st("name"),value:St()},namespace:pi}],{element:"encryption",fields:{id:st("namespace"),name:st("name")},namespace:hi,path:"message.encryptionMethod"},[{aliases:["message.omemo"],element:"encrypted",fields:{payload:_t(null,"payload","base64")},namespace:mi,path:"omemo"},{element:"header",fields:{iv:_t(null,"iv","base64"),sid:ut("sid")},namespace:mi,path:"omemo.header"},{aliases:[{path:"omemo.header.keys",multiple:!0}],element:"key",fields:{preKey:ct("prekey"),rid:ut("rid"),value:xt("base64")},namespace:mi},{aliases:[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}],element:"list",fields:{devices:Vt(null,"device","id")},namespace:mi,type:vi,typeField:"itemType"},{element:"preKeyPublic",fields:{id:ut("preKeyId"),value:xt("base64")},namespace:mi,path:"omemoPreKey"},{element:"signedPreKeyPublic",fields:{id:ut("signedPreKeyId"),value:xt("base64")},namespace:mi,path:"omemoDevice.signedPreKeyPublic"},{aliases:[{path:"pubsubcontent",contextField:"itemType"},{path:"pubsubitem.content",contextField:"itemType"},{path:"pubsubeventitem.content",contextField:"itemType"},{path:"iq.pubsub.publish.items",contextField:"itemType"}],element:"bundle",fields:{identityKey:_t(null,"identityKey","base64"),preKeys:Gt(null,"prekeys","omemoPreKey",!0),signedPreKeySignature:_t(null,"signedPreKeySignature","base64")},namespace:mi,path:"omemoDevice",type:gi,typeField:"itemType"}],[{element:"XRD",fields:{subject:Ot(null,"Subject")},namespace:bi,path:"xrd"},{aliases:[{path:"xrd.links",multiple:!0}],element:"Link",fields:{href:st("href"),rel:st("rel"),type:st("type")},namespace:bi}]],yu=function(){function e(t){Object(h.a)(this,e),this.active=!1,this.maxRetries=5,this.stream=t,this.maxTimeout=1100*this.stream.maxWaitTime}return Object(m.a)(e,[{key:"send",value:function(e,t){return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.rid=e,this.active=!0,r=0;case 3:if(!(r<=this.maxRetries)){n.next=35;break}return r+=1,n.prev=5,n.next=8,Ba(va(this.stream.url,{body:t,headers:{"Content-Type":this.stream.contentType},method:"POST"}),this.maxTimeout,(function(){return new Error("Request timed out")}));case 8:if((i=n.sent).ok){n.next=11;break}throw new Error("HTTP Status Error: "+i.status);case 11:return n.next=13,i.text();case 13:return a=n.sent,this.active=!1,n.abrupt("return",a);case 18:if(n.prev=18,n.t0=n.catch(5),1!==r){n.next=24;break}return n.abrupt("continue",3);case 24:if(!(r<this.maxRetries)){n.next=31;break}return o=Math.min(this.maxTimeout,1e3*Math.pow(r,2)),n.next=28,Ua(o+1e3*Math.random());case 28:return n.abrupt("continue",3);case 31:throw this.active=!1,n.t0;case 33:n.next=3;break;case 35:throw new Error("Request failed");case 36:case"end":return n.stop()}}),n,this,[[5,18]])})))}}]),e}(),bu=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e,r,a){var o;return Object(h.a)(this,n),(o=t.call(this,{objectMode:!0})).rid=Math.floor(4294967295*Math.random()),o.sid="",o.maxHoldOpen=2,o.maxWaitTime=30,o.contentType="text/xml; charset=utf-8",o.channels=[new yu(Object(i.a)(o)),new yu(Object(i.a)(o))],o.activeChannelID=0,o.queue=[],o.isEnded=!1,o.client=e,o.sm=r,o.stanzas=a,o.on("data",(function(e){o.client.emit("stream:data",e.stanza,e.kind)})),o.on("end",(function(){o.isEnded=!0,clearTimeout(o.idleTimeout),o.client.transport===Object(i.a)(o)&&o.client.emit("--transport-disconnected")})),o}return Object(m.a)(n,[{key:"_write",value:function(e,t,n){this.queue.push([e,n]),this.scheduleRequests()}},{key:"_writev",value:function(e,t){this.queue.push([e.map((function(e){return e.chunk})).join(""),t]),this.scheduleRequests()}},{key:"_read",value:function(){}},{key:"process",value:function(e){var t=this,n=new Ai({acceptLanguages:this.config.acceptLanguages,allowComments:!1,lang:this.config.lang,registry:this.stanzas,rootKey:"bosh",wrappedStream:!0});n.on("error",(function(e){var n={condition:ao.InvalidXML};return t.client.emit("stream:error",n,e),t.send("error",n),t.disconnect()})),n.on("data",(function(e){if("stream-start"===e.event)return t.stream=e.stanza,void("terminate"===e.stanza.type?(t.hasStream=!1,t.rid=void 0,t.sid=void 0,t.isEnded||(t.isEnded=!0,t.client.emit("bosh:terminate",e.stanza),t.client.emit("stream:end"),t.push(null))):t.hasStream||(t.hasStream=!0,t.stream=e.stanza,t.sid=e.stanza.sid||t.sid,t.maxWaitTime=e.stanza.maxWaitTime||t.maxWaitTime,t.client.emit("stream:start",e.stanza)));e.event||t.push({kind:e.kind,stanza:e.stanza})})),this.client.emit("raw","incoming",e),n.write(e),this.scheduleRequests()}},{key:"connect",value:function(e){if(this.config=e,this.url=e.url,e.rid&&(this.rid=e.rid),e.sid&&(this.sid=e.sid),e.wait&&(this.maxWaitTime=e.wait),this.sid)return this.hasStream=!0,this.stream={},this.client.emit("connected"),this.client.emit("session:prebind",this.config.jid),void this.client.emit("session:started");this._send({lang:e.lang,maxHoldOpen:this.maxHoldOpen,maxWaitTime:this.maxWaitTime,to:e.server,version:"1.6",xmppVersion:"1.0"})}},{key:"restart",value:function(){this.hasStream=!1,this._send({to:this.config.server,xmppRestart:!0})}},{key:"disconnect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.hasStream&&e?this._send({type:"terminate"}):(this.stream=void 0,this.sid=void 0,this.rid=void 0,this.client.emit("--transport-disconnected"))}},{key:"send",value:function(e,t){var n;return Object(y.a)(this,void 0,void 0,f.a.mark((function r(){var i,a=this;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&(i=null===(n=this.stanzas.export(e,t))||void 0===n?void 0:n.toString()),i){r.next=3;break}return r.abrupt("return");case 3:return r.abrupt("return",new Promise((function(e,t){a.write(i,"utf8",(function(n){return n?t(n):e()}))})));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"toggleChannel",value:function(){this.activeChannelID=0===this.activeChannelID?1:0}},{key:"_send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(y.a)(this,void 0,void 0,f.a.mark((function n(){var r,i,a,o=this;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.isEnded){n.next=2;break}return n.abrupt("return");case 2:r=this.rid++,i=this.stanzas.export("bosh",Object.assign(Object.assign({},e),{rid:r,sid:this.sid})),a=t?[i.openTag(),t,i.closeTag()].join(""):i.toString(),this.client.emit("raw","outgoing",a),this.sendingChannel.send(r,a).then((function(e){o.process(e)})).catch((function(e){o.end(e)})),this.toggleChannel();case 8:case"end":return n.stop()}}),n,this)})))}},{key:"_poll",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){var t,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isEnded){e.next=2;break}return e.abrupt("return");case 2:t=this.rid++,n=this.stanzas.export("bosh",{rid:t,sid:this.sid}).toString(),this.client.emit("raw","outgoing",n),this.pollingChannel.send(t,n).then((function(e){r.process(e)})).catch((function(e){r.end(e)}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"scheduleRequests",value:function(){var e=this;clearTimeout(this.idleTimeout),this.idleTimeout=setTimeout((function(){e.fireRequests()}),10)}},{key:"fireRequests",value:function(){if(!this.isEnded)if(this.queue.length)if(this.sendingChannel.active)this.scheduleRequests();else{var e=this.queue.shift(),t=Object(l.a)(e,2),n=t[0],r=t[1];this._send({},n),r()}else!this.authenticated||this.channels[0].active||this.channels[1].active||this._poll()}},{key:"sendingChannel",get:function(){return this.channels[this.activeChannelID]}},{key:"pollingChannel",get:function(){return this.channels[0===this.activeChannelID?1:0]}}]),n}(C.Duplex),wu=function(t){Object(v.a)(r,t);var n=Object(g.a)(r);function r(e,t,a){var o;return Object(h.a)(this,r),(o=n.call(this,{objectMode:!0})).sm=t,o.stanzas=a,o.closing=!1,o.client=e,o.on("data",(function(e){o.client.emit("stream:data",e.stanza,e.kind)})),o.on("error",(function(){o.end()})),o.on("end",(function(){o.client.transport===Object(i.a)(o)&&o.client.emit("--transport-disconnected")})),o}return Object(m.a)(r,[{key:"_read",value:function(){}},{key:"_write",value:function(t,n,r){if(!this.socket||1!==this.socket.readyState)return r(new Error("Socket closed"));var i=e.from(t,"utf8").toString();this.client.emit("raw","outgoing",i),this.socket.send(i),r()}},{key:"connect",value:function(t){var n=this;this.config=t,this.hasStream=!1,this.closing=!1,this.parser=new Ai({acceptLanguages:this.config.acceptLanguages,allowComments:!1,lang:this.config.lang,registry:this.stanzas,wrappedStream:!1}),this.parser.on("data",(function(e){var t=e.kind,r=e.stanza;if("stream"===t){if("open"===r.action)return n.hasStream=!0,n.stream=r,n.client.emit("stream:start",r);if("close"===r.action)return n.client.emit("stream:end"),n.disconnect()}n.push({kind:e.kind,stanza:e.stanza})})),this.parser.on("error",(function(e){var t={condition:ao.InvalidXML};return n.client.emit("stream:error",t,e),n.write(n.stanzas.export("error",t).toString()),n.disconnect()})),this.socket=new ga(t.url,"xmpp"),this.socket.onopen=function(){n.emit("connect"),n.sm.started=!1,n.client.emit("connected"),n.write(n.startHeader())},this.socket.onmessage=function(t){var r=e.from(t.data,"utf8").toString();n.client.emit("raw","incoming",r),n.parser&&n.parser.write(r)},this.socket.onclose=function(){n.push(null)}}},{key:"disconnect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.socket&&!this.closing&&this.hasStream&&e?(this.closing=!0,this.write(this.closeHeader())):(this.hasStream=!1,this.stream=void 0,this.socket&&this.end(),this.socket=void 0)}},{key:"send",value:function(e,t){var n;return Object(y.a)(this,void 0,void 0,f.a.mark((function r(){var i,a=this;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&(i=null===(n=this.stanzas.export(e,t))||void 0===n?void 0:n.toString()),i){r.next=3;break}return r.abrupt("return");case 3:return r.abrupt("return",new Promise((function(e,t){a.write(i,"utf8",(function(n){return n?t(n):e()}))})));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"restart",value:function(){this.hasStream=!1,this.write(this.startHeader())}},{key:"startHeader",value:function(){return this.stanzas.export("stream",{action:"open",lang:this.config.lang,to:this.config.server,version:"1.0"}).toString()}},{key:"closeHeader",value:function(){return this.stanzas.export("stream",{action:"close"}).toString()}}]),r}(C.Duplex),ku=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h.a)(this,n),(e=t.call(this)).reconnectAttempts=0,e.setMaxListeners(100),e.off=e.removeListener,e.updateConfig(r),e.jid="",e.sasl=new wa,e.sasl.register("EXTERNAL",Ta,1e3),e.sasl.register("SCRAM-SHA-256-PLUS",Ia,350),e.sasl.register("SCRAM-SHA-256",Ia,300),e.sasl.register("SCRAM-SHA-1-PLUS",Ia,250),e.sasl.register("SCRAM-SHA-1",Ia,200),e.sasl.register("DIGEST-MD5",Aa,100),e.sasl.register("OAUTHBEARER",Pa,100),e.sasl.register("X-OAUTH2",Ra,50),e.sasl.register("PLAIN",Ra,1),e.sasl.register("ANONYMOUS",Ea,0),e.stanzas=new Xt,e.stanzas.define(gu),e.use(ws),e.sm=new _,void 0!==e.config.allowResumption&&(e.sm.allowResume=e.config.allowResumption),e.sm.on("prebound",(function(t){e.jid=t,e.emit("session:bound",t)})),e.on("session:bound",(function(t){return e.sm.bind(t)})),e.sm.on("send",(function(t){return e.send("sm",t)})),e.sm.on("acked",(function(t){return e.emit("stanza:acked",t)})),e.sm.on("failed",(function(t){return e.emit("stanza:failed",t)})),e.sm.on("hibernated",(function(t){return e.emit("stanza:hibernated",t)})),e.sm.on("begin-resend",(function(){return e.outgoingDataQueue.pause()})),e.sm.on("resend",(function(t){var n=t.kind,r=t.stanza;return e.send(n,r,!0)})),e.sm.on("end-resend",(function(){return e.outgoingDataQueue.resume()}));for(var a=function(){var t=s[o];e.on("stanza:".concat(t),(function(n){"message"===n.kind&&e.emit("message:".concat(t),n.stanza)}))},o=0,s=["acked","hibernated","failed"];o<s.length;o++)a();return e.transports={bosh:bu,websocket:wu},e.incomingDataQueue=Object(b.a)((function(t,n){return Object(y.a)(Object(i.a)(e),void 0,void 0,f.a.mark((function e(){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.kind,i=t.stanza,this.emit(r,i),i.id&&this.emit(r+":id:"+i.id,i),"message"!==r&&"presence"!==r&&"iq"!==r){e.next=9;break}return this.emit("stanza",i),e.next=7,this.sm.handle();case 7:e.next=15;break;case 9:if("sm"!==r){e.next=15;break}if("ack"!==i.type){e.next=14;break}return e.next=13,this.sm.process(i);case 13:this.emit("stream:management:ack",i);case 14:"request"===i.type&&this.sm.ack();case 15:n&&n();case 16:case"end":return e.stop()}}),e,this)})))}),1),e.outgoingDataQueue=Object(b.a)((function(t,n){return Object(y.a)(Object(i.a)(e),void 0,void 0,f.a.mark((function e(){var r,i,a,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.kind,a=t.stanza,o=t.replay,e.t0=o,e.t0){e.next=6;break}return e.next=5,this.sm.track(i,a);case 5:e.t0=e.sent;case 6:if(s=e.t0,"message"===i&&(o?this.emit("message:retry",a):this.emit("message:sent",a,!1)),e.prev=8,this.transport){e.next=11;break}throw new Error("Missing transport");case 11:return e.next=13,this.transport.send(i,a);case 13:s&&(null===(r=this.transport)||void 0===r||r.send("sm",{type:"request"})),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(8),["message","presence","iq"].includes(i)&&(this.sm.started&&this.sm.resumable?this.sm.resumable&&!this.transport&&this.emit("stanza:hibernated",{kind:i,stanza:a}):this.emit("stanza:failed",{kind:i,stanza:a}));case 19:n&&n();case 20:case"end":return e.stop()}}),e,this,[[8,16]])})))}),1),e.on("stream:data",(function(t,n){e.incomingDataQueue.push({kind:n,stanza:t},0)})),e.on("--transport-disconnected",(function(){return Object(y.a)(Object(i.a)(e),void 0,void 0,f.a.mark((function e(){var t,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.incomingDataQueue.idle()||t.push(this.incomingDataQueue.drain()),this.outgoingDataQueue.idle()||t.push(this.outgoingDataQueue.drain()),e.next=5,Promise.all(t);case 5:return e.next=7,this.sm.hibernate();case 7:this.transport&&delete this.transport,this.emit("--reset-stream-features"),!this.sessionTerminating&&this.config.autoReconnect&&(this.reconnectAttempts+=1,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout((function(){n.connect()}),1e3*Math.min(Math.pow(2,this.reconnectAttempts)+Math.random(),this.config.maxReconnectBackoff||32))),this.emit("disconnected");case 11:case"end":return e.stop()}}),e,this)})))})),e.on("iq",(function(t){var n=t.type,r=t.payloadType,i="iq:"+n+":"+r;if("get"===n||"set"===n){if("invalid-payload-count"===r)return e.sendIQError(t,{error:{condition:"bad-request",type:"modify"}});if("unknown-payload"===r||0===e.listenerCount(i))return e.sendIQError(t,{error:{condition:"service-unavailable",type:"cancel"}});e.emit(i,t)}})),e.on("message",(function(t){var n=t.alternateLanguageBodies&&t.alternateLanguageBodies.length||t.links&&t.links.length,r=t.marker&&"markable"!==t.marker.type;n&&!r&&("chat"===t.type||"normal"===t.type?e.emit("chat",t):"groupchat"===t.type&&e.emit("groupchat",t)),"error"===t.type&&e.emit("message:error",t)})),e.on("presence",(function(t){var n=t.type||"available";"error"===n&&(n="presence:error"),e.emit(n,t)})),e.on("session:started",(function(){e.sessionStarting=!1,e.reconnectAttempts=0,e.reconnectTimer&&clearTimeout(e.reconnectTimer)})),e}return Object(m.a)(n,[{key:"updateConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.config||{};this.config=Object.assign(Object.assign({allowResumption:!0,jid:"",transports:{bosh:!0,websocket:!0},useStreamManagement:!0},t),e),this.config.server||(this.config.server=ce(this.config.jid)),this.config.password&&(this.config.credentials=this.config.credentials||{},this.config.credentials.password=this.config.password,delete this.config.password)}},{key:"emit",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var c,u=(t=Object(a.a)(Object(o.a)(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i));"raw"===e?(Object(a.a)(Object(o.a)(n.prototype),"emit",this).call(this,"raw:".concat(i[0]),i[1]),Object(a.a)(Object(o.a)(n.prototype),"emit",this).call(this,"raw:*","raw:".concat(i[0]),i[1]),Object(a.a)(Object(o.a)(n.prototype),"emit",this).call(this,"*","raw:".concat(i[0]),i[1])):(c=Object(a.a)(Object(o.a)(n.prototype),"emit",this)).call.apply(c,[this,"*",e].concat(i));return u}},{key:"use",value:function(e){"function"===typeof e&&e(this,this.stanzas,this.config)}},{key:"nextId",value:function(){return Va()}},{key:"getCredentials",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getConfiguredCredentials());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"connect",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){var t,n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.sessionTerminating=!1,this.sessionStarting=!0,this.emit("--reset-stream-features"),this.transport&&this.transport.disconnect(!1),n=0,r=["websocket","bosh"];case 6:if(!(n<r.length)){e.next=37;break}if(i=r[n],a=this.config.transports[i]){e.next=11;break}return e.abrupt("continue",34);case 11:if("string"!==typeof a){e.next=15;break}a={url:a},e.next=31;break;case 15:if(!0!==a){e.next=31;break}if(t){e.next=27;break}return e.prev=17,e.next=20,this.discoverBindings(this.config.server);case 20:t=e.sent,e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(17),console.error(e.t0),e.abrupt("continue",34);case 27:if(t[i]=(t[i]||[]).filter((function(e){return e.startsWith("wss:")||e.startsWith("https:")})),t[i]&&t[i].length){e.next=30;break}return e.abrupt("continue",34);case 30:a={url:t[i][0]};case 31:return this.transport=new this.transports[i](this,this.sm,this.stanzas),this.transport.connect(Object.assign({acceptLanguages:this.config.acceptLanguages||["en"],jid:this.config.jid,lang:this.config.lang||"en",server:this.config.server,url:a.url},a)),e.abrupt("return");case 34:n++,e.next=6;break;case 37:console.error("No endpoints found for the requested transports."),this.emit("--transport-disconnected");case 39:case"end":return e.stop()}}),e,this,[[17,23]])})))}},{key:"disconnect",value:function(){return Object(y.a)(this,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sessionTerminating=!0,this.outgoingDataQueue.pause(),this.sessionStarted&&!this.sm.started&&this.emit("session:end"),this.emit("--reset-stream-features"),this.sessionStarted=!1,this.transport?this.transport.disconnect():this.emit("--transport-disconnected"),this.outgoingDataQueue.resume(),this.outgoingDataQueue.idle()){e.next=10;break}return e.next=10,this.outgoingDataQueue.drain();case 10:return e.next=12,this.sm.shutdown();case 12:case"end":return e.stop()}}),e,this)})))}},{key:"send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(y.a)(this,void 0,void 0,f.a.mark((function r(){var i=this;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,a){i.outgoingDataQueue.push({kind:e,stanza:t,replay:n},n?0:1,(function(e){return e?a(e):r()}))})));case 1:case"end":return r.stop()}}),r)})))}},{key:"sendMessage",value:function(e){var t=e.id||this.nextId(),n=Object.assign({id:t,originId:t},e);return this.send("message",n),n.id}},{key:"sendPresence",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({id:this.nextId()},e);return this.send("presence",t),t.id}},{key:"sendIQ",value:function(e){var t=this,n=Object.assign({id:this.nextId()},e),r=ae(this.jid,e.to),i="iq:id:"+n.id,a=new Promise((function(e,n){t.on(i,(function a(o){r.has(o.from)&&("result"!==o.type&&"error"!==o.type||(t.off(i,a),"result"===o.type?e(o):n(o)))}))}));this.send("iq",n);var o=this.config.timeout||15;return Ba(a,1e3*o,(function(){return Object.assign(Object.assign({},n),{to:void 0,from:void 0,error:{condition:"timeout",text:"Request timed out after ".concat(o," seconds.")},id:n.id,type:"error"})}))}},{key:"sendIQResult",value:function(e,t){this.send("iq",Object.assign(Object.assign({},t),{id:e.id,to:e.from,type:"result"}))}},{key:"sendIQError",value:function(e,t){this.send("iq",Object.assign(Object.assign({},t),{id:e.id,to:e.from,type:"error"}))}},{key:"sendStreamError",value:function(e){this.emit("stream:error",e),this.send("error",e),this.disconnect()}},{key:"_getConfiguredCredentials",value:function(){var e=this.config.credentials||{},t=ie(this.config.jid||""),n=e.username||t.local,r=e.host||t.domain;return Object.assign({host:r,password:this.config.password,realm:r,serviceName:r,serviceType:"xmpp",username:n},e)}},{key:"stream",get:function(){return this.transport?this.transport.stream:void 0}}]),n}(w.EventEmitter);function Su(e,t){var n=e.length,r=t.length,i=Math.min(n,r),a=0;for(a=0;a<i&&e[a]===t[a];a++);var o=0;for(o=0;o<i-a&&e[n-o-1]===t[r-o-1];o++);var s=a+o,c=[];if(s<n&&c.push({length:n-s,position:n-o,type:"erase"}),s<r){var u=t.slice(a,a+r-s);c.push({position:a,text:S.a.ucs2.encode(u),type:"insert"})}return c}var Cu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(h.a)(this,e),this.synced=!1,this.cursorPosition=0,this.ignoreWaits=!1,this.timeDeficit=0,this.sequenceNumber=0,this.onStateChange=t||function(){},this.ignoreWaits=n,this.buffer=[],this.resetActionQueue()}return Object(m.a)(e,[{key:"commit",value:function(){this.resetActionQueue()}},{key:"process",value:function(e){if("cancel"!==e.event&&"init"!==e.event){if("reset"===e.event||"new"===e.event?(this.resetActionQueue(),void 0!==e.seq&&(this.sequenceNumber=e.seq)):e.seq!==this.sequenceNumber&&(this.synced=!1),e.actions){var t,n=Date.now(),r=0,i=Object(p.a)(e.actions);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.baseTime=n+r,"wait"===a.type&&(r+=a.duration),this.actionQueue.push(a,0)}}catch(o){i.e(o)}finally{i.f()}}this.sequenceNumber=this.sequenceNumber+1}else this.resetActionQueue()}},{key:"insert",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.buffer.length;t=t.normalize("NFC");var r=S.a.ucs2.decode(t);(e=this.buffer).splice.apply(e,[n,0].concat(Object(c.a)(r))),this.cursorPosition=n+r.length,this.emitState()}},{key:"erase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.buffer.length;t=Math.max(Math.min(t,this.buffer.length),0),e=Math.max(Math.min(e,this.text.length),0),this.buffer.splice(Math.max(t-e,0),e),this.cursorPosition=Math.max(t-e,0),this.emitState()}},{key:"emitState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.onStateChange(Object.assign({cursorPosition:this.cursorPosition,synced:this.synced,text:this.text},e))}},{key:"resetActionQueue",value:function(){var e=this;this.actionQueue&&this.actionQueue.kill(),this.sequenceNumber=0,this.synced=!0,this.buffer=[],this.timeDeficit=0,this.actionQueue=Object(b.a)((function(t,n){var r=Date.now();if("insert"===t.type)return e.insert(t.text,t.position),n();if("erase"===t.type)return e.erase(t.length,t.position),n();if("wait"!==t.type)return n();if(e.ignoreWaits)return n();t.duration>700&&(t.duration=700);var i=t.duration-(r-t.baseTime)+e.timeDeficit;if(i<=0)return e.timeDeficit=i,n();e.timeDeficit=0,setTimeout((function(){return n()}),i)}),1),this.emitState()}},{key:"text",get:function(){return S.a.ucs2.encode(this.buffer.slice())}}]),e}(),xu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(h.a)(this,e),this.resetInterval=1e4,this.ignoreWaits=!1,this.isStarting=!1,this.isReset=!1,this.changedBetweenResets=!1,this.onStateChange=t||function(){},this.ignoreWaits=n,this.buffer=[],this.actionQueue=[],this.sequenceNumber=0}return Object(m.a)(e,[{key:"update",value:function(e){var t=[];if(void 0!==e){e=e.normalize("NFC");var n=S.a.ucs2.decode(e);t=Su(this.buffer,n.slice()),this.buffer=n,this.emitState()}var r=Date.now();if(this.changedBetweenResets&&r-this.lastResetTime>this.resetInterval)this.actionQueue=[],this.actionQueue.push({position:0,text:this.text,type:"insert"}),this.isReset=!0,this.lastActionTime=r,this.lastResetTime=r,this.changedBetweenResets=!1;else if(t.length){var i=r-(this.lastActionTime||r);i>0&&!this.ignoreWaits&&this.actionQueue.push({duration:i,type:"wait"});var a,o=Object(p.a)(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.actionQueue.push(s)}}catch(c){o.e(c)}finally{o.f()}this.lastActionTime=r,this.changedBetweenResets=!0}else this.lastActionTime=r}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.resetInterval;return this.commit(),this.isStarting=!0,this.resetInterval=e,this.sequenceNumber=Math.floor(1e4*Math.random()+1),{event:"init"}}},{key:"stop",value:function(){return this.commit(),{event:"cancel"}}},{key:"diff",value:function(){if(this.update(),!this.actionQueue.length)return null;var e={actions:this.actionQueue,seq:this.sequenceNumber++};return this.isStarting?(e.event="new",this.isStarting=!1,this.lastResetTime=Date.now()):this.isReset&&(e.event="reset",this.isReset=!1),this.actionQueue=[],e}},{key:"commit",value:function(){this.sequenceNumber=0,this.lastActionTime=0,this.actionQueue=[],this.buffer=[]}},{key:"emitState",value:function(){this.onStateChange({text:this.text})}},{key:"text",get:function(){return S.a.ucs2.encode(this.buffer.slice())}}]),e}(),ju=Object.freeze({__proto__:null,diff:Su,DisplayBuffer:Cu,InputBuffer:xu});function Ou(e){var t=new ku(e);return t.use(ks),t}}).call(this,n(25).Buffer,n(21))},function(e,t,n){"use strict";e.exports=n(88)},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var a=n[i],o=r.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=r.parseRtpMap(o),c=r.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),a&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var a=r.matchPrefix(e,"a=rtcp-mux");return t.mux=a.length>0,t},r.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var a=r.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};var o=r.matchPrefix(e,"a=sctpmap:");if(o.length>0){var s=o[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return U}));var r=n(3),i=n.n(r),a=(n(90),i.a.createContext(null));var o=function(e){e()},s={notify:function(){}};function c(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=c())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var l=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,c]);var l=n||a;return i.a.createElement(l.Provider,{value:s},o)};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f=n(34),h=n.n(f),m=n(33),v="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,g=[],y=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function w(e,t,n){v((function(){return e.apply(void 0,t)}),n)}function k(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function S(e,t,n,r,i,a,o,s,c,u){if(e){var l=!1,p=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,i.current)}catch(f){n=f,p=f}n||(p=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}}var C=function(){return[null,0]};function x(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=n.methodName,l=void 0===c?"connectAdvanced":c,f=n.renderCountProp,v=void 0===f?void 0:f,x=n.shouldHandleStateChanges,j=void 0===x||x,O=n.storeKey,_=void 0===O?"store":O,E=(n.withRef,n.forwardRef),T=void 0!==E&&E,R=n.context,P=void 0===R?a:R,A=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),I=P;return function(t){var n=t.displayName||t.name||"Component",a=s(n),o=p({},A,{getDisplayName:s,methodName:l,renderCountProp:v,shouldHandleStateChanges:j,storeKey:_,displayName:a,wrappedComponentName:n,WrappedComponent:t}),c=A.pure;var f=c?r.useMemo:function(e){return e()};function x(n){var a=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=d(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=a[0],c=a[1],l=a[2],h=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(m.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:I}),[s,I]),v=Object(r.useContext)(h),x=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(v)&&Boolean(v.store);var O=x?n.store:v.store,_=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(O)}),[O]),E=Object(r.useMemo)((function(){if(!j)return y;var e=new u(O,x?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[O,x,v]),T=E[0],R=E[1],P=Object(r.useMemo)((function(){return x?v:p({},v,{subscription:T})}),[x,v,T]),A=Object(r.useReducer)(b,g,C),N=A[0][0],M=A[1];if(N&&N.error)throw N.error;var D=Object(r.useRef)(),L=Object(r.useRef)(l),F=Object(r.useRef)(),q=Object(r.useRef)(!1),B=f((function(){return F.current&&l===L.current?F.current:_(O.getState(),l)}),[O,N,l]);w(k,[L,D,q,l,B,F,R]),w(S,[j,O,T,_,L,D,q,F,R,M],[O,T,_]);var U=Object(r.useMemo)((function(){return i.a.createElement(t,p({},B,{ref:c}))}),[c,t,B]);return Object(r.useMemo)((function(){return j?i.a.createElement(h.Provider,{value:P},U):U}),[h,U,P])}var O=c?i.a.memo(x):x;if(O.WrappedComponent=t,O.displayName=a,T){var E=i.a.forwardRef((function(e,t){return i.a.createElement(O,p({},e,{reactReduxForwardedRef:t}))}));return E.displayName=a,E.WrappedComponent=t,h()(E,t)}return h()(O,t)}}function j(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function O(e,t){if(j(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!j(e[n[i]],t[n[i]]))return!1;return!0}var _=n(24);function E(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(t,n)),i},r}}var P=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:E((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?E((function(t){return Object(_.b)(e,t)})):void 0}];var A=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:E((function(){return{}}))}];function I(e,t,n){return p({},n,e,t)}var N=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var c=e(t,n,s);return o?i&&a(c,r)||(r=c):(o=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return I}}];function M(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function D(e,t,n,r,i){var a,o,s,c,u,l=i.areStatesEqual,p=i.areOwnPropsEqual,d=i.areStatePropsEqual,f=!1;function h(i,f){var h=!p(f,o),m=!l(i,a);return a=i,o=f,h&&m?(s=e(a,o),t.dependsOnOwnProps&&(c=t(r,o)),u=n(s,c,o)):h?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(c=t(r,o)),u=n(s,c,o)):m?function(){var t=e(a,o),r=!d(t,s);return s=t,r&&(u=n(s,c,o)),u}():u}return function(i,l){return f?h(i,l):(s=e(a=i,o=l),c=t(r,o),u=n(s,c,o),f=!0,u)}}function L(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),c=i(e,a);return(a.pure?D:M)(o,s,c,e,a)}function F(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}function B(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?x:n,i=t.mapStateToPropsFactories,a=void 0===i?A:i,o=t.mapDispatchToPropsFactories,s=void 0===o?P:o,c=t.mergePropsFactories,u=void 0===c?N:c,l=t.selectorFactory,f=void 0===l?L:l;return function(e,t,n,i){void 0===i&&(i={});var o=i,c=o.pure,l=void 0===c||c,h=o.areStatesEqual,m=void 0===h?q:h,v=o.areOwnPropsEqual,g=void 0===v?O:v,y=o.areStatePropsEqual,b=void 0===y?O:y,w=o.areMergedPropsEqual,k=void 0===w?O:w,S=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=F(e,a,"mapStateToProps"),x=F(t,s,"mapDispatchToProps"),j=F(n,u,"mergeProps");return r(f,p({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:x,initMergeProps:j,pure:l,areStatesEqual:m,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:k},S))}}var U=B();var z,V=n(47);z=V.unstable_batchedUpdates,o=z},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var i,a,o,s;if(u(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var u=c.length,l=v(c,u);for(n=0;n<u;++n)a(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return p(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return p(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(e,r){var i;!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,u=36,l=/^xn--/,p=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return g(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=u)e=h(e/35);return h(r+36*e/(e+38))}function C(e){var t,n,r,i,a,o,s,l,p,d,f,m=[],g=e.length,y=0,b=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=y,o=1,s=u;i>=g&&v("invalid-input"),((l=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:u)>=u||l>h((c-y)/o))&&v("overflow"),y+=l*o,!(l<(p=s<=k?1:s>=k+26?26:s-k));s+=u)o>h(c/(d=u-p))&&v("overflow"),o*=d;k=S(y-a,t=m.length+1,0==a),h(y/t)>c-b&&v("overflow"),b+=h(y/t),y%=t,m.splice(y++,0,b)}return w(m)}function x(e){var t,n,r,i,a,o,s,l,p,d,f,g,y,w,C,x=[];for(g=(e=b(e)).length,t=128,n=0,a=72,o=0;o<g;++o)(f=e[o])<128&&x.push(m(f));for(r=i=x.length,i&&x.push("-");r<g;){for(s=c,o=0;o<g;++o)(f=e[o])>=t&&f<s&&(s=f);for(s-t>h((c-n)/(y=r+1))&&v("overflow"),n+=(s-t)*y,t=s,o=0;o<g;++o)if((f=e[o])<t&&++n>c&&v("overflow"),f==t){for(l=n,p=u;!(l<(d=p<=a?1:p>=a+26?26:p-a));p+=u)C=l-d,w=u-d,x.push(m(k(d+C%w,0))),l=h(C/w);x.push(m(k(l,0))),a=S(n,y,r==i),n=0,++r}++n,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:w},decode:C,encode:x,toASCII:function(e){return y(e,(function(e){return p.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return y(e,(function(e){return l.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(72)(e),n(21))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Hi})),n.d(t,"b",(function(){return Vi})),n.d(t,"c",(function(){return Mi})),n.d(t,"d",(function(){return Wi})),n.d(t,"e",(function(){return Qi})),n.d(t,"f",(function(){return Ki})),n.d(t,"g",(function(){return Zi})),n.d(t,"h",(function(){return ta})),n.d(t,"i",(function(){return ia})),n.d(t,"j",(function(){return oa}));var r={};n.r(r),n.d(r,"shimGetUserMedia",(function(){return F})),n.d(r,"shimGetDisplayMedia",(function(){return q})),n.d(r,"shimMediaStream",(function(){return B})),n.d(r,"shimOnTrack",(function(){return U})),n.d(r,"shimGetSendersWithDtmf",(function(){return z})),n.d(r,"shimGetStats",(function(){return V})),n.d(r,"shimSenderReceiverGetStats",(function(){return H})),n.d(r,"shimAddTrackRemoveTrackWithNative",(function(){return W})),n.d(r,"shimAddTrackRemoveTrack",(function(){return G})),n.d(r,"shimPeerConnection",(function(){return Q})),n.d(r,"fixNegotiationNeeded",(function(){return $}));var i={};n.r(i),n.d(i,"shimGetUserMedia",(function(){return Y})),n.d(i,"shimGetDisplayMedia",(function(){return X})),n.d(i,"shimPeerConnection",(function(){return Z})),n.d(i,"shimReplaceTrack",(function(){return ee}));var a={};n.r(a),n.d(a,"shimGetUserMedia",(function(){return te})),n.d(a,"shimGetDisplayMedia",(function(){return ne})),n.d(a,"shimOnTrack",(function(){return re})),n.d(a,"shimPeerConnection",(function(){return ie})),n.d(a,"shimSenderGetStats",(function(){return ae})),n.d(a,"shimReceiverGetStats",(function(){return oe})),n.d(a,"shimRemoveStream",(function(){return se})),n.d(a,"shimRTCDataChannel",(function(){return ce})),n.d(a,"shimAddTransceiver",(function(){return ue})),n.d(a,"shimGetParameters",(function(){return le})),n.d(a,"shimCreateOffer",(function(){return pe})),n.d(a,"shimCreateAnswer",(function(){return de}));var o={};n.r(o),n.d(o,"shimLocalStreamsAPI",(function(){return fe})),n.d(o,"shimRemoteStreamsAPI",(function(){return he})),n.d(o,"shimCallbacksAPI",(function(){return me})),n.d(o,"shimGetUserMedia",(function(){return ve})),n.d(o,"shimConstraints",(function(){return ge})),n.d(o,"shimRTCIceServerUrls",(function(){return ye})),n.d(o,"shimTrackEventTransceiver",(function(){return be})),n.d(o,"shimCreateOfferLegacy",(function(){return we})),n.d(o,"shimAudioContext",(function(){return ke}));var s={};n.r(s),n.d(s,"shimRTCIceCandidate",(function(){return xe})),n.d(s,"shimMaxMessageSize",(function(){return je})),n.d(s,"shimSendThrowTypeError",(function(){return Oe})),n.d(s,"shimConnectionState",(function(){return _e})),n.d(s,"removeAllowExtmapMixed",(function(){return Ee}));var c=n(9),u=n(49),l=n(6),p=n(7),d=n(8),f=n(0),h=n.n(f),m=n(11),v=n(4),g=n(5),y=n(1),b=n(24);function w(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var k=w();k.withExtraArgument=w;var S=k,C=n(2),x=!0,j=!0;function O(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function _(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var a=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,a),i.apply(this,[e,a])};var a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function E(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(x=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function T(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(j=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function R(){if("object"===typeof window){if(x)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function P(e,t){j&&console.warn(e+" is deprecated, please use "+t+" instead.")}function A(e){var t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=O(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=O(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=O(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=O(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function I(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e){return I(e)?Object.keys(e).reduce((function(t,n){var r=I(e[n]),i=r?N(e[n]):e[n],a=r&&!Object.keys(i).length;return void 0===i||a?t:Object.assign(t,Object(c.a)({},n,i))}),{}):e}function M(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?M(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){M(e,e.get(t),n)}))})))}function D(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&M(e,n,i)}))})),i}var L=R;function F(e){var t=e&&e.navigator;if(t.mediaDevices){var n=A(e),r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"===typeof r.ideal?(a[i("min",n)]=r.ideal,t.optional.push(a),(a={})[i("max",n)]=r.ideal,t.optional.push(a)):(a[i("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(n.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){var o=e.video.facingMode;o=o&&("object"===typeof o?o:{ideal:o});var s,c=n.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?s=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(s=["front"]),s)return t.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=o.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),L("chrome: "+JSON.stringify(e)),i(e)}));e.video=r(e.video)}return L("chrome: "+JSON.stringify(e)),i(e)},a=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,r){i(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){r&&r(a(e))}))}))}.bind(t),t.mediaDevices.getUserMedia){var o=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return o(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}}function q(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function B(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function U(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var a=new Event("track");a.track=r.track,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var a=new Event("track");a.track=r,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else _(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function z(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function V(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],a=n[2];if(arguments.length>0&&"function"===typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof r))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){i(s(o(e)))};return t.apply(this,[c,r])}return new Promise((function(n,r){t.apply(e,[function(e){n(s(o(e)))},r])})).then(i,a)}}}function H(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return D(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),_(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return D(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,a=arguments[0];return this.getSenders().forEach((function(e){e.track===a&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===a&&(n?r=!0:n=e),e.track===a})),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function W(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function G(e){if(e.RTCPeerConnection){var t=A(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return W(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var a=this.getSenders().find((function(e){return e.track===t}));if(a)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=Object(c.a)({},t,(function(){var e=this,t=arguments,r=arguments.length&&"function"===typeof arguments[0];return r?n.apply(this,[function(n){var r=s(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return s(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=u(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};var o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=o.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function u(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function Q(e){var t=A(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){var n=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=Object(c.a)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function $(e){var t=A(e);_(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var K=n(81),J=n.n(K);function Y(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}function X(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function Z(e){var t=A(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=J()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&P("RTCIceServer.url","RTCIceServer.urls");var r="string"===typeof t;return r&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))}(e.iceServers,t.version),R("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function ee(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function te(e){var t=A(e),n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){P("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===typeof e&&"object"===typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},r&&r.prototype.getSettings){var o=r.prototype.getSettings;r.prototype.getSettings=function(){var e=o.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===typeof e&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function ne(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function re(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ie(e){var t=A(e);if("object"===typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=Object(c.a)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]})),t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],a=e[1],o=e[2];return i.apply(this,[n||null]).then((function(e){if(t.version<53&&!a)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(a,o)}}}function ae(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function oe(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),_(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function se(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;P("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function ce(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ue(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,a=i.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(a).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function le(e){if("object"===typeof e&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function pe(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function de(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function fe(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function he(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function me(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}}function ve(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(ge(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function ge(e){return e&&void 0!==e.video?Object.assign({},e,{video:N(e.video)}):e}function ye(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(P("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,r.push(a)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function be(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function we(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function ke(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Se=n(39),Ce=n.n(Se);function xe(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=Ce.a.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,_(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function je(e){if(e.RTCPeerConnection){var t=A(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=Ce.a.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=Ce.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},a=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=Ce.a.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),s=e.sdpSemantics;"plan-b"===s&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var c,u=r(arguments[0]),l=i(u),p=a(arguments[0],u);c=0===l&&0===p?Number.POSITIVE_INFINITY:0===l||0===p?Math.max(l,p):Math.min(l,p);var d={};Object.defineProperty(d,"maxMessageSize",{get:function(){return c}}),this._sctp=d}return o.apply(this,arguments)}}}function Oe(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},_(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function _e(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function Ee(e){if(e.RTCPeerConnection){var t=A(e);if(!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}}var Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},c=R,u=A(t),l={browserDetails:u,commonShim:s,extractVersion:O,disableLog:E,disableWarnings:T};switch(u.browser){case"chrome":if(!r||!Q||!n.shimChrome)return c("Chrome shim is not included in this adapter release."),l;if(null===u.version)return c("Chrome shim can not determine version, not shimming."),l;c("adapter.js shimming chrome."),l.browserShim=r,F(t),B(t),Q(t),U(t),G(t),z(t),V(t),H(t),$(t),xe(t),_e(t),je(t),Oe(t),Ee(t);break;case"firefox":if(!a||!ie||!n.shimFirefox)return c("Firefox shim is not included in this adapter release."),l;c("adapter.js shimming firefox."),l.browserShim=a,te(t),ie(t),re(t),se(t),ae(t),oe(t),ce(t),ue(t),le(t),pe(t),de(t),xe(t),_e(t),je(t),Oe(t);break;case"edge":if(!i||!Z||!n.shimEdge)return c("MS edge shim is not included in this adapter release."),l;c("adapter.js shimming edge."),l.browserShim=i,Y(t),X(t),Z(t),ee(t),je(t),Oe(t);break;case"safari":if(!o||!n.shimSafari)return c("Safari shim is not included in this adapter release."),l;c("adapter.js shimming safari."),l.browserShim=o,ye(t),we(t),me(t),fe(t),he(t),be(t),ve(t),ke(t),xe(t),je(t),Oe(t),Ee(t);break;default:c("Unsupported browser!")}return l}({window:"undefined"===typeof window?void 0:window}),Re=n(12),Pe=n(82),Ae=n(17),Ie=n(14),Ne=n(10),Me=n(15),De="@andyet/SET_USER_PREFERENCE",Le="@andyet/JOIN_ROOM",Fe="@andyet/LEAVE_ROOM",qe="@andyet/LOCK_ROOM",Be="@andyet/UNLOCK_ROOM",Ue="@andyet/SELF_UPDATED",ze="@andyet/JOIN_ROOM_FAILED",Ve="@andyet/JOIN_ROOM_SUCCESS",He="@andyet/ROOM_LOCKED",We="@andyet/ROOM_UNLOCKED",Ge="@andyet/PEER_ONLINE",Qe="@andyet/PEER_OFFLINE",$e="@andyet/PEER_UPDATED",Ke="@andyet/CHAT_INCOMING",Je="@andyet/CHAT_OUTGOING",Ye="@andyet/ADD_MEDIA",Xe="@andyet/REMOVE_MEDIA",Ze="@andyet/MEDIA_UPDATED",et="@andyet/SIGNALING_CLIENT",tt="@andyet/SIGNALING_CLIENT_SHUTDOWN",nt="@andyet/CONNECTION_STATE_CHANGE",rt="@andyet/RECEIVED_CONFIG",it="@andyet/QUEUE_TELEMETRY",at="@andyet/TELEMETRY_SUCCESS",ot="@andyet/JOIN_CALL",st="@andyet/LEAVE_CALL",ct="@andyet/SET_CALL_PREFERENCE",ut="@andyet/PEER_CONNECTION_UPDATED",lt="@andyet/PEER_CONNECTION_ADDED",pt="@andyet/PEER_CONNECTION_REMOVED",dt="@andyet/DEVICES",ft="@andyet/CAMERA_PERMISSION_DENIED",ht="@andyet/MICROPHONE_PERMISSION_DENIED",mt="@andyet/DEVICE_CAPTURE",vt="@andyet/SET_VIDEO_RESOLUTION_TIERS",gt="1.29.0",yt="outgoing";function bt(e){return e.simplewebrtc.api.config}function wt(e){return e.simplewebrtc.api.token}function kt(e){return e.simplewebrtc.user}function St(e){return bt(e).customerData}function Ct(e){return e.simplewebrtc.api.configUrl}function xt(e){return e.simplewebrtc.api.signalingClient}function jt(e){return e.simplewebrtc.api.connectionState}function Ot(e){return e.simplewebrtc.user.displayName}function _t(e,t){var n=bt(e),r=Pt(e,t);if(r){var i=Dt(e,t)||{},a=zt(e,"audio").filter((function(e){return e.lastSpokeAt})).sort((function(e,t){return(e.lastSpokeAt?e.lastSpokeAt.valueOf():0)-(t.lastSpokeAt?t.lastSpokeAt.valueOf():0)}));return{address:r.selfAddress,affiliation:r.selfAffiliation,chatState:"active",customerData:bt(e).customerData,displayName:Ot(e),id:n.id,isSelf:!0,joinedCall:!!i.joined,joinedCallAt:i.joinedAt,joinedRoomAt:r.joinedAt,lastSpokeAt:a.length?a[0].lastSpokeAt:void 0,muted:!1,requestingAttention:!1,requestingMedia:Et(e,t),role:r.selfRole,roomAddress:t,rtt:"",speaking:en(e,!0),volume:0,volumeLimit:.8}}}function Et(e,t){var n=e.simplewebrtc.user.requestingMedia;if(t){var r=Dt(e,t);if(r)return r.requestingMedia||n}return n}function Tt(e,t){return e.simplewebrtc.peers[t]}function Rt(e){return e.simplewebrtc.rooms}function Pt(e,t){return e.simplewebrtc.rooms[t]}function At(e,t){for(var n=0,r=Object.keys(e.simplewebrtc.rooms);n<r.length;n++){var i=r[n];if(e.simplewebrtc.rooms[i].providedName===t)return e.simplewebrtc.rooms[i]}}function It(e,t){for(var n=[],r=0,i=Object.keys(e.simplewebrtc.peers);r<i.length;r++){var a=i[r];e.simplewebrtc.peers[a].roomAddress===t&&n.push(e.simplewebrtc.peers[a])}return n}function Nt(e,t){for(var n=[],r=0,i=Object.keys(e.simplewebrtc.chats);r<i.length;r++){var a=i[r],o=e.simplewebrtc.chats[a];o.roomAddress===t&&n.push(o)}return n.sort((function(e,t){return e.time<t.time?-1:e.time>t.time?1:0}))}function Mt(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=[],o=Nt(e,t),s=Object(y.a)(o);try{for(s.s();!(r=s.n()).done;){var c=r.value,u=!n||c.senderAddress!==n.senderAddress,l=n?n.chats[n.chats.length-1]:void 0,p=!n||l&&c.displayName&&c.displayName!==l.displayName,d=!1;if(i&&(d=!n||Number(c.time)>Number(n.chats[0].time)+1e3*i),u||p||d){var f=Tt(e,c.senderAddress)||{};"outgoing"===c.direction&&(f=_t(e,t)),n={chats:[c],direction:c.direction,displayName:f.displayName||c.displayName,endTime:c.time,peer:f,senderAddress:c.senderAddress,startTime:c.time},a.push(n)}else n&&(n.chats.push(c),n.endTime=c.time)}}catch(h){s.e(h)}finally{s.f()}return a}function Dt(e,t){return e.simplewebrtc.calls[t]}function Lt(e){return e.simplewebrtc.media}function Ft(e,t){return e.simplewebrtc.media[t]}function qt(e,t){var n=e.simplewebrtc.devices.devices;return t?n.filter((function(e){return e.kind===t})):n}function Bt(e){var t=e.simplewebrtc.devices;return{cameraPermissionDenied:t.cameraPermissionDenied,cameraPermissionGranted:t.cameraPermissionGranted,hasAudioOutput:t.hasAudioOutput,hasCamera:t.hasCamera,hasMicrophone:t.hasMicrophone,microphonePermissionDenied:t.microphonePermissionDenied,microphonePermissionGranted:t.microphonePermissionGranted,requestingCameraCapture:t.requestingCameraCapture,requestingCapture:t.requestingCapture,requestingMicrophoneCapture:t.requestingMicrophoneCapture}}function Ut(e,t,n){for(var r=[],i=0,a=Object.keys(e.simplewebrtc.media);i<a.length;i++){var o=a[i],s=e.simplewebrtc.media[o];s.owner===t&&(n&&n!==s.kind||r.push(s))}return r}function zt(e,t){for(var n=[],r=0,i=Object.keys(e.simplewebrtc.media);r<i.length;r++){var a=i[r],o=e.simplewebrtc.media[a];"local"===o.source&&(t&&t!==o.kind||n.push(o))}return n.sort((function(e,t){return e.createdAt-t.createdAt}))}function Vt(e,t){for(var n=[],r=0,i=Object.keys(e.simplewebrtc.media);r<i.length;r++){var a=i[r],o=e.simplewebrtc.media[a];"remote"===o.source&&(t&&t!==o.kind||n.push(o))}return n}function Ht(e,t){for(var n=[],r=0,i=Object.keys(e.simplewebrtc.media);r<i.length;r++){var a=i[r],o=e.simplewebrtc.media[a];"local"===o.source&&o.shared&&(t&&t!==o.kind||n.push(o))}return n}function Wt(e){return e.simplewebrtc.user.audioOutputDeviceId}function Gt(e){return e.simplewebrtc.user.globalVolumeLimit}function Qt(e){for(var t=[],n=0,r=Object.keys(e.simplewebrtc.calls);n<r.length;n++){var i=r[n],a=e.simplewebrtc.calls[i],o=Pt(e,a.roomAddress);a.joined&&o&&o.joined&&t.push(a)}return t}function $t(e,t){for(var n=[],r=0,i=Object.keys(e.simplewebrtc.peers);r<i.length;r++){var a=i[r],o=e.simplewebrtc.peers[a];o.roomAddress===t&&o.joinedCall&&n.push(o)}return n}function Kt(e){return e.simplewebrtc.connections}function Jt(e,t){for(var n=[],r=Kt(e),i=0,a=Object.keys(r);i<a.length;i++){var o=r[a[i]];o.peerAddress===t&&n.push(o)}return n}function Yt(e){for(var t=0,n=0,r=Object.keys(e.simplewebrtc.peers);n<r.length;n++){var i=r[n];"audio"===e.simplewebrtc.peers[i].requestingMedia&&(t+=1)}return t}function Xt(e){for(var t=0,n=0,r=Object.keys(e.simplewebrtc.peers);n<r.length;n++){var i=r[n];"video"===e.simplewebrtc.peers[i].requestingMedia&&(t+=1)}return t}function Zt(e){return!!("RTCPeerConnection"in window)&&!!("mediaDevices"in navigator)}function en(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=zt(e,"audio");return n.filter((function(e){return!e.localDisabled&&!e.externalDisabled&&e.speaking&&(!t||e.shared)})).length>0}function tn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=zt(e,"audio");return n.filter((function(e){return(e.localDisabled||e.externalDisabled)&&e.speaking&&(!t||e.shared)})).length>0}function nn(e){return e.simplewebrtc.api.videoResolutionTiers||[]}var rn=function(){function e(t){var n=this;Object(v.a)(this,e),this.jingle=t.jingle,this.dispatch=t.dispatch,this.getState=t.getState,this.sfu=t.sfu,this.updateQueue=Object(Pe.priorityQueue)((function(e,t){return Object(C.a)(n,void 0,void 0,h.a.mark((function e(){var n,r,i,a,o,s,c,u,l,p,d,f,v,g,b,w,k,S,C,x,j,O,_,E,T,R,P,A,I,N,M,D,L,F,q,B,U,z,V,H,W,G,Q,$,K,J,Y,X,Z,ee,te,ne,re,ie,ae,oe,se,ce,ue,le,pe,de,fe,he=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getState(),r=Yt(n),i=Xt(n),a=Qt(n),o=Lt(n),s=Ht(n),c=s.filter((function(e){return"video"===e.kind})).length,u=c*i,this.sfu.setPeerCount(Math.max(r,i)),e.prev=9,!this.sfu.enabled){e.next=13;break}return e.next=13,this.sfu.ready;case 13:return e.next=15,Promise.all(s.map((function(e){return he.sfu.sendMedia(e.track,e.stream,e.screenCapture)})));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(9),t&&t(),e.abrupt("return");case 21:l=new Set,p=Object(y.a)(a);try{for(p.s();!(d=p.n()).done;)(f=d.value).joined&&l.add(f.roomAddress)}catch(h){p.e(h)}finally{p.f()}if(v=nn(n),g=v[0],this.sfu.enabled){e.next=40;break}b=0;case 28:if(!(b<v.length)){e.next=40;break}if(w=v[b],k=v[b+1],w[0]!==u&&k){e.next=34;break}return g=w,e.abrupt("break",40);case 34:if(!(k[0]>u)){e.next=37;break}return g=w,e.abrupt("break",40);case 37:b++,e.next=28;break;case 40:for(g&&(S=g[1],C=S.width,x=S.height,j=S.frameRate,this.dispatch(Gn(C,x,j))),18e5,O=18e5/((this.sfu.enabled?1:i)*c),_=Kt(n),E=0,T=Object.keys(_);E<T.length;E++)R=T[E],P=_[R],(A=this.jingle.sessions[P.id])&&!l.has(P.roomAddress)&&A.end();I=Object(y.a)(a);try{for(I.s();!(N=I.n()).done;){M=N.value,D=$t(n,M.roomAddress),L=Object(y.a)(D);try{for(L.s();!(F=L.n()).done;){q=F.value,B=new Set,U=new Set,z="video"===q.requestingMedia,V="video"===q.requestingMedia||"audio"===q.requestingMedia,H=new Map,W=new Set,G=Jt(n,q.address),Q=Object(y.a)(G);try{for(Q.s();!($=Q.n()).done;)(K=$.value).sendingAudioMediaId&&(H.set(K.sendingAudioMediaId,"audio"),V&&o[K.sendingAudioMediaId]&&o[K.sendingAudioMediaId].shared||(W.add(K.id),K.sendingVideoMediaId&&z&&B.add(K.sendingVideoMediaId))),K.sendingVideoMediaId&&((J=this.jingle.sessions[K.id])&&J.setMaximumBitrate(O),H.set(K.sendingVideoMediaId,"video"),Y=o[K.sendingVideoMediaId],(z||Y.screenCapture)&&Y&&Y.shared||(W.add(K.id),K.sendingAudioMediaId&&V&&U.add(K.sendingAudioMediaId)))}catch(h){Q.e(h)}finally{Q.f()}X=Object(y.a)(s);try{for(X.s();!(Z=X.n()).done;)ee=Z.value,H.has(ee.id)||("audio"===ee.kind&&V&&U.add(ee.id),"video"===ee.kind&&z&&B.add(ee.id),"video"===ee.kind&&ee.screenCapture&&V&&B.add(ee.id))}catch(h){X.e(h)}finally{X.f()}te=Object(y.a)(W);try{for(te.s();!(ne=te.n()).done;)re=ne.value,(ie=this.jingle.sessions[re])&&ie.end()}catch(h){te.e(h)}finally{te.f()}for(ae=new Map,oe=0,se=[].concat(Object(m.a)(U),Object(m.a)(B));oe<se.length;oe++)ce=se[oe],(ue=o[ce])&&((le=ae.get(ue.stream.id)||{})[ue.kind]=ue,ae.set(ue.stream.id,le));pe=Object(y.a)(ae.values());try{for(fe=function(){var e=de.value,t=he.jingle.createMediaSession(q.address);e.audio&&(t.addTrack(e.audio.track,e.audio.stream),he.dispatch(pr(q.address,t.sid,{sendingAudioMediaId:e.audio.id}))),e.video&&(t.addTrack(e.video.track,e.video.stream),he.dispatch(pr(q.address,t.sid,{sendingVideoMediaId:e.video.id}))),t.onDescriptionInfo=function(e,n){var r,i,a=Object(y.a)(e.contents||[]);try{for(a.s();!(i=a.n()).done;){var o=i.value.application;if(o){var s=o.simulcast&&o.simulcast.profile;if(s)if(he.sfu.hasSession(t.sid))he.sfu.setProfile(t.sid,o.simulcast.profile);else if(t.includesVideo)if("off"===s){if(t._disabledVideoTrack)continue;var c,u=t.pc.getSenders(),l=Object(y.a)(u);try{for(l.s();!(c=l.n()).done;){var p=c.value;"video"!==(null===(r=p.track)||void 0===r?void 0:r.kind)||(t._disabledVideoTrack=p.track,p.replaceTrack(null))}}catch(h){l.e(h)}finally{l.f()}}else if(t._disabledVideoTrack){var d,f=t.pc.getSenders(),m=Object(y.a)(f);try{for(m.s();!(d=m.n()).done;){var v=d.value;v.track||(v.replaceTrack(t._disabledVideoTrack),t._disabledVideoTrack=void 0)}}catch(h){m.e(h)}finally{m.f()}}}}}catch(h){a.e(h)}finally{a.f()}n()},t.start({offerToReceiveAudio:!1,offerToReceiveVideo:!1},(function(){if(e.video&&t.setMaximumBitrate(O),e.audio&&e.audio.localDisabled&&t.mute(t.role,"audio"),e.video&&e.video.localDisabled&&t.mute(t.role,"video"),e.video&&e.video.screenCapture){t.send("description-info",{contents:[{application:{applicationType:Re.d.NS_JINGLE_RTP_1,screenCaptures:[{id:e.video.id}]},creator:"initiator",name:"video"}]})}}))},pe.s();!(de=pe.n()).done;)fe()}catch(h){pe.e(h)}finally{pe.f()}}}catch(h){L.e(h)}finally{L.f()}}}catch(h){I.e(h)}finally{I.f()}t&&t();case 48:case"end":return e.stop()}}),e,this,[[9,17]])})))}),1),this.jingle.performTieBreak=function(){return!1},this.jingle.createPeerConnection=function(e,t){return n.sfu.createPeerConnection(e,t)},this.updateICEServers()}return Object(g.a)(e,[{key:"updateICEServers",value:function(){this.jingle.resetICEServers();var e,t=bt(this.getState()),n=Object(y.a)(t.iceServers);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.jingle.addICEServer(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"updateConnections",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){var n=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(RTCPeerConnection){t.next=2;break}return t.abrupt("return");case 2:setTimeout((function(){n.updateQueue.length()>1||n.updateQueue.push(e||Date.now(),0)}),100);case 3:case"end":return t.stop()}}),t)})))}},{key:"plugin",value:function(){var e=this;return function(){e.jingle.on("incoming",(function(t){var n=Dt(e.getState(),t.peerID.split("/")[0]);n&&n.joined?t.accept():t.end(),t.onDescriptionInfo=function(n,r){var i,a=Kt(e.getState()),o=Object(y.a)(n.contents||[]);try{for(o.s();!(i=o.n()).done;){var s=i.value.application;if(s){var c=s.screenCaptures&&s.screenCaptures.length;c&&e.dispatch(Bn(a[t.sid].receivingVideoMediaId,{screenCapture:c}))}}}catch(u){o.e(u)}finally{o.f()}r()}})),e.jingle.on("terminated",(function(t,n){e.dispatch(lr(t.peerID,t.sid));var r=n.condition;r&&"success"!==r&&"gone"!==r&&(console.error("Session terminated with error:",t.sid,n),e.dispatch({payload:{peerAddress:t.peerID,updated:{sessionFailed:!0}},type:$e})),setTimeout((function(){e.updateConnections("session-ended")}),"failed-transport"===r?500:2e3)})),e.jingle.on("createdSession",(function(t){e.dispatch(ur(t.peerID,t.sid))})),e.jingle.on("peerTrackAdded",(function(t,n,r){var i="".concat(t.sid,"#").concat(n.id);e.dispatch(Fn(t.peerID.split("/")[0],t.peerID,i,n,r,!1)),"audio"===n.kind&&e.dispatch(pr(t.peerID,t.sid,{receivingAudioMediaId:i})),"video"===n.kind&&e.dispatch(pr(t.peerID,t.sid,{receivingVideoMediaId:i}))})),e.jingle.on("peerTrackRemoved",(function(t,n){var r="".concat(t.sid,"#").concat(n.id);e.dispatch(qn(r))})),e.jingle.on("connectionState",(function(t){e.dispatch(pr(t.peerID,t.sid,{connectionState:t.connectionState})),"connected"===t.connectionState&&e.dispatch(qr(t.peerID,{sessionFailed:!1})),"responder"!==t.role||"failed"!==t.connectionState?("responder"===t.role&&"disconnected"===t.connectionState||"interrupted"===t.connectionState)&&setTimeout((function(){"disconnected"!==t.connectionState&&"interrupted"!==t.connectionState||t.end("failed-transport")}),5e3):t.end("failed-transport")})),e.jingle.on("mute",(function(t,n){var r=Kt(e.getState());if("audio"===n.name)e.dispatch(Bn(r[t.sid].receivingAudioMediaId,{remoteDisabled:!0}));else{if("video"!==n.name)throw new Error("Invalid mute property");e.dispatch(Bn(r[t.sid].receivingVideoMediaId,{remoteDisabled:!0}))}})),e.jingle.on("unmute",(function(t,n){var r=Kt(e.getState());if("audio"===n.name)e.dispatch(Bn(r[t.sid].receivingAudioMediaId,{remoteDisabled:!1}));else{if("video"!==n.name)throw new Error("Invalid mute property");e.dispatch(Bn(r[t.sid].receivingVideoMediaId,{remoteDisabled:!1}))}}))}}},{key:"notifyPeers",value:function(e,t){var n=this.getState(),r=Kt(n);Object.values(xt(n).jingle.sessions).forEach((function(n){var i=r[n.sid];if(i&&(i.sendingAudioMediaId===e.id||i.sendingVideoMediaId===e.id))switch(t){case"mute":n.mute(n.role,e.kind);break;case"unmute":n.unmute(n.role,e.kind)}}))}}]),e}(),an="http://andyet.net/xmlns/mmuc",on="https://talky.io/ns/core",sn=[{element:"transport",fields:{iceLite:Re.c.childBoolean(on,"ice-lite")},namespace:Re.d.NS_JINGLE_ICE_0,path:"iq.jingle.contents.transport",type:Re.d.NS_JINGLE_ICE_0,typeField:"transportType"},{element:"transport",fields:{iceLite:Re.c.childBoolean(on,"ice-lite")},namespace:Re.d.NS_JINGLE_ICE_UDP_1,path:"iq.jingle.contents.transport",type:Re.d.NS_JINGLE_ICE_UDP_1,typeField:"transportType"},{aliases:["presence.talkyUserInfo","message.talkyUserInfo"],element:"user",fields:{customerData:Re.c.textJSON(),roomId:Re.c.attribute("rid"),sessionId:Re.c.attribute("sid"),type:Re.c.attribute("type")},namespace:on},{aliases:[{multiple:!0,path:"iq.jingle.contents.application.screenCaptures",selector:Re.d.NS_JINGLE_RTP_1}],element:"screen",fields:{id:Re.c.attribute("id")},namespace:on},{aliases:[{path:"iq.jingle.contents.application.simulcast",selector:Re.d.NS_JINGLE_RTP_1}],element:"simulcast",fields:{profile:Re.c.attribute("profile")},namespace:on},{element:"conf",fields:{bridged:Re.c.booleanAttribute("bridged"),media:Re.c.attribute("media")},namespace:an,path:"presence.mmuc"},{element:"status",fields:{active:Re.c.booleanAttribute("active"),media:Re.c.attribute("media"),mode:Re.c.attribute("mode"),ready:Re.c.booleanAttribute("ready"),recordable:Re.c.booleanAttribute("recordable"),stamp:Re.c.dateAttribute("stamp")},namespace:an,path:"message.mmucStatus"},{element:"recording",fields:{active:Re.c.booleanAttribute("active"),stamp:Re.c.dateAttribute("stamp"),state:Re.c.attribute("state"),uri:Re.c.attribute("uri")},namespace:an,path:"message.mmucStats.recording"},{element:"state",fields:{speaking:Re.c.booleanAttribute("speaking")},namespace:an,path:"message.mmuc"},{element:"query",fields:{endMedia:Re.c.childBoolean(null,"end-media"),startRecording:Re.c.childBoolean(null,"start-recording")},namespace:an,path:"iq.mmuc"},{element:"start-media",fields:{media:Re.c.attribute("media")},namespace:an,path:"iq.mmuc.startMedia"},{element:"end-recording",fields:{uri:Re.c.attribute("uri")},namespace:an,path:"iq.mmuc.endRecording"}],cn=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;Object(v.a)(this,n),(i=t.call(this)).minimumPeerCount=2,i.peerCount=0,i.enabled=!1,i.ready=Promise.resolve(),i.sessions=new Set,i.sharedMedia=new Map,i.jingle=e.jingle,i.getState=e.getState,i.browser=r,i.jingle.on("terminated",(function(e){i.sessions.delete(e.sid)}));var a=bt(i.getState()).sfuServer;return a&&a.url&&(i.rpcUrl=a.url,i.minimumPeerCount=a.minimumPeers,i.client=new un(i.rpcUrl,a.password),i.client.on("iceConnectionState",(function(e){var t=e.consumerId,n=e.iceConnectionState,r=i.jingle.sessions[t];if(r){var a=r.pc;a.iceConnectionState=n,a.emit("iceconnectionstatechange")}})),i.ready=i.client.connect()),i.setPeerCount(0),i}return Object(g.a)(n,[{key:"hasSession",value:function(e){return this.sessions.has(e)}},{key:"setPeerCount",value:function(e){var t=this;return this.peerCount=e,!!this.rpcUrl&&(clearTimeout(this.shutdownTimeout),e>=this.minimumPeerCount&&!this.enabled?(this.enabled=!0,!0):(e<this.minimumPeerCount&&this.enabled&&(this.shutdownTimeout=setTimeout((function(){if(t.peerCount<t.minimumPeerCount){t.enabled=!1;var e,n=Object(y.a)(t.sessions);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.jingle.sessions[r].end()}}catch(u){n.e(u)}finally{n.f()}t.sessions=new Set;var i,a=Object(y.a)(t.sharedMedia);try{for(a.s();!(i=a.n()).done;){var o=Object(l.a)(i.value,2),s=o[0],c=o[1];t.client.send("DISPOSE",{id:s}),c.pc.close()}}catch(u){a.e(u)}finally{a.f()}t.sharedMedia=new Map,t.emit("disabled")}}),5e3)),!1))}},{key:"sendMedia",value:function(e,t,n){return Object(C.a)(this,void 0,void 0,h.a.mark((function r(){var i,a,o,s,c,u,p,d,f,v,g,b,w,k,S,C,x,j,O,_,E,T,R=this;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.enabled&&!this.sharedMedia.has(t.id)){r.next=2;break}return r.abrupt("return");case 2:i=new RTCPeerConnection({iceServers:this.jingle.iceServers}),this.sharedMedia.set(t.id,{pc:i,ready:!1}),i.oniceconnectionstatechange=function(){if("connected"===i.iceConnectionState||"completed"===i.iceConnectionState){R.sharedMedia.set(t.id,{pc:i,ready:!0}),R.emit("media-ready:"+t.id);for(var n=Kt(R.getState()),r=0,a=Object.entries(n);r<a.length;r++){var o=Object(l.a)(a[r],2),s=o[0],c=o[1];c.sendingAudioMediaId!==e.id&&c.sendingVideoMediaId!==e.id||R.jingle.sessions[s].end()}R.emit("media-ready")}"failed"===i.iceConnectionState&&(R.sharedMedia.delete(t.id),R.emit("media-failed:"+t.id),R.emit("media-failed"))},r.prev=5,a=Object(y.a)(t.getTracks());try{for(a.s();!(o=a.n()).done;)"audio"===(s=o.value).kind?i.addTrack(s,t):i.addTransceiver(s,{sendEncodings:n?void 0:[{rid:"low",active:!0,scaleResolutionDownBy:4},{rid:"medium",active:!0,scaleResolutionDownBy:2},{rid:"high",active:!0}],streams:[t]})}catch(h){a.e(h)}finally{a.f()}return r.next=10,i.createOffer();case 10:if(c=r.sent,n||"chrome"!==this.browser&&"safari"!==this.browser){r.next=35;break}u=Object(Ie.splitSections)(c.sdp),p=u.shift(),d=Object(y.a)(u.entries()),r.prev=15,d.s();case 17:if((f=d.n()).done){r.next=27;break}if(v=Object(l.a)(f.value,2),g=v[0],b=v[1],"video"===Object(Ie.parseMLine)(b).kind){r.next=22;break}return r.abrupt("continue",25);case 22:w=b.match(/a=ssrc:(\d+) cname:(.*)\r\n/),k=b.match(/a=ssrc:(\d+) msid:(.*)\r\n/),w&&k&&(S=b.trim().split("\r\n").filter((function(e){return!(e.startsWith("a=ssrc:")||e.startsWith("a=ssrc-group:FID"))})),C=parseInt(w[1],10),x=Object(Ie.matchPrefix)(b,"a=ssrc-group:FID ")[0].split(" ")[2],S.push("a=ssrc:"+C+" cname:"+w[2]),S.push("a=ssrc:"+C+" msid:"+k[2]),S.push("a=ssrc:"+x+" cname:"+w[2]),S.push("a=ssrc:"+x+" msid:"+k[2]),j=C+1,O=C+2,S.push("a=ssrc:"+j+" cname:"+w[2]),S.push("a=ssrc:"+j+" msid:"+k[2]),S.push("a=ssrc:"+O+" cname:"+w[2]),S.push("a=ssrc:"+O+" msid:"+k[2]),_=C+3,E=C+4,S.push("a=ssrc:"+_+" cname:"+w[2]),S.push("a=ssrc:"+_+" msid:"+k[2]),S.push("a=ssrc:"+E+" cname:"+w[2]),S.push("a=ssrc:"+E+" msid:"+k[2]),S.push("a=ssrc-group:FID "+C+" "+x),S.push("a=ssrc-group:FID "+j+" "+O),S.push("a=ssrc-group:FID "+_+" "+E),S.push("a=ssrc-group:SIM "+C+" "+j+" "+_),u[g]=S.join("\r\n")+"\r\n",c.sdp=[p].concat(Object(m.a)(u)).join(""));case 25:r.next=17;break;case 27:r.next=32;break;case 29:r.prev=29,r.t0=r.catch(15),d.e(r.t0);case 32:return r.prev=32,d.f(),r.finish(32);case 35:return r.next=37,i.setLocalDescription(c);case 37:return r.next=39,this.ready;case 39:return r.next=41,this.client.send("INGEST",{id:t.id,sdp:c.sdp});case 41:return T=r.sent,r.next=44,i.setRemoteDescription({type:"answer",sdp:T.sdp});case 44:r.next=51;break;case 46:r.prev=46,r.t1=r.catch(5),this.sharedMedia.delete(t.id),this.emit("media-failed:"+t.id),this.emit("media-failed");case 51:case"end":return r.stop()}}),r,this,[[5,46],[15,29,32,35]])})))}},{key:"setProfile",value:function(e,t){return Object(C.a)(this,void 0,void 0,h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.sessions.has(e)){n.next=2;break}return n.abrupt("return");case 2:return n.abrupt("return",this.client.send("SET_CONSUMER_PROFILE",{id:e,profile:t}));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"requestProfile",value:function(e,t){for(var n=Kt(this.getState()),r=0,i=Object.entries(n);r<i.length;r++){var a=Object(l.a)(i[r],2),o=a[0];if(a[1].receivingVideoMediaId===e)return this.jingle.sessions[o].send("description-info",{contents:[{application:{applicationType:Re.d.NS_JINGLE_RTP_1,simulcast:{profile:t}},creator:"initiator",name:"video"}]})}}},{key:"createPeerConnection",value:function(e,t){if(this.enabled&&e.isInitiator){this.sessions.add(e.sid);var n=this.getState(),r=Tt(n,e.peerID),i=Pt(n,Re.b.toBare(e.peerID));return new ln(e.sid,i.id,i.address,r.id,this,this.client)}return new RTCPeerConnection(t)}},{key:"getInfoForPeer",value:function(e){return Tt(this.getState(),e)}},{key:"waitForMedia",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){var n,r=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.sharedMedia.get(e))&&n.ready){t.next=3;break}return t.abrupt("return",new Promise((function(t,n){var i=function(){r.off("media-failed:"+e,a),t()},a=function(){r.off("media-ready:"+e,i),n()};r.once("media-ready:"+e,i),r.once("media-failed:"+e,a)})));case 3:case"end":return t.stop()}}),t,this)})))}}]),n}(Ae.EventEmitter),un=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).connected=!1,i.disconnected=!1,i.callbacks=new Map,i.url=e,i.credential=r,i}return Object(g.a)(n,[{key:"connect",value:function(){return Object(C.a)(this,void 0,void 0,h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connected){e.next=2;break}return e.abrupt("return");case 2:if(!this.connecting){e.next=4;break}return e.abrupt("return",this.connecting);case 4:return this.connecting=new Promise((function(e,n){t.callbacks=new Map,t.socket=new WebSocket(t.url),t.socket.onopen=function(){return Object(C.a)(t,void 0,void 0,h.a.mark((function t(){var n=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.send("AUTH",{token:this.credential},!0).then((function(){n.connected=!0,n.connecting=void 0,e()}));case 1:case"end":return t.stop()}}),t,this)})))},t.socket.onmessage=function(e){var n=JSON.parse(e.data);if(t.callbacks.has(n.id)&&(n.result||n.error)){var r=t.callbacks.get(n.id),i=r.resolve,a=r.reject;n.result?i(n.result):n.error&&a(n.error)}"CONSUMER_ICE_STATE"===n.method&&t.emit("iceConnectionState",{consumerId:n.params.id,iceConnectionState:n.params.iceConnectionState})},t.socket.onclose=function(){var e=t.connected;t.callbacks=new Map,t.connected=!1,e||n()}})),e.abrupt("return",this.connecting);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"disconnect",value:function(){this.disconnected=!0,this.socket.close()}},{key:"send",value:function(e,t,n){return Object(C.a)(this,void 0,void 0,h.a.mark((function r(){var i=this;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=3;break}return r.next=3,this.connect();case 3:return r.abrupt("return",new Promise((function(n,r){var a=Re.f.uuid();i.callbacks.set(a,{resolve:n,reject:r}),i.socket.send(JSON.stringify({id:a,jsonrpc:"2.0",method:e,params:t}))})));case 4:case"end":return r.stop()}}),r,this)})))}}]),n}(Ae.EventEmitter),ln=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,o,s){var c;return Object(v.a)(this,n),(c=t.call(this)).id=e,c.roomId=r,c.roomAddress=i,c.peerId=a,c.sfu=o,c.client=s,c.iceConnectionState="new",c.signalingState="stable",c.activated=!1,c}return Object(g.a)(n,[{key:"addTrack",value:function(e,t){this.sourceId=t.id,this.includeAudio=this.includeAudio||"audio"===e.kind,this.includeVideo=this.includeVideo||"video"===e.kind}},{key:"close",value:function(){var e=this;this.activated&&this.client.send("REMOVE_CONSUMER",{id:this.id}).catch((function(t){e.activated=!1}))}},{key:"getReceivers",value:function(){return[]}},{key:"getSenders",value:function(){return[]}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"getStats",value:function(){return Object(C.a)(this,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Map);case 1:case"end":return e.stop()}}),e)})))}},{key:"addIceCandidate",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}},{key:"createOffer",value:function(){return Object(C.a)(this,void 0,void 0,h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sfu.waitForMedia(this.sourceId);case 2:return e.next=4,this.client.send("CREATE_CONSUMER",{audio:this.includeAudio,id:this.id,peerId:this.peerId,roomAddress:this.roomAddress,roomId:this.roomId,source:this.sourceId,video:this.includeVideo});case 4:return t=e.sent,this.activated=!0,e.abrupt("return",{sdp:t.sdp,type:"offer"});case 7:case"end":return e.stop()}}),e,this)})))}},{key:"createAnswer",value:function(){return Object(C.a)(this,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}},{key:"setLocalDescription",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))}},{key:"setRemoteDescription",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.client.send("START_CONSUMER",{id:this.id,sdp:e.sdp});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onicecandidate",set:function(e){this.on("icecandidate",e)}},{key:"oniceconnectionstatechange",set:function(e){this.on("iceconnectionstatechange",e)}}]),n}(Ae.EventEmitter),pn=function(){function e(t,n,r){var i=this;Object(v.a)(this,e),this.terminating=!1,this.reconnectAttempts=0,this.dispatch=t,this.getState=n,this.rttBuffers=new Map,this.xmpp=Object(Re.g)(Object.assign({allowResumption:!1,transports:{websocket:r.wsURL},useStreamManagement:!1},r)),this.jingle=this.xmpp.jingle,this.xmpp.stanzas.define(sn),this.sfu=new cn(this,Te.browserDetails.browser),this.mesh=new rn(this),this.sfu.on("media-ready",(function(){i.mesh.updateConnections("sfu-media-ready")})),this.sfu.on("media-failed",(function(){i.mesh.updateConnections("sfu-media-failed")})),this.sfu.on("disabled",(function(){i.mesh.updateConnections("sfu-disabled")})),this.xmpp.use(this.mesh.plugin()),this.xmpp.on("session:started",(function(){i.xmpp.sendPresence(),i.xmpp.enableKeepAlive({interval:90}),i.reconnectAttempts=0,i.dispatch(yn("connected"))})),this.xmpp.on("disconnected",(function(){i.terminating||(i.reconnectAttempts+=1,i.dispatch(yn("disconnected")),i.reconnectTimer&&clearTimeout(i.reconnectTimer),i.reconnectTimer=setTimeout((function(){var e=i.getState(),t=Ct(e),n=wt(e);i.dispatch(hn(t,n))}),1e3*(i.reconnectAttempts+1)+2e3*Math.random()))})),this.xmpp.on("muc:available",(function(e){var t=Re.b.toBare(e.from),n=e.from,r=Pt(i.getState(),t);if(r)if(e.muc&&e.muc.statusCodes.indexOf("110")>=0)i.dispatch(xr(t,n,r.id,e.muc.role,e.muc.affiliation));else{if(!i.rttBuffers.has(n)){var a=new Re.e.DisplayBuffer((function(e){var t=e.text;i.dispatch(qr(n,{rtt:t}))}));i.rttBuffers.set(n,a)}var o=e.talkyUserInfo.customerData||{};i.dispatch(Lr(t,n,{affiliation:e.muc.affiliation,customerData:o,displayName:o.displayName||e.nick,id:e.talkyUserInfo.sessionId,joinedCall:!!e.mmuc,requestingMedia:(e.mmuc||{}).media,role:e.muc.role,userAddress:e.muc.jid}))}})),this.xmpp.on("muc:unavailable",(function(e){if(e.muc.statusCodes&&e.muc.statusCodes.indexOf(Re.a.MUCStatusCode.SelfPresence)>=0){var t=!0;return e.muc.destroy&&e.muc.destroy.jid&&(t=!1,i.dispatch(Pr(Re.b.toBare(e.from),e.muc.destroy.jid,e.muc.destroy.password))),void i.dispatch(jr(Re.b.toBare(e.from),t))}i.rttBuffers.delete(e.from),i.dispatch(Fr(Re.b.toBare(e.from),e.from))})),this.xmpp.on("chat:state",(function(e){i.dispatch(qr(e.from,{chatState:e.chatState}))})),this.xmpp.on("attention",(function(e){i.dispatch(qr(e.from,{requestingAttention:!0})),setTimeout((function(){i.dispatch(qr(e.from,{requestingAttention:!1}))}),5e3)})),this.xmpp.on("message",(function(e){var t;if(e.jsonPayloads){var n=Re.b.toBare(e.from),r=e.from,a=Pt(i.getState(),n);if(a&&a.selfAddress===e.from)return;var o=Tt(i.getState(),r);if(!o)return;i.xmpp.emit("swrtc-command",{data:e.jsonPayloads[0].data,peer:o,room:a,scope:"groupchat"===e.type?"room":"peer",type:e.jsonPayloads[0].type})}else if("groupchat"===e.type){if(e.rtt){var s=i.rttBuffers.get(e.from);s&&s.process(e.rtt)}if(e.body){var c=i.rttBuffers.get(e.from);c&&c.commit(),i.dispatch(sr(Re.b.toBare(e.from),e.from,{body:e.body,customerData:null===(t=e.talkyUserInfo)||void 0===t?void 0:t.customerData,displayName:e.nick,id:e.id,replace:e.replace,time:e.delay?e.delay.timestamp:new Date}))}}})),this.xmpp.on("message",(function(e){return i.processMessage(e)}))}return Object(g.a)(e,[{key:"connect",value:function(){this.xmpp.connect()}},{key:"disconnect",value:function(){this.terminating=!0,this.dispatch(yn("disconnected")),this.xmpp.disconnect()}},{key:"joinRoom",value:function(e,t){return Object(C.a)(this,void 0,void 0,h.a.mark((function n(){var r,i,a,o,s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.getState(),i=bt(r),n.prev=2,n.next=5,this.xmpp.joinRoom(e,i.id,{muc:{password:t,type:"join"},nick:Ot(r)});case 5:if(a=n.sent,o=this.getState(),s=Pt(o,e)){n.next=10;break}return n.abrupt("return");case 10:return n.next=12,this.checkLockStatus(e,s.providedPassword);case 12:this.dispatch(Cr(e,a.from,a.talkyUserInfo.roomId,a.muc.role,a.muc.affiliation)),s&&s.autoJoinCall&&this.dispatch(nr(e,Et(o,e))),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),this.dispatch(Sr(e,{banned:n.t0.error&&"forbidden"===n.t0.error.condition,passwordRequired:n.t0.error&&"not-authorized"===n.t0.error.condition,roomFull:n.t0.error&&"service-unavailable"===n.t0.error.condition,roomNotStarted:n.t0.error&&"recipient-unavailable"===n.t0.error.condition}));case 19:case"end":return n.stop()}}),n,this,[[2,16]])})))}},{key:"destroyRoom",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xmpp.destroyRoom(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"kickPeerFromRoom",value:function(e,t){return Object(C.a)(this,void 0,void 0,h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.xmpp.setRoomAffiliation(e,t,"outcast");case 2:case"end":return n.stop()}}),n,this)})))}},{key:"sendRoomPresence",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getState(),r=Ot(n),i=Pt(n,e),a=Dt(n,e),o=Et(n,e);i&&i.joined&&this.xmpp.sendPresence(Object.assign({mmuc:a&&a.joined?{media:o}:void 0,nick:r,to:e},t))}},{key:"sendAllRoomsPresence",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getState(),n=Object.keys(Rt(t)),r=0,i=n;r<i.length;r++){var a=i[r];this.sendRoomPresence(a,e)}}},{key:"sendAllCallsSpeakingUpdate",value:function(e){var t,n=Qt(this.getState()),r=Object(y.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.xmpp.sendMessage({mmuc:{speaking:e},to:i.roomAddress,type:"groupchat"})}}catch(a){r.e(a)}finally{r.f()}}},{key:"lockRoom",value:function(e,t){return Object(C.a)(this,void 0,void 0,h.a.mark((function n(){var r,i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.getState(),(i=Pt(r,e))&&i.joined&&"owner"===i.selfAffiliation){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,n.next=7,this.xmpp.configureRoom(e,{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#roomconfig"},{name:"muc#roomconfig_whois",value:"moderators"},{name:"muc#roomconfig_roomsecret",value:t},{name:"muc#roomconfig_passwordprotectedroom",value:!0}]});case 7:this.dispatch(Tr(e,t)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(4),console.error(n.t0);case 13:case"end":return n.stop()}}),n,this,[[4,10]])})))}},{key:"unlockRoom",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getState(),(r=Pt(n,e))&&r.joined&&"owner"===r.selfAffiliation){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,this.xmpp.configureRoom(e,{fields:[{name:"FORM_TYPE",type:"hidden",value:"http://jabber.org/protocol/muc#roomconfig"},{name:"muc#roomconfig_whois",type:"text-single",value:"moderators"},{name:"muc#roomconfig_roomsecret",type:"text-single",value:""},{name:"muc#roomconfig_passwordprotectedroom",type:"boolean",value:!0}]});case 7:this.dispatch(Rr(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.error(t.t0);case 13:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"fetchRoomConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(C.a)(this,void 0,void 0,h.a.mark((function n(){var r,i,a,o,s,c,u;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={},i=this.getState(),a=Pt(i,e),t||a&&a.joined){n.next=5;break}throw new Error("Room not joined");case 5:return n.next=7,this.xmpp.getRoomConfig(e);case 7:o=n.sent,s=Object(y.a)(o.fields);try{for(s.s();!(c=s.n()).done;)"muc#roomconfig_roomsecret"===(u=c.value).name&&(u.value?r.password=u.value:r.password=void 0)}catch(l){s.e(l)}finally{s.f()}return n.abrupt("return",r);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"checkLockStatus",value:function(e,t,n){return Object(C.a)(this,void 0,void 0,h.a.mark((function r(){var i,a;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=Pt(this.getState(),e)){r.next=3;break}return r.abrupt("return");case 3:if("owner"!==i.selfAffiliation||n){r.next=17;break}return r.prev=4,r.next=7,this.fetchRoomConfig(e,!0);case 7:(a=r.sent).password?this.dispatch(Tr(e,a.password)):t?this.dispatch(Or(e,t)):this.dispatch(Rr(e)),r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(4),console.error(r.t0),r.abrupt("return",this.checkLockStatus(e,t,!0));case 15:r.next=27;break;case 17:return r.prev=17,r.next=20,this.xmpp.getDiscoInfo(e);case 20:r.sent.features.indexOf("muc_passwordprotected")>=0?this.dispatch(Tr(e)):this.dispatch(Rr(e)),r.next=27;break;case 24:r.prev=24,r.t1=r.catch(17),console.error(r.t1);case 27:case"end":return r.stop()}}),r,this,[[4,11],[17,24]])})))}},{key:"processMessage",value:function(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Re.b.toBare(e.from),r=Pt(this.getState(),n),"groupchat"===e.type&&e.mmuc&&r&&r.selfAddress!==e.from&&e.mmuc&&this.dispatch(qr(e.from,{speaking:e.mmuc.speaking||!1})),e.muc&&"direct-invite"!==e.muc.type){t.next=5;break}return t.abrupt("return");case 5:if(!(e.muc.statusCodes&&e.muc.statusCodes.indexOf("104")>=0)){t.next=8;break}return t.next=8,this.checkLockStatus(n);case 8:case"end":return t.stop()}}),t,this)})))}}]),e}();function dn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(C.a)(this,void 0,void 0,h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){setTimeout((function(){return t?r():n()}),e)})));case 1:case"end":return n.stop()}}),n)})))}function fn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;return Object(C.a)(this,void 0,void 0,h.a.mark((function a(){var o,s,c,u;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:o=0;case 1:if(!(o<=n)){a.next=23;break}return a.prev=2,a.next=5,Promise.race([fetch(e,{body:JSON.stringify({clientVersion:gt,token:t}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"}),dn(i,!0)]);case 5:if((c=a.sent).ok){a.next=8;break}throw new Error("SimpleWebRTC configuration request failed: "+c.status);case 8:return a.next=10,c.json();case 10:return u=a.sent,t&&!u.customerData&&console.error("ESWRTC_003. View more information at https://docs.simplewebrtc.com"),a.abrupt("return",u);case 15:return a.prev=15,a.t0=a.catch(2),s=a.t0,o+=1,a.next=21,dn(r);case 21:a.next=1;break;case 23:if(!s){a.next=26;break}throw console.error("ESWRTC_001. View more information at https://docs.simplewebrtc.com"),s;case 26:case"end":return a.stop()}}),a,null,[[2,15]])})))}function hn(e,t){var n=this;return function(r,i){return Object(C.a)(n,void 0,void 0,h.a.mark((function n(){var a,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(yn("connecting")),n.prev=1,n.next=4,fn(e,t);case 4:a=n.sent,r(vn(e,a,t)),n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),r(gn()),r(yn("failed")),n.abrupt("return");case 13:o=new pn(r,i,{jid:a.userId,password:a.credential,resource:a.id,wsURL:a.signalingUrl}),r({payload:o,type:et}),o.connect();case 16:case"end":return n.stop()}}),n,null,[[1,8]])})))}}function mn(){return function(e,t){var n=xt(t());n&&n.disconnect(),e({type:tt})}}function vn(e,t,n){return{payload:{config:t,configUrl:e,token:n},type:rt}}function gn(e){return{type:"@andyet/RECEIVED_CONFIG_ERROR"}}function yn(e){return function(t,n){var r=xt(n());t({payload:e,type:nt}),r&&r.mesh.updateConnections("connection-state-change")}}function bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return kn(e,"groupchat",t,n)}function wn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return kn(e,"normal",t,n)}function kn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i,a){var o=xt(a());o&&o.xmpp.sendMessage({jsonPayloads:[{type:n,data:r}],to:e,type:t})}}/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var Sn=window.AudioContext||window.webkitAudioContext;var Cn={threshold:-65};function xn(e){Cn.threshold=e}var jn,On,_n,En=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(v.a)(this,n),(r=t.call(this)).running=!1,r.smoothing=.1,r.interval=50,r.history=10,r.speakingHistory=[],r.frequencyRange=[85,300],r.fftSize=512,r.speaking=!1,r.previousVolume=-1/0,r.stoppedReceivingVolume=Date.now(),r.stoppedReceivingVolumeThreshold=Date.now()+1e3,!Sn)return Object(u.a)(r);if(!n.audioContext){n.audioContext=new Sn;var a=function e(){r.running&&n.audioContext&&"suspended"===n.audioContext.state&&(setTimeout(e,1e3),n.audioContext.resume())};setTimeout(a,1e3)}return r.smoothing=i.smoothing||.1,r.interval=i.interval||50,r.threshold=i.threshold,r.history=i.history||10,r.frequencyRange=i.frequencyRange||[85,300],r.fftSize=i.fftSize||512,r.analyser=n.audioContext.createAnalyser(),r.analyser.fftSize=r.fftSize,r.analyser.smoothingTimeConstant=r.smoothing,r.fftBins=new Float32Array(r.analyser.frequencyBinCount),r.frequencySpread=n.audioContext.sampleRate/r.analyser.fftSize,r.sourceNode=n.audioContext.createMediaStreamSource(e),r.sourceNode.connect(r.analyser),r.start(),r}return Object(g.a)(n,[{key:"stop",value:function(){this.running=!1,this.emit("volume",-100,this.threshold||Cn.threshold),this.speaking&&(this.speaking=!1,this.emit("stopped-speaking")),clearInterval(this.intervalTimer),this.analyser.disconnect(),this.sourceNode.disconnect()}},{key:"start",value:function(){var e=this;this.running=!0,this.speakingHistory=new Array(this.history).fill(0),this.intervalTimer=setInterval((function(){if(e.running){var t,n=Date.now(),r=e.threshold||Cn.threshold,i=function(e,t,n,r){e.getFloatFrequencyData(r);var i=t[0],a=t[1],o=Math.round(i/n),s=Math.round(a/n),c=r.slice(o,s);return c.reduce((function(e,t){return e+t}),0)/c.length}(e.analyser,e.frequencyRange,e.frequencySpread,e.fftBins),a=i>r?1:0;(!isFinite(i)||i<=-100)&&(t=isFinite(e.previousVolume)&&e.previousVolume>-100?n:e.stoppedReceivingVolume),e.emit("volume",i,r),t!==e.stoppedReceivingVolume&&(t&&t>e.stoppedReceivingVolumeThreshold?e.emit("stopped-receiving-volume",t):(e.emit("started-receiving-volume"),e.stoppedReceivingVolumeThreshold=n+1e3)),e.previousVolume=i,e.stoppedReceivingVolume=t;var o,s=0,c=Object(y.a)(e.speakingHistory);try{for(c.s();!(o=c.n()).done;){s+=o.value}}catch(u){c.e(u)}finally{c.f()}a&&!e.speaking?s>=5&&(e.speaking=!0,e.emit("speaking")):!a&&e.speaking&&0===s&&(e.speaking=!1,e.emit("stopped-speaking")),e.speakingHistory.shift(),e.speakingHistory.push(a)}}),this.interval)}}]),n}(Ae.EventEmitter);function Tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return"audio"===e.kind?Rn(t):"video"===e.kind?Pn(t,n):Promise.resolve({loaded:!1})}function Rn(e){return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=document.createElement("audio");n.muted=!0,n.autoplay=!0,n.oncanplay=function e(){n&&(n.pause(),n.removeEventListener("oncanplay",e),n.srcObject=null,n=void 0,t({loaded:!0}))},n.srcObject=e})));case 1:case"end":return t.stop()}}),t)})))}function Pn(e,t){return Object(C.a)(this,void 0,void 0,h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var r=document.createElement("video"),i=function e(){if(r){var t=r.videoHeight,i=r.videoWidth;r.pause(),r.removeEventListener("oncanplay",e),r.srcObject=null,r=void 0,n({height:t,loaded:!0,width:i})}};r.setAttribute("playsinline","playsinline"),r.muted=!0,r.autoplay=!0,r.oncanplay=i,r.srcObject=e,setTimeout(i,t)})));case 1:case"end":return n.stop()}}),n)})))}function An(){return"undefined"!==typeof document}function In(e,t,n){var r=new En(t);return r.on("stopped-receiving-volume",(function(t){n(Bn(e,{inputLost:t}))})),r.on("started-receiving-volume",(function(){n(Bn(e,{inputDetected:!0,inputLost:void 0}))})),r.on("speaking",(function(){n(Bn(e,{speaking:!0}))})),r.on("stopped-speaking",(function(){n(Bn(e,{lastSpokeAt:new Date(Date.now()),speaking:!1}))})),r}function Nn(e){return function(t,n){var r=e.replaces;if(e.replaces){var i=Ft(n(),e.replaces);i&&(i.shared||(t(qn(i.id)),r=i.replaces))}e.track.onmute=function(){t(Bn(e.id,{externalDisabled:!0}))},e.track.onunmute=function(){t(Bn(e.id,{externalDisabled:!1}))},t({payload:Object.assign(Object.assign({},e),{replaces:r}),type:Ye})}}function Mn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("audio"!==e.kind)throw new Error("Incorrect media type. Expected audio, got: "+e.kind);return function(i,a){var o,s,c;An()?(r&&(s=e.clone(),(c=new MediaStream).addTrack(s),o=In(e.id,c,i)),e.onended=function(){o&&(o.stop(),s.stop()),i(Hn(e.id)),i(qn(e.id))},Tn(e,t).then((function(t){i(Bn(e.id,t))}))):e.onended=function(){i(Hn(e.id)),i(qn(e.id))},i(Nn({createdAt:Date.now(),externalDisabled:e.muted,hark:o,id:e.id,inputDetected:!1,inputLost:Date.now(),kind:"audio",localDisabled:!e.enabled,remoteDisabled:!1,renderMirrored:!1,replaces:n,screenCapture:!1,shared:!1,source:"local",speaking:!1,stream:t,track:e,utilityStream:c,volume:-1/0}))}}function Dn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;if("video"!==e.kind)throw new Error("Incorrect media type. Expected video, got: "+e.kind);return function(i,a){e.onended=function(){i(Hn(e.id)),i(qn(e.id))},An()&&Tn(e,t).then((function(t){i(Bn(e.id,t))})),!An()&&r&&i(qn(r)),i(Nn({createdAt:Date.now(),externalDisabled:e.muted,id:e.id,kind:"video",localDisabled:!e.enabled,remoteDisabled:!1,renderMirrored:n,replaces:r,screenCapture:!1,shared:!1,source:"local",speaking:!1,stream:t,track:e,volume:-1/0}))}}function Ln(e,t,n){if("video"!==e.kind)throw new Error("Incorrect media type. Expected video, got: "+e.kind);return function(r,i){e.onended=function(){r(Hn(e.id)),r(qn(e.id))},An()&&Tn(e,t).then((function(t){r(Bn(e.id,t))})),"contentHint"in e&&!e.contentHint&&(e.contentHint="detail"),r(Nn({createdAt:Date.now(),externalDisabled:e.muted,id:e.id,kind:"video",localDisabled:!e.enabled,remoteDisabled:!1,renderMirrored:!1,replaces:n,screenCapture:!0,shared:!1,source:"local",speaking:!1,stream:t,track:e,volume:-1/0}))}}function Fn(e,t,n,r,i,a){return function(o,s){var c=Tt(s(),t);r.onended=function(){o(qn(n))},An()&&(Tn(r,i,500).then((function(e){o(Bn(n,e))})),setTimeout((function(){Tn(r,i,500).then((function(e){o(Bn(n,e))}))}),500));var u={createdAt:Date.now(),externalDisabled:r.muted,id:n,kind:r.kind,localDisabled:!!c&&c.muted,owner:t,profile:"video"===r.kind?"low":void 0,remoteDisabled:!1,renderMirrored:!1,roomAddress:e,screenCapture:"video"===r.kind&&a,source:"remote",speaking:!1,stream:i,track:r,volume:-1/0};o({payload:u,type:Ye})}}function qn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){var i=Ft(r(),e);if(i){if(i.shared&&n(Hn(e)),n({payload:{id:e},type:Xe}),"local"===i.source){var a=xt(r());a&&a.mesh.updateConnections("remove-media")}if(t&&(i.track&&i.track.stop(),i.utilityStream)){var o,s=Object(y.a)(i.utilityStream.getTracks());try{for(s.s();!(o=s.n()).done;){o.value.stop()}}catch(c){s.e(c)}finally{s.f()}}}}}function Bn(e,t){return function(n,r){var i=r(),a=xt(i),o=en(i);n({payload:{id:e,updated:t},type:Ze});var s=r(),c=en(s);a&&(o!==c&&a.sendAllCallsSpeakingUpdate(c),void 0!==t.shared&&a.mesh.updateConnections("update-shared-media"));var u=Ft(i,e),l=Ft(s,e);if(l&&(l.track.enabled!==!l.localDisabled&&(l.track.enabled=!l.localDisabled),u&&"local"===l.source&&l.localDisabled!==u.localDisabled&&a&&a.mesh.notifyPeers(l,!0===l.localDisabled?"mute":"unmute"),"remote"===l.source&&l.owner)){var p=Tt(s,l.owner);p&&p.muted&&!l.localDisabled&&n({payload:{peerAddress:l.owner,updated:{muted:!1}},type:$e});var d,f=Ut(s,l.owner),h=!1,m=!1,v=!1,g=Object(y.a)(f);try{for(g.s();!(d=g.n()).done;){var b=d.value;b.remoteDisabled||("audio"===b.kind?h=!0:b.screenCapture?v=!0:m=!0)}}catch(w){g.e(w)}finally{g.f()}n({payload:{peerAddress:l.owner,updated:{hasActiveCamera:m,hasActiveMicrophone:h,hasActiveScreenCapture:v}},type:$e})}}}function Un(e){return Bn(e,{localDisabled:!1})}function zn(e){return Bn(e,{localDisabled:!0})}function Vn(e){return function(t,n){var r=Ft(n(),e);r&&(r.replaces&&t(qn(r.replaces)),t(Bn(e,{replaces:void 0,shared:!0})))}}function Hn(e){return function(t,n){var r=zt(n()).filter((function(t){return t.replaces===e}));t(Bn(e,{shared:!1})),r.length&&t(qn(e))}}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=e[n],a=t[n],o=function(e,t){return void 0!==e&&(e===t||Math.abs(e-t)<1)};return(!i||!o(i,r))&&(!a||("number"===typeof a?!o(a,r):!o(a.ideal,r)&&!o(a.exact,r)))}function Gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return function(r,i){if(An()){var a=zt(i(),"video"),o=navigator.mediaDevices.getSupportedConstraints(),s={},c=0;if(o.frameRate&&(s.frameRate=n,c+=1),o.height&&(s.height={ideal:t},c+=1),o.width&&(s.width={ideal:e},c+=1),0!==c){var u,l=Object(y.a)(a);try{for(l.s();!(u=l.n()).done;){var p=u.value;if(!p.screenCapture){var d={};p.track.getSettings&&(d=p.track.getSettings());var f=p.track.getConstraints();(s.frameRate&&Wn(d,f,"frameRate",n)||s.width&&Wn(d,f,"width",e)||s.height&&Wn(d,f,"height",t))&&p.track.applyConstraints(s).catch((function(e){console.error("Could not adjust video capture resolution:",e.message)}))}}}catch(h){l.e(h)}finally{l.f()}}}}}function Qn(e){return function(t,n){t({payload:{videoResolutionTiers:e},type:vt})}}function $n(e,t){return function(n,r){n(Bn(e,{profile:t}));var i=xt(r());i&&i.sfu.requestProfile(e,t)}}function Kn(e){return function(t,n){var r,i=Ut(n(),e,"audio"),a=Object(y.a)(i);try{for(a.s();!(r=a.n()).done;){t(zn(r.value.id))}}catch(o){a.e(o)}finally{a.f()}t({payload:{peerAddress:e,updated:{muted:!0}},type:$e})}}function Jn(e){return function(t,n){var r,i=Ut(n(),e,"audio"),a=Object(y.a)(i);try{for(a.s();!(r=a.n()).done;){t(Un(r.value.id))}}catch(o){a.e(o)}finally{a.f()}t({payload:{peerAddress:e,updated:{muted:!1}},type:$e})}}function Yn(){return function(e,t){var n,r=zt(t(),"audio"),i=Object(y.a)(r);try{for(i.s();!(n=i.n()).done;){e(zn(n.value.id))}}catch(a){i.e(a)}finally{i.f()}}}function Xn(){return function(e,t){var n,r=zt(t(),"audio"),i=Object(y.a)(r);try{for(i.s();!(n=i.n()).done;){e(Un(n.value.id))}}catch(a){i.e(a)}finally{i.f()}}}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{screenCapture:!0};return function(t,n){var r,i=zt(n(),"video"),a=Object(y.a)(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;(!o.screenCapture||e.screenCapture&&o.screenCapture)&&t(zn(o.id))}}catch(s){a.e(s)}finally{a.f()}}}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{screenCapture:!0};return function(t,n){var r,i=zt(n(),"video"),a=Object(y.a)(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;(!o.screenCapture||e.screenCapture&&o.screenCapture)&&t(Un(o.id))}}catch(s){a.e(s)}finally{a.f()}}}function tr(e){return function(t,n){var r,i=zt(n(),e),a=Object(y.a)(i);try{for(a.s();!(r=a.n()).done;){t(qn(r.value.id))}}catch(o){a.e(o)}finally{a.f()}}}function nr(e,t){return function(n,r){n({payload:{desiredMedia:t,roomAddress:e},type:ot});var i=xt(r());i&&(i.sendRoomPresence(e),i.mesh.updateConnections("join-call"))}}function rr(e,t){return function(n,r){var i=r(),a=Qt(i);n({payload:{roomAddress:e},type:st});var o=Qt(r()),s=xt(i);s&&(s.sendRoomPresence(e),s.mesh.updateConnections("leave-call"),en(i)&&s.sendAllCallsSpeakingUpdate(!0));t&&a.length>0&&0===o.length&&n(tr())}}function ir(e,t){return function(n,r){n({payload:{desiredMedia:t,roomAddress:e},type:ct});var i=xt(r());i&&(i.sendRoomPresence(e),i.mesh.updateConnections("set-desired-media-for-call"))}}function ar(e,t){return function(n,r){var i=r(),a=xt(i),o=t.id||Re.f.uuid(),s=t.displayName||Ot(i);a.xmpp.sendMessage({body:t.body,chatState:"active",id:o,nick:s,replace:t.replace,to:e,type:"groupchat"}),n({payload:{acked:!1,body:t.body,direction:yt,displayName:s,id:o,replace:t.replace,roomAddress:e,time:new Date},type:Je})}}function or(e,t){return function(n,r){xt(r()).xmpp.sendMessage({chatState:t,to:e,type:"groupchat"}),n({payload:{chatState:t,roomAddress:e},type:"@andyet/CHAT_STATE_OUTGOING"})}}function sr(e,t,n){return{payload:{acked:!0,body:n.body,customerData:n.customerData,direction:"incoming",displayName:n.displayName,id:n.id,replace:n.replace,roomAddress:e,senderAddress:t,time:n.time||new Date},type:Ke}}function cr(e,t){return function(n,r){var i,a=xt(r());"init"!==t.event&&"cancel"!==t.event&&(i="composing"),a.xmpp.sendMessage({chatState:i,rtt:t,to:e,type:"groupchat"}),n({payload:{roomAddress:e,rtt:t},type:"@andyet/RTT_OUTGOING"})}}function ur(e,t){return{payload:{id:t,peerAddress:e,roomAddress:Re.b.parse(e).bare},type:lt}}function lr(e,t){return{payload:{id:t,peerAddress:e},type:pt}}function pr(e,t,n){return{payload:{id:t,peerAddress:e,updated:n},type:ut}}function dr(){return function(e,t){navigator.mediaDevices&&(jn||(jn=function(){e(fr())}),On||(On=setInterval((function(){e(fr())}),3e3)),navigator.mediaDevices.addEventListener("devicechange",(function(){mr(),jn&&jn()})),jn())}}function fr(e){var t=this;return function(e,n){return Object(C.a)(t,void 0,void 0,h.a.mark((function t(){var n,r,i,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.mediaDevices){t.next=2;break}return t.abrupt("return");case 2:if(!_n){t.next=4;break}return t.abrupt("return");case 4:return _n=navigator.mediaDevices.enumerateDevices(),t.next=7,_n;case 7:n=t.sent,_n=void 0,r=Object(y.a)(n),t.prev=10,r.s();case 12:if((i=r.n()).done){t.next=19;break}if(a=i.value,!On||!a.deviceId){t.next=17;break}return mr(),t.abrupt("break",19);case 17:t.next=12;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(10),r.e(t.t0);case 24:return t.prev=24,r.f(),t.finish(24);case 27:return t.abrupt("return",e(vr(n)));case 28:case"end":return t.stop()}}),t,null,[[10,21,24,27]])})))}}function hr(){jn&&(navigator.mediaDevices.removeEventListener("devicechange",jn),jn=void 0),mr()}function mr(){On&&(clearInterval(On),On=void 0)}function vr(e){var t=(e=e.filter((function(e){return"audioinput"!==e.kind||"MacBook Pro Speakers"!==e.label}))).filter((function(e){return!e.deviceId&&"audioinput"===e.kind}));if(t.length>=2){var n={deviceId:"",groupId:"",kind:"videoinput",label:"",toJSON:function(){return n}};return{payload:[t[0],n],type:dt}}return{payload:e,type:dt}}function gr(e){return{payload:{error:e},type:ft}}function yr(e){return{payload:{error:e},type:ht}}function br(e,t){return{payload:{camera:e,microphone:t},type:mt}}function wr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;return Object(C.a)(this,void 0,void 0,h.a.mark((function a(){var o,s,c,u;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=0,t){a.next=4;break}throw console.error("ESWRTC_004. View more information at https://docs.simplewebrtc.com"),new Error("Room name not provided.");case 4:if(!(o<=r)){a.next=25;break}return a.prev=5,a.next=8,fetch(e,{body:JSON.stringify({name:t}),headers:{authorization:"Bearer ".concat(n)},method:"POST"});case 8:if((c=a.sent).ok){a.next=11;break}throw new Error("SimpleWebRTC room configuration request failed: "+c.status);case 11:return a.next=13,c.json();case 13:return u=a.sent,a.abrupt("return",u);case 17:return a.prev=17,a.t0=a.catch(5),s=a.t0,o+=1,a.next=23,dn(i);case 23:a.next=4;break;case 25:if(console.error("ESWRTC_002. View more information at https://docs.simplewebrtc.com"),!s){a.next=30;break}throw s;case 30:throw new Error("Could not fetch room config");case 31:case"end":return a.stop()}}),a,null,[[5,17]])})))}function kr(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,i){return Object(C.a)(t,void 0,void 0,h.a.mark((function t(){var a,o,s,c,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i(),o=xt(a),s=bt(a),t.prev=3,t.next=6,wr(s.roomConfigUrl,e,s.credential);case 6:c=t.sent,(!(u=Pt(a,c.roomAddress))||u&&!u.joined)&&(r({payload:{autoJoinCall:Zt()&&(void 0===n.autoJoinCall||n.autoJoinCall),providedPassword:n.password,providedRoomName:e,roomAddress:c.roomAddress},type:Le}),o&&o.joinRoom(c.roomAddress,n.password)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),r(Sr("",!1));case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))}}function Sr(e,t){return"boolean"===typeof t&&(t={passwordRequired:t}),{payload:{banned:t.banned,passwordRequired:t.passwordRequired,roomAddress:e,roomFull:t.roomFull,roomNotStarted:t.roomNotStarted},type:ze}}function Cr(e,t,n,r,i){return function(a,o){a({payload:{affiliation:i,id:n,role:r,roomAddress:e,selfAddress:t},type:Ve});var s=xt(o());s&&s.mesh.updateConnections("join-room")}}function xr(e,t,n,r,i){return function(a,o){a({payload:{affiliation:i,id:n,role:r,roomAddress:e,selfAddress:t},type:Ue})}}function jr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){var i=xt(r());n(rr(e,t)),i&&i.sendRoomPresence(e,{type:"unavailable"}),n({payload:{roomAddress:e},type:Fe}),i&&i.mesh.updateConnections("leave-room")}}function Or(e,t){return function(n,r){var i=xt(r());i&&i.lockRoom(e,t),n({payload:{password:t,roomAddress:e},type:qe})}}function _r(e){return function(t,n){var r=xt(n());r&&r.unlockRoom(e),t({payload:{roomAddress:e},type:Be})}}function Er(e){var t=this;return function(n,r){return Object(C.a)(t,void 0,void 0,h.a.mark((function t(){var i,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),a=xt(i),t.prev=2,!a){t.next=6;break}return t.next=6,a.destroyRoom(e);case 6:n({payload:{roomAddress:e},type:"@andyet/DESTROY_ROOM"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))}}function Tr(e,t){return{payload:{password:t,roomAddress:e},type:He}}function Rr(e){return{payload:{roomAddress:e},type:We}}function Pr(e,t,n){var r=this;return function(i,a){return Object(C.a)(r,void 0,void 0,h.a.mark((function r(){var o,s,c,u;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=a(),s=xt(o),c=Pt(o,e)){r.next=6;break}return i(kr(t,{password:n})),r.abrupt("return");case 6:(!(u=Pt(o,t))||u&&!u.joined)&&(i({payload:{autoJoinCall:c.autoJoinCall,providedPassword:n||c.providedPassword,providedRoomName:c.providedName,roomAddress:t},type:Le}),s&&s.joinRoom(t,n||c.password));case 8:case"end":return r.stop()}}),r)})))}}function Ar(e){return function(t,n){var r=xt(n());t({payload:{displayName:e},type:De}),r&&r.sendAllRoomsPresence()}}function Ir(e){return function(t,n){var r=n(),i=xt(r);t({payload:{requestingMedia:e},type:De});var a,o=Qt(r),s=Object(y.a)(o);try{for(s.s();!(a=s.n()).done;){t(ir(a.value.roomAddress,e))}}catch(c){s.e(c)}finally{s.f()}i&&i.sendAllRoomsPresence()}}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-65;return xn(e),{payload:{voiceActivityThreshold:e},type:De}}function Mr(e){return{payload:{audioOutputDeviceId:e},type:De}}function Dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{payload:{globalVolumeLimit:e},type:De}}function Lr(e,t,n){return function(r,i){r({payload:{affiliation:n.affiliation,customerData:n.customerData,displayName:n.displayName,id:n.id,joinedCall:n.joinedCall||!1,peerAddress:t,requestingMedia:n.requestingMedia||"none",role:n.role,roomAddress:e,userAddress:n.userAddress},type:Ge});var a=xt(i());a&&a.mesh.updateConnections("peer-online")}}function Fr(e,t){return function(n,r){n({payload:{peerAddress:t,roomAddress:e},type:Qe})}}function qr(e,t){return function(n,r){n({payload:{peerAddress:e,updated:t},type:$e});var i=xt(r());i&&i.mesh.updateConnections("peer-updated")}}function Br(e,t){return function(n,r){n({payload:{peerAddress:t,roomAddress:e},type:"@andyet/KICK_PEER"});var i=xt(r());i&&i.kickPeerFromRoom(e,t)}}function Ur(e,t){return{payload:{peerAddress:e,updated:{volumeLimit:t}},type:$e}}var zr={config:{apiVersion:"",credential:"",customerData:{},iceServers:[],id:"",orgId:"",roomConfigUrl:"",screensharingExtensions:{chrome:""},signalingUrl:"",telemetryUrl:"",userId:""},configUrl:"",connectionAttempts:0,connectionState:"disconnected",queuedTelemetry:[],signalingClient:void 0,token:"",videoResolutionTiers:[[0,{width:1280,height:720,frameRate:30}],[1,{width:800,height:600,frameRate:30}],[2,{width:640,height:480,frameRate:30}],[3,{width:320,height:240,frameRate:15}],[5,{width:320,height:240,frameRate:10}]]};var Vr={};function Hr(e,t){return e[t.payload.roomAddress]||(e=function(e,t){return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,{allowedAudioRoles:["moderator","participant"],allowedMedia:"video",allowedVideoRoles:["moderator","participant"],joined:!1,joinedAt:void 0,recordable:!1,recordingState:"offline",requestingMedia:void 0,roomAddress:t.payload.roomAddress,state:"active"}))}(e,t)),t.type===ot?Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},e[t.payload.roomAddress]),{joined:!0,joinedAt:new Date(Date.now()),requestingMedia:t.payload.desiredMedia}))):t.type===st?Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},e[t.payload.roomAddress]),{joined:!1,joinedAt:void 0,requestingMedia:void 0}))):t.type===ct?Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},e[t.payload.roomAddress]),{requestingMedia:t.payload.desiredMedia}))):e}function Wr(e,t){var n=Object.assign({},e);return delete n[t.payload.roomAddress],n}var Gr={};function Qr(e,t){if(t.type===Ke){var n=t.payload,r=e[n.id];if(n.replace){var i=e[n.replace];if(i&&i.direction===yt)return Object.assign(Object.assign({},e),Object(c.a)({},n.id,Object.assign(Object.assign({},r),{acked:!0,body:n.body})))}if(!r)return Object.assign(Object.assign({},e),Object(c.a)({},n.id,n));if(r.direction===yt)return Object.assign(Object.assign({},e),Object(c.a)({},n.id,Object.assign(Object.assign({},r),{acked:!0,body:n.body,time:n.time})))}if(t.type===Je){var a=t.payload,o=e[a.id];return Object.assign(Object.assign({},e),Object(c.a)({},a.id,function(e,t){if(!e)return t;return Object.assign(Object.assign({},t),{editedTime:t.time,time:e.time})}(o,a)))}return e}var $r={};function Kr(e,t){return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.id,{connectionState:"",id:t.payload.id,peerAddress:t.payload.peerAddress,receivingAudioMediaId:"",receivingVideoMediaId:"",restarting:!1,roomAddress:t.payload.roomAddress,sendingAudioMediaId:"",sendingVideoMediaId:"",sessionState:""}))}function Jr(e,t){return e[t.payload.id]?Object.assign(Object.assign({},e),Object(c.a)({},t.payload.id,Object.assign(Object.assign(Object.assign({},e[t.payload.id]||{}),{peerAddress:t.payload.peerAddress}),t.payload.updated))):e}function Yr(e,t){var n=Object.assign({},e);return delete n[t.payload.id],n}var Xr={cameraPermissionDenied:!1,cameraPermissionGranted:!1,devices:[],hasAudioOutput:!1,hasCamera:!1,hasMicrophone:!1,microphonePermissionDenied:!1,microphonePermissionGranted:!1,requestingCameraCapture:!1,requestingCapture:!1,requestingMicrophoneCapture:!1};var Zr={};function ei(e,t){return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.id,t.payload))}function ti(e,t){var n=Object.assign({},e);return delete n[t.payload.id],n}function ni(e,t){var n=e[t.payload.id];return n?Object.assign(Object.assign({},e),Object(c.a)({},t.payload.id,Object.assign(Object.assign({},n),t.payload.updated))):e}function ri(e,t){for(var n=Object.assign({},e),r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],o=e[a];"remote"===o.source&&o.roomAddress===t.payload.roomAddress&&delete n[a]}return n||{}}var ii={};function ai(e,t){if(e[t.payload.peerAddress])return oi(e,{payload:{peerAddress:t.payload.peerAddress,updated:t.payload},type:$e});var n=new Date(Date.now());return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.peerAddress,{address:t.payload.peerAddress,affiliation:t.payload.affiliation,chatState:"active",customerData:t.payload.customerData||{},displayName:t.payload.displayName||"",hasActiveCamera:!1,hasActiveMicrophone:!1,hasActiveScreenCapture:!1,id:t.payload.id,isSelf:!1,joinedCall:t.payload.joinedCall||!1,joinedCallAt:t.payload.joinedCall?n:void 0,joinedRoomAt:n,lastSpokeAt:void 0,muted:!1,requestingAttention:!1,requestingMedia:t.payload.requestingMedia||"none",role:t.payload.role,roomAddress:t.payload.roomAddress,rtt:"",speaking:!1,userAddress:t.payload.userAddress,volume:-1/0,volumeLimit:.8}))}function oi(e,t){var n=e[t.payload.peerAddress];if(!n)return e;var r=new Date(Date.now()),i=n.lastSpokeAt;n.speaking&&!1===t.payload.updated.speaking&&(i=r);var a=!1;return n.joinedCall&&!1===t.payload.updated.joinedCall&&(a=!0),Object.assign(Object.assign({},e),Object(c.a)({},t.payload.peerAddress,Object.assign(Object.assign(Object.assign({},n),t.payload.updated),{joinedCallAt:a?void 0:n.joinedCallAt||r,lastSpokeAt:i})))}function si(e,t){var n=Object.assign({},e);return delete n[t.payload.peerAddress],n}function ci(e,t){for(var n=Object.assign({},e),r=0,i=Object.keys(e);r<i.length;r++){var a=i[r];e[a].roomAddress===t.payload.roomAddress&&delete n[a]}return n}var ui={};function li(e,t){return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,{address:t.payload.roomAddress,autoJoinCall:!!t.payload.autoJoinCall,banned:!1,id:"",joined:!1,joinedAt:void 0,password:t.payload.password||"",passwordRequired:!1,providedName:t.payload.providedRoomName,providedPassword:t.payload.providedPassword,roomFull:!1,roomNotStarted:!1,roomState:"joining",selfAddress:"",selfAffiliation:"none",selfRole:"none",unreadCount:0}))}function pi(e,t){var n=e[t.payload.roomAddress];if(!n)return e;if(t.type===ze){var r="failed";return t.payload.passwordRequired&&(r="password-required"),t.payload.roomNotStarted&&(r="waiting"),t.payload.banned&&(r="banned"),Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},n),{banned:!!t.payload.banned,joined:!1,joinedAt:void 0,password:"",passwordRequired:!!t.payload.passwordRequired,roomFull:!!t.payload.roomFull,roomNotStarted:!!t.payload.roomNotStarted,roomState:r})))}return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},n),{id:t.payload.id,joined:!0,joinedAt:n.joinedAt||new Date(Date.now()),roomState:"joined",selfAddress:t.payload.selfAddress,selfAffiliation:t.payload.affiliation,selfRole:t.payload.role})))}function di(e,t){var n=e[t.payload.roomAddress];if(!n)return e;switch(t.type){case qe:return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},n),{providedPassword:t.payload.password||""})));case He:return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},n),{password:t.payload.password||"",passwordRequired:!0,providedPassword:void 0})));case We:return Object.assign(Object.assign({},e),Object(c.a)({},t.payload.roomAddress,Object.assign(Object.assign({},n),{password:"",passwordRequired:!1,providedPassword:void 0})))}return e}function fi(e,t){var n=Object.assign({},e);return delete n[t.payload.roomAddress],n}var hi={displayName:"",globalVolumeLimit:1,mediaEnabled:!0,pushToTalk:!1,requestingMedia:"video",voiceActivityThreshold:-65};function mi(e,t){return Object.assign(Object.assign({},e),t.payload)}var vi=Object(b.c)({api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return Object.assign(Object.assign({},e),{signalingClient:t.payload});case tt:return Object.assign(Object.assign({},e),{connectionState:"disconnected",signalingClient:void 0});case nt:return Object.assign(Object.assign({},e),{connectionState:t.payload});case rt:var n=t.payload.config,r=t.payload.configUrl,i=t.payload.token||"";return Object.assign(Object.assign({},e),{config:Object.assign(Object.assign({},e.config),n),configUrl:r,token:i});case it:return Object.assign(Object.assign({},e),{queuedTelemetry:[].concat(Object(m.a)(e.queuedTelemetry),[t.payload])});case at:return Object.assign(Object.assign({},e),{queuedTelemetry:e.queuedTelemetry.slice(t.payload)});case vt:return Object.assign(Object.assign({},e),{videoResolutionTiers:t.payload.videoResolutionTiers})}return e},calls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:case st:return Hr(e,t);case Fe:return Wr(e,t);case Ve:case ct:return Hr(e,t)}return e},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:case Je:return Qr(e,t)}return e},connections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt:return Kr(e,t);case ut:return Jr(e,t);case pt:return Yr(e,t)}return e},devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=arguments.length>1?arguments[1]:void 0;if(t.type===dt){var n,r=t.payload,i=new Map(e.devices.map((function(e){return[e.deviceId||e.kind,e]}))),a=!1,o=!1,s=!1,c=!1,u=!1,l=r.length===i.size,p=Object(y.a)(r);try{for(p.s();!(n=p.n()).done;){var d=n.value;"audioinput"===d.kind&&(a=!0,u=u||!(!d.label||!d.deviceId)),"videoinput"===d.kind&&(o=!0,c=c||!(!d.label||!d.deviceId)),"audiooutput"===d.kind&&(s=!0),l=l&&i.has(d.deviceId||d.kind),d.label}}catch(f){p.e(f)}finally{p.f()}return Object.assign(Object.assign({},e),{cameraPermissionGranted:c,devices:l?e.devices:r.filter((function(e){return!!e.label})),hasAudioOutput:s,hasCamera:o,hasMicrophone:a,microphonePermissionGranted:u})}return t.type===ft?Object.assign(Object.assign({},e),{cameraPermissionDenied:!0}):t.type===ht?Object.assign(Object.assign({},e),{microphonePermissionDenied:!0}):t.type===mt?Object.assign(Object.assign({},e),{requestingCameraCapture:t.payload.camera,requestingCapture:t.payload.camera||t.payload.microphone,requestingMicrophoneCapture:t.payload.microphone}):e},media:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return ei(e,t);case Xe:return ti(e,t);case Ze:return ni(e,t);case st:return ri(e,t)}return e},peers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return"disconnected"===t.payload?{}:e;case Ge:return ai(e,t);case Qe:return si(e,t);case $e:return oi(e,t);case Fe:return ci(e,t)}return e},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui,t=arguments.length>1?arguments[1]:void 0;if(t.type===nt){if("disconnected"!==t.payload)return e;for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var a=Object(l.a)(i[r],2),o=a[0],s=a[1];n[o]=Object.assign(Object.assign({},s),{joined:!1,joinedAt:void 0,roomState:"interrupted"})}return n}switch(t.type){case Ue:return pi(e,t);case Le:return li(e,t);case ze:case Ve:return pi(e,t);case Fe:return fi(e,t);case qe:case Be:case He:case We:return di(e,t)}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return mi(e,t);case rt:return mi(e,{payload:{displayName:t.payload.config.displayName||e.displayName||"Anonymous"},type:De});case dt:var n=e.audioOutputDeviceId;if(n){var r,i=Object(y.a)(t.payload);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.deviceId===n)return e}}catch(o){i.e(o)}finally{i.f()}return mi(e,{payload:{audioOutputDeviceId:""},type:De})}return e}return e}}),gi=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"shouldComponentUpdate",value:function(e){return!this.props.media||!e.media||this.props.media.localDisabled!==e.media.localDisabled||this.props.media.remoteDisabled!==e.media.remoteDisabled||this.props.media.track!==e.media.track||this.props.media.id!==e.media.id||this.props.volume!==e.volume||this.props.outputDevice!==e.outputDevice}},{key:"componentDidMount",value:function(){this.setup(!0)}},{key:"componentDidUpdate",value:function(e){e.media&&e.media.id!==this.props.media.id?this.setup(!0):this.setup(!1)}},{key:"setup",value:function(e){var t=this;this.audio.oncontextmenu=function(e){e.preventDefault()},e&&(window&&window.safari?this.stream=new MediaStream(this.props.media.stream.getAudioTracks()):this.stream=this.props.media.stream,this.audio.srcObject=this.stream),(this.props.volume||0===this.props.volume)&&(this.audio.volume=this.props.volume),this.props.media.localDisabled||this.props.media.remoteDisabled||0===this.props.volume?this.audio.muted=!0:this.audio.muted=!1,this.props.outputDevice&&this.audio.sinkId!==this.props.outputDevice&&this.audio.setSinkId?(this.audio.pause(),this.audio.setSinkId(this.props.outputDevice).then((function(){t.audio.play()})).catch((function(e){t.audio.play(),console.error(e)}))):this.audio.autoplay=!0}},{key:"render",value:function(){var e=this;return Object(Ne.createElement)("audio",Object.assign({id:this.props.id,className:this.props.className,ref:function(t){e.audio=t}},{playsInline:!0}))}}]),n}(Ne.Component),yi=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e={chatState:this.props.chatState||void 0,joinedCall:this.props.joinedCall||!1,peers:this.props.peers||[],speaking:this.props.speaking||!1},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);var bi=Object(Me.b)((function(e,t){var n=["joinedCall","speaking","chatState","requestingAttention"],r=It(e,t.room);if(t.includeSelf){var i=_t(e,t.room);console.log("User",i),i&&r.unshift(i)}return r=r.filter((function(e){var r,i=Object(y.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(void 0!==t[a]&&e[a]!==t[a])return!1}}catch(o){i.e(o)}finally{i.f()}return!0})),t.filter&&(r=r.filter(t.filter)),t.sort&&(r=r.sort(t.sort)),Object.assign(Object.assign({},t),{peers:r})}))(yi),wi=(Ne.Component,function(e){return Object(Ne.createElement)("textarea",{id:e.id,className:e.className,autoFocus:e.autoFocus,value:e.message,placeholder:e.placeholder,disabled:e.disabled,onInput:function(t){var n=t.target.value;e.updateMessage(n)},onChange:function(){return null},onKeyPress:function(t){"Enter"!==t.key||t.shiftKey||!1===e.sendOnEnter||(t.preventDefault(),e.sendMessage())}})}),ki=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).rttBuffer=new Re.e.InputBuffer,r.state={chatState:"active",message:"",rtt:e.rtt},r}return Object(g.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.rtt&&!t.rtt,r=!this.state.rtt&&t.rtt;!0!==this.props.rtt||e.rtt||(n=!0),!1===this.props.rtt&&!1!==e.rtt&&(r=!0),n&&(this.props.onRtt(this.rttBuffer.start()),this.rttBuffer.update(this.state.message)),r&&(this.props.onRtt(this.rttBuffer.stop()),clearInterval(this.rttInterval),this.rttInterval=null)}},{key:"startSendingRtt",value:function(){this.rttInterval||!this.props.rtt&&!this.state.rtt||(this.rttInterval=setInterval(this.rttSend.bind(this),700),setTimeout(this.rttSend.bind(this),100))}},{key:"rttUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.rttBuffer.update(e),this.startSendingRtt()}},{key:"rttSend",value:function(){if(this.props.rtt||this.state.rtt){var e=this.rttBuffer.diff();e&&this.props.onRtt(e)}}},{key:"commitMessage",value:function(){if(!this.props.disabled&&0!==this.state.message.length){clearTimeout(this.pausedTimeout),this.pausedTimeout=null,clearInterval(this.rttInterval),this.rttInterval=null;var e=this.state.message;this.setState({message:"",chatState:"active"}),this.rttBuffer.commit(),this.props.onChat&&this.props.onChat({body:e})}}},{key:"updateChatState",value:function(e){var t=this;this.pausedTimeout&&clearTimeout(this.pausedTimeout),this.pausedTimeout="composing"===e?setTimeout((function(){t.updateChatState("paused")}),1e4):null,e!==this.state.chatState&&this.props.onChatState&&this.props.onChatState(e),this.setState({chatState:e})}},{key:"render",value:function(){var e=this,t={autoFocus:this.props.autoFocus,className:this.props.className,disabled:this.props.disabled,id:this.props.id,message:this.state.message,placeholder:this.props.placeholder,rtt:!!this.state.rtt,sendMessage:function(){e.commitMessage()},sendOnEnter:this.props.sendOnEnter,updateMessage:function(t){e.rttUpdate(t),""!==t&&e.updateChatState("composing"),""!==e.state.message&&""===t&&e.updateChatState("active"),e.setState({message:t})},useRealtimeText:function(t){e.setState({rtt:t})}},n=this.props.render;return n||"function"!==typeof this.props.children||(n=this.props.children),n?n(t):Object(Ne.createElement)(wi,Object.assign({},t))}}]),n}(Ne.Component);Object(Me.b)((function(e,t){return t}),(function(e,t){return{onChat:function(n){return e(ar(t.room,n))},onChatState:function(n){return e(or(t.room,n))},onRtt:function(n){return e(cr(t.room,n))}}}))(ki);function Si(e){e=e||{},this.target=e.target,this.interval=1e3|e.interval,this.max=e.max||0,this.callback=e.callback,this.userScroll=!0,this.spinner=e.spinner,this.spin_img=new Image,this.stickyHeight=e.stickyHeight||10,this.spinner&&(this.spin_img.src=this.spinner);var t=this;if(this.intend_down=!0,this.emit("lock"),window.addEventListener("resize",(function(e){t.emit("windowresize"),t.checkdown()})),this.target.addEventListener("scroll",(function(e){t.userScroll&&(t.intend_down&&!t.isdown()?(t.intend_down=!1,t.emit("release")):!t.intend_down&&t.isdown()&&(t.intend_down=!0,t.emit("lock"))),t.userScroll=!0})),window.MutationObserver)this.mo=new MutationObserver((function(e){var n,r,i,a,o,s,c,u,l;for(t.userScroll=!1,t.checkdown(),r=0;r<e.length;r++)for(n=e[r],i=0;i<n.addedNodes.length;i++)if(n.addedNodes[i].getElementsByTagName)for(s=0,c=(a=n.addedNodes[i].getElementsByTagName("img")).length;s<c;s++)if(!(o=a[s]).complete){u=o.parentNode,t.spinner&&(l=t.spin_img.cloneNode(),u.replaceChild(l,o));o.addEventListener("load",(function e(n){l&&u.replaceChild(o,l),t.emit("imageload"),t.checkdown(),n.target.removeEventListener("load",e)}))}})),this.mo.observe(this.target,{attributes:!0,childList:!0,characterData:!0,subtree:!0});else{!function e(){t.checkdown(),window.setTimeout(e,t.interval)}()}}(function(){this.isdown=function(){return this.target.scrollHeight-this.target.scrollTop-this.target.clientHeight<this.stickyHeight},this.append=function(e){for(this.emit("append"),this.target.appendChild(e),this.intend_down&&(this.target.scrollTop=this.target.scrollHeight,this.emit("scrolldown"));0!==this.max&&this.target.children.length>this.max;)this.target.removeChild(this.target.children[0]),this.emit("removechild")},this.emit=function(e,t){"function"===typeof this.callback&&this.callback(e,t)},this.checkdown=function(){var e=this.target.scrollHeight-this.target.scrollTop-this.target.clientHeight;(this.intend_down||e<this.stickyHeight)&&(this.target.scrollTop=this.target.scrollHeight,this.userScroll=!1,this.emit("scrolldown"))}}).call(Si.prototype);var Ci=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=this;return Object(Ne.createElement)("div",Object.assign({},this.props,{ref:function(t){if(t){var n=new Si({target:t,stickyHeight:30});e.staydown&&(n.intend_down=e.staydown.intend_down,n.userScroll=e.staydown.userScroll),e.staydown=n,e.staydown.checkdown()}}}))}}]),n}(Ne.Component),xi=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=this.props.render;return e||"function"!==typeof this.props.children||(e=this.props.children),e?e(this.props):this.props.children?this.props.children:Object(Ne.createElement)("div",null,Object(Ne.createElement)("span",null,this.props.displayName),this.props.chats.map((function(e){return Object(Ne.createElement)("div",null,e.body)})))}}]),n}(Ne.Component),ji=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=this,t=this.props.groups||[],n=this.props.render;return n||"function"!==typeof this.props.children||(n=this.props.children),n?n({groups:t}):this.props.children?this.props.children:Object(Ne.createElement)(Ci,{id:this.props.id,className:this.props.className},t.map((function(t){return e.props.renderGroup?e.props.renderGroup(t):Object(Ne.createElement)(xi,Object.assign({},t))})))}}]),n}(Ne.Component);Object(Me.b)((function(e,t){return t.room?Object.assign(Object.assign({},t),{groups:Mt(e,t.room,t.maxGroupDuration)||[]}):Object.assign(Object.assign({},t),{groups:[]})}))(ji);var Oi=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).commandHandler=function(e){e.peer&&("room"===e.scope&&r.props.onRoomCommand&&r.props.onRoomCommand(e),"peer"===e.scope&&r.props.onPeerCommand&&r.props.onPeerCommand(e))},r}return Object(g.a)(n,[{key:"render",value:function(){var e={sendPeerCommand:this.props.sendPeerCommand,sendRoomCommand:this.props.sendRoomCommand},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children||null}},{key:"componentDidMount",value:function(){this.props.signalingClient&&this.props.signalingClient.xmpp.on("swrtc-command",this.commandHandler)}},{key:"componentDidUpdate",value:function(e){this.props.signalingClient!==e.signalingClient&&this.props.signalingClient.xmpp.on("swrtc-command",this.commandHandler)}},{key:"componentWillUnmount",value:function(){this.props.signalingClient&&this.props.signalingClient.xmpp.off("swrtc-command",this.commandHandler)}}]),n}(Ne.Component);Object(Me.b)((function(e,t){return{signalingClient:xt(e)}}),(function(e,t){return{sendPeerCommand:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(wn(t,n,r))},sendRoomCommand:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(bn(t.room,n,r))}}}))(Oi);var _i=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.listenForDevices(),this.props.fetchDevices()}},{key:"componentWillUnmount",value:function(){hr()}},{key:"render",value:function(){var e={audioInput:this.props.audioInput,audioOutput:this.props.audioOutput,cameraPermissionDenied:this.props.cameraPermissionDenied,cameraPermissionGranted:this.props.cameraPermissionGranted,devices:this.props.devices,hasAudioOutput:this.props.hasAudioOutput,hasCamera:this.props.hasCamera,hasMicrophone:this.props.hasMicrophone,microphonePermissionDenied:this.props.microphonePermissionDenied,microphonePermissionGranted:this.props.microphonePermissionGranted,requestingCameraCapture:this.props.requestingCameraCapture,requestingCapture:this.props.requestingCapture,requestingMicrophoneCapture:this.props.requestingMicrophoneCapture,videoInput:this.props.videoInput},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);Object(Me.b)((function(e,t){var n=qt(e).filter((function(e){return!t.audioInput&&!t.videoInput&&!t.audioOutput||"audioinput"===e.kind&&t.audioInput||"videoinput"===e.kind&&t.videoInput||"audiooutput"===e.kind&&t.audioOutput})),r=Bt(e);return Object.assign(Object.assign(Object.assign({},t),{devices:n}),r)}),(function(e){return{fetchDevices:function(){return e(fr())},listenForDevices:function(){return e(dr())}}}))(_i);var Ei=new Map([[1,['"x0"',1,1]],[2,['"x0 x1"',1,2]],[3,['"x0 x1" "x0 x2"',2,2]]]);function Ti(e){if(Ei.has(e))return Ei.get(e)[0];for(var t=Ri(e),n=Pi(e),r=[],i=0;i<n;i++){for(var a=[],o=0;o<t;o++)a.push("x"+(i*t+o).toString(16));r.push('"'.concat(a.join(" "),'"'))}return r.join(" ")}function Ri(e){return Ei.has(e)?Ei.get(e)[2]:Math.ceil(Math.pow(e,.5))}function Pi(e){return Ei.has(e)?Ei.get(e)[1]:Math.ceil(e/Math.ceil(Math.pow(e,.5)))}function Ai(e){return Object(Ne.createElement)("div",{style:{display:"flex",gridArea:(t=e.index,"x"+t.toString(16)),overflow:"hidden"}},e.content);var t}function Ii(e){return Object(Ne.createElement)("div",{id:e.id,className:e.className,style:{display:"grid",gridTemplateAreas:Ti(e.itemCount),gridTemplateColumns:"repeat(".concat(Ri(e.itemCount),", 1fr)"),gridTemplateRows:"repeat(".concat(Pi(e.itemCount),", 1fr)")}},e.content)}Ne.Component;var Ni=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e={audio:this.props.audio,media:this.props.media||[],removeMedia:this.props.removeMedia,screen:this.props.screen,shareLocalMedia:this.props.shareLocalMedia,shared:this.props.shared,stopSharingLocalMedia:this.props.stopSharingLocalMedia,video:this.props.video},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);var Mi=Object(Me.b)((function(e,t){var n;t.audio&&!t.video&&(n="audio"),!t.audio&&t.video&&(n="video");var r=[];return r=(r=t.shared?Ht(e,n):zt(e,n)).filter((function(e){return"video"===e.kind&&void 0!==t.screen?e.screenCapture===t.screen:!e.shared||!1!==t.shared})),Object.assign(Object.assign({},t),{media:r})}),(function(e){return{removeMedia:function(t){return e(qn(t))},shareLocalMedia:function(t){return e(Vn(t))},stopSharingLocalMedia:function(t){return e(Hn(t))}}}))(Ni),Di=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=this,t={disable:this.props.disableMedia,enable:this.props.enableMedia,isEnabled:!this.props.media.localDisabled&&!this.props.media.remoteDisabled,isShared:"local"===this.props.media.source&&!!this.props.media.shared,media:this.props.media,remove:this.props.removeLocalMedia,share:this.props.shareLocalMedia,stopSharing:function(){e.props.stopSharingLocalMedia(),e.props.autoRemove&&(e.props.removeLocalMedia(),e.props.media.track.stop())}},n=this.props.render;return n||"function"!==typeof this.props.children||(n=this.props.children),n?n(t):this.props.children}}]),n}(Ne.Component);Object(Me.b)((function(e){return{}}),(function(e,t){return{disableMedia:function(){return e(zn(t.media.id))},enableMedia:function(){return e(Un(t.media.id))},removeLocalMedia:function(){return e(qn(t.media.id))},shareLocalMedia:function(){return e(Vn(t.media.id))},stopSharingLocalMedia:function(){return e(Hn(t.media.id))}}}))(Di);var Li=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=this.props.render;return e||"function"!==typeof this.props.children||(e=this.props.children),e?e():this.props.children||null}},{key:"componentDidUpdate",value:function(e){var t=Object.keys(this.props.chats).length,n=Object.keys(e.chats).length;if(t>n&&(this.props.onChatReceived||this.props.onChatSent))for(var r=0,i=0,a=Object.entries(this.props.chats);i<a.length;i++){var o=Object(l.a)(a[i],2),s=o[0],c=o[1];if(!e.chats[s]&&("incoming"===c.direction&&this.props.onChatReceived&&this.props.onChatReceived(c),"outgoing"===c.direction&&this.props.onChatSent&&this.props.onChatSent(c),t>=n+(r+=1)))break}var u=Object.keys(this.props.peers).length,p=Object.keys(e.peers).length;if(u>p&&this.props.onPeerEntered)for(var d=0,f=0,h=Object.entries(this.props.peers);f<h.length;f++){var m=Object(l.a)(h[f],2),v=m[0],g=m[1];if(!e.peers[v]&&(this.props.onPeerEntered(g),u>=p+(d+=1)))break}if(u<p&&this.props.onPeerLeft)for(var y=0,b=0,w=Object.entries(e.peers);b<w.length;b++){var k=Object(l.a)(w[b],2),S=k[0],C=k[1];if(!this.props.peers[S]&&(this.props.onPeerLeft(C),u+(y+=1)>=p))break}0===u&&p&&this.props.onNoPeersRemaining&&this.props.onNoPeersRemaining()}}]),n}(Ne.Component);Object(Me.b)((function(e,t){return{chats:e.simplewebrtc.chats,peers:e.simplewebrtc.peers}}))(Li);var Fi=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e={hasActiveCamera:this.props.hasActiveCamera,hasActiveMicrophone:this.props.hasActiveMicrophone,hasActiveScreenCapture:this.props.hasActiveScreenCapture,isMuted:this.props.isMuted,isSpeaking:this.props.isSpeaking,kick:this.props.kick,mute:this.props.mute,peer:this.props.peer,setVolumeLimit:this.props.setVolumeLimit,unmute:this.props.unmute},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);Object(Me.b)((function(e,t){var n=Tt(e,t.peer.address)||{};return{hasActiveCamera:n.hasActiveCamera||!1,hasActiveMicrophone:n.hasActiveMicrophone||!1,hasActiveScreenCapture:n.hasActiveScreenCapture||!1,isMuted:n.muted||!1,isSpeaking:n.speaking||!1}}),(function(e,t){return{kick:function(){return e(Br(t.peer.roomAddress,t.peer.userAddress))},mute:function(){return e(Kn(t.peer.address))},setVolumeLimit:function(n){return e(Ur(t.peer.address,n))},unmute:function(){return e(Jn(t.peer.address))}}}))(Fi);function qi(e){return{connectionState:jt(e),isSupportedBrowser:Zt()}}function Bi(e,t){return{connect:function(){return e(hn(t.configUrl,t.userData))},disconnect:function(){return e(mn())},removeAllMedia:function(){return e(tr())},setDefaultValues:function(){t.desiredMedia&&e(Ir(t.desiredMedia)),t.displayName&&e(Ar(t.displayName)),t.videoResolutionTiers&&e(Qn(t.videoResolutionTiers))}}}var Ui=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.setDefaultValues(),this.props.connect(),An()&&(window.addEventListener("online",(function(){setTimeout((function(){"connected"!==e.props.connectionState&&"connecting"!==e.props.connectionState&&(e.props.disconnect(),e.props.connect())}),5e3*Math.random())})),window.addEventListener("offline",(function(){setTimeout((function(){navigator.onLine||e.props.disconnect()}),5e3)})))}},{key:"componentWillUnmount",value:function(){this.props.removeAllMedia(),this.props.disconnect()}},{key:"render",value:function(){var e={connectionState:this.props.connectionState},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);function zi(e){return Object(Me.b)(qi)(function(t){Object(p.a)(r,t);var n=Object(d.a)(r);function r(){return Object(v.a)(this,r),n.apply(this,arguments)}return Object(g.a)(r,[{key:"render",value:function(){var t={connectionState:this.props.connectionState},n=this.props.render;return n||"function"!==typeof this.props.children||(n=this.props.children),this.props.connectionState===e?n?n(t):this.props.children:null}}]),r}(Ne.Component))}Object(Me.b)(qi,Bi)(function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return this.props.isSupportedBrowser?null:this.props.children}}]),n}(Ne.Component)),Object(Me.b)(qi,Bi)(function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e={connectionState:this.props.connectionState},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),"connected"!==this.props.connectionState?t?t(e):this.props.children:null}}]),n}(Ne.Component));var Vi=zi("connecting"),Hi=zi("connected"),Wi=(zi("disconnected"),zi("failed"),Object(Me.b)(qi,Bi)(Ui)),Gi=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"shouldComponentUpdate",value:function(e){if(this.props.globalVolumeLimit!==e.globalVolumeLimit||this.props.outputDevice!==e.outputDevice)return!0;if(!this.props.audioSources||!e.audioSources||this.props.audioSources.length!==e.audioSources.length)return!0;for(var t=0;t<this.props.audioSources.length;t++){var n=this.props.audioSources[t],r=e.audioSources[t];if(n.media.localDisabled!==r.media.localDisabled||n.media.remoteDisabled!==r.media.remoteDisabled||n.media.track!==r.media.track||n.media.id!==r.media.id||n.volumeLimit!==r.volumeLimit)return!0}return!1}},{key:"render",value:function(){var e=this,t=this.props.audioSources||[],n=this.props.globalVolumeLimit;return Object(Ne.createElement)(Ne.Fragment,null,t.map((function(t){return Object(Ne.createElement)(gi,{key:t.media.id,media:t.media,volume:n*t.volumeLimit,outputDevice:e.props.outputDevice})})))}}]),n}(Ne.Component);var Qi=Object(Me.b)((function(e){var t,n=Vt(e,"audio"),r=[],i=Object(y.a)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=Tt(e,a.owner);r.push({media:a,volumeLimit:(o?o.volumeLimit:1)||1})}}catch(s){i.e(s)}finally{i.f()}return{audioSources:r,globalVolumeLimit:Gt(e),outputDevice:Wt(e)}}))(Gi),$i=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e={audio:this.props.audio,media:this.props.media||[],peer:this.props.peer,video:this.props.video},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);var Ki=Object(Me.b)((function(e,t){var n;t.audio&&!t.video?n="audio":!t.audio&&t.video&&(n="video");var r=[];return r=t.peer?Ut(e,t.peer,n):Vt(e,n),Object.assign(Object.assign({},t),{media:r})}))($i),Ji=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).state={extensionInstalled:!1,extensionInstalling:!1,extensionRequired:!1},r}return Object(g.a)(n,[{key:"getDisplayMedia",value:function(){return Object(C.a)(this,void 0,void 0,h.a.mark((function e(){var t,n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,navigator.mediaDevices.getDisplayMedia){e.next=3;break}throw new Error("getDisplayMedia not supported");case 3:return e.next=5,navigator.mediaDevices.getDisplayMedia({audio:this.props.audio,video:!0});case 5:t=e.sent,"contentHint"in(n=t.getVideoTracks()[0])&&(n.contentHint=this.props.videoTypeHint||"detail"),this.props.addLocalScreen(n,t),!1!==this.props.share&&this.props.shareLocalMedia(n.id),(r=t.getAudioTracks()[0])&&("contentHint"in r&&(r.contentHint=this.props.audioTypeHint),i=!0,void 0!==this.props.volumeMonitoring&&(i=this.props.volumeMonitoring),this.props.addLocalAudio(r,t,i),!1!==this.props.share&&this.props.shareLocalMedia(r.id)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0,e.t0.message,e.t0.name);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))}},{key:"render",value:function(){var e=this;if(this.props.render){var t="getDisplayMedia"in navigator.mediaDevices;return this.props.render(this.getDisplayMedia.bind(this),{available:t,extensionId:this.props.extensionId,extensionInstalled:!1,extensionInstalling:!1,extensionRequired:!1,listenForInstallation:function(e){},ready:t})}return Object(Ne.createElement)("button",{onClick:function(){return e.getDisplayMedia()}},"Start Screenshare")}}]),n}(Ne.Component);Object(Me.b)((function(e,t){var n=bt(e);return{extensionId:t.extensionId||n.screensharingExtensions.chrome}}),(function(e){return{addLocalAudio:function(t,n,r){return e(Mn(t,n,void 0,r))},addLocalScreen:function(t,n){return e(Ln(t,n))},shareLocalMedia:function(t){return e(Vn(t))}}}))(Ji);function Yi(e,t,n){return!(!1===n||!n&&!t)&&(t=!0===t?{}:t,n=!0===n?{}:n,Object.assign(Object.assign(Object.assign({},e),t),n))}var Xi=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).errorCount=0,r}return Object(g.a)(n,[{key:"getMedia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(C.a)(this,void 0,void 0,h.a.mark((function t(){var n,r,i,a,o,s,c,u,l,p,d,f,m,v=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},An())for(i=navigator.mediaDevices.getSupportedConstraints(),a=!0,void 0!==this.props.audioProcessing&&(a=this.props.audioProcessing),o=0,s=["autoGainControl","echoCancellation","noiseSuppression"];o<s.length;o++)i[c=s[o]]&&(r[c]=a&&"music"!==this.props.audioTypeHint);if(u=Yi(r,this.props.audio,e.audio),l=Yi({},this.props.video,e.video),t.prev=4,navigator.mediaDevices){t.next=7;break}throw new Error("getUserMedia not supported");case 7:if(this.props.deviceCaptureRequest(!!l,!!u),!u){t.next=11;break}return t.next=11,this.props.removeAllMedia("audio");case 11:return t.next=13,navigator.mediaDevices.getUserMedia({audio:u,video:l});case 13:n=t.sent,t.next=26;break;case 16:if(t.prev=16,t.t0=t.catch(4),this.errorCount+=1,!("AbortError"===t.t0.name&&this.errorCount<12)){t.next=22;break}return setTimeout((function(){return v.getMedia(e)}),100+Math.pow(2,this.errorCount)),t.abrupt("return",{});case 22:return"NotAllowedError"!==t.t0.name&&"SecurityError"!==t.t0.name||(u&&this.props.microphonePermissionDenied(),l&&this.props.cameraPermissionDenied()),this.props.deviceCaptureRequest(!1,!1),this.props.onError&&this.props.onError(t.t0),t.abrupt("return",{});case 26:return this.errorCount=0,p=n.getAudioTracks()[0],d=n.getVideoTracks()[0],p?("contentHint"in p&&(p.contentHint=this.props.audioTypeHint),f=!0,void 0!==this.props.volumeMonitoring&&(f=this.props.volumeMonitoring),this.props.addLocalAudio(p,n,this.props.replaceAudio,f),!1!==this.props.share&&this.props.shareLocalMedia(p.id)):u&&this.props.microphonePermissionDenied(),d?("contentHint"in d&&(d.contentHint=this.props.videoTypeHint),this.props.screenCapture?this.props.addLocalScreen(d,n,this.props.replaceVideo):this.props.addLocalVideo(d,n,this.props.mirrored,this.props.replaceVideo),!1!==this.props.share&&this.props.shareLocalMedia(d.id)):l&&this.props.cameraPermissionDenied(),t.next=33,this.props.fetchDevices();case 33:return t.next=35,this.props.deviceCaptureRequest(!1,!1);case 35:return m={audio:p?p.id:void 0,video:d?d.id:void 0},this.props.onSuccess&&this.props.onSuccess(m),t.abrupt("return",m);case 38:case"end":return t.stop()}}),t,this,[[4,16]])})))}},{key:"componentDidMount",value:function(){this.props.auto&&this.getMedia()}},{key:"componentDidUpdate",value:function(e){this.props.auto&&this.props.auto!==e.auto&&this.getMedia()}},{key:"render",value:function(){var e=this.getMedia.bind(this),t={requestingCameraCapture:this.props.requestingCameraCapture,requestingCapture:this.props.requestingCapture,requestingMicrophoneCapture:this.props.requestingMicrophoneCapture},n=this.props.render;return n||"function"!==typeof this.props.children||(n=this.props.children),n?n(e,t):this.props.children?this.props.children:this.props.auto?null:Object(Ne.createElement)("button",{onClick:e},"Request Media")}}]),n}(Ne.Component);var Zi=Object(Me.b)((function(e,t){var n=Bt(e);return Object.assign(Object.assign({},t),{requestingCameraCapture:n.requestingCameraCapture,requestingCapture:n.requestingCapture,requestingMicrophoneCapture:n.requestingMicrophoneCapture})}),(function(e){return{addLocalAudio:function(t,n,r,i){return e(Mn(t,n,r,i))},addLocalScreen:function(t,n,r){return e(Ln(t,n,r))},addLocalVideo:function(t,n,r,i){return e(Dn(t,n,r,i))},cameraPermissionDenied:function(t){return e(gr(t))},deviceCaptureRequest:function(t,n){return e(br(t,n))},fetchDevices:function(){return e(fr())},microphonePermissionDenied:function(t){return e(yr(t))},removeAllMedia:function(t){return e(tr(t))},shareLocalMedia:function(t){return e(Vn(t))}}}))(Xi),ea=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){"connected"===this.props.connectionState&&this.props.join()}},{key:"componentWillUnmount",value:function(){this.props.leave(this.props.roomAddress)}},{key:"componentDidUpdate",value:function(e){if(this.props.name!==e.name&&e.room&&e.name&&e.room)return this.props.leave(e.room.address,!1),void this.props.join();"connected"===this.props.connectionState&&(this.props.connectionState===e.connectionState?this.props.room&&this.props.password!==e.password&&("joined"===this.props.room.roomState?this.props.password?this.props.lock(this.props.roomAddress,this.props.password):this.props.unlock(this.props.roomAddress):this.props.join()):this.props.join())}},{key:"render",value:function(){var e={call:this.props.call||{},joined:!!this.props.room&&this.props.room.joined,localMedia:this.props.localMedia||[],peers:this.props.peers||[],remoteMedia:this.props.remoteMedia||[],room:this.props.room||{}},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);var ta=Object(Me.b)((function(e,t){var n;t.roomAddress&&(n=Pt(e,t.roomAddress)),!n&&t.name&&(n=At(e,t.name));var r=t.excludeMedia?void 0:zt(e),i=t.excludeMedia?void 0:Vt(e),a=n&&!t.excludePeers?It(e,null===n||void 0===n?void 0:n.address):void 0;return{call:n?Dt(e,n.address):void 0,connectionState:jt(e),localMedia:r,peers:a,remoteMedia:i,room:n,roomAddress:n?n.address:void 0,roomState:n?n.roomState:"joining"}}),(function(e,t){return{destroy:function(t){return e(Er(t))},join:function(){return e(kr(t.name,{password:t.password||void 0}))},leave:function(t,n){return e(jr(t,n))},lock:function(t,n){return e(Or(t,n))},unlock:function(t){return e(_r(t))}}}))(ea),na=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e={customerData:this.props.customerData||{},deafen:this.props.deafen,hasAudio:this.props.hasAudio||!1,hasScreenCapture:this.props.hasScreenCapture||!1,hasVideo:this.props.hasVideo||!1,isDeafened:this.props.isDeafened||!1,isMuted:this.props.isMuted||!1,isPaused:this.props.isPaused||!1,isScreenCapturePaused:this.props.isScreenCapturePaused||!1,isSpeaking:this.props.isSpeaking||!1,isSpeakingWhileMuted:this.props.isSpeakingWhileMuted||!1,mute:this.props.mute,pauseVideo:this.props.pauseVideo,resumeVideo:this.props.resumeVideo,setAudioOutputDevice:this.props.setAudioOutputDevice,setDisplayName:this.props.setDisplayName,setGlobalVolumeLimit:this.props.setGlobalVolumeLimit,setVoiceActivityThreshold:this.props.setVoiceActivityThreshold,undeafen:this.props.undeafen,unmute:this.props.unmute,user:this.props.user},t=this.props.render;return t||"function"!==typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}}]),n}(Ne.Component);Object(Me.b)((function(e,t){var n,r=zt(e),i=!0,a=!0,o=!0,s=!1,c=!1,u=!1,l=Object(y.a)(r);try{for(l.s();!(n=l.n()).done;){var p=n.value;"audio"===p.kind&&(s=!0,i=i&&p.localDisabled),"video"===p.kind&&(p.screenCapture?(u=!0,o=o&&p.localDisabled):(c=!0,a=a&&p.localDisabled))}}catch(h){l.e(h)}finally{l.f()}var d=St(e),f=kt(e);return{customerData:d,hasAudio:s,hasScreenCapture:u,hasVideo:c,isDeafened:0===Gt(e),isMuted:i,isPaused:a,isScreenCapturePaused:o,isSpeaking:en(e,!1),isSpeakingWhileMuted:tn(e,!1),user:f}}),(function(e,t){return{deafen:function(){return e(Dr(0))},mute:function(){return e(Yn())},pauseVideo:function(t){return e(Zn(t))},resumeVideo:function(t){return e(er(t))},setAudioOutputDevice:function(t){return e(Mr(t))},setDisplayName:function(t){return e(Ar(t))},setGlobalVolumeLimit:function(t){return e(Dr(t))},setVoiceActivityThreshold:function(t){return e(Nr(t))},undeafen:function(){return e(Dr(1))},unmute:function(){return e(Xn())}}}))(na);var ra=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"shouldComponentUpdate",value:function(e){return!this.props.media||!e.media||this.props.media.localDisabled!==e.media.localDisabled||this.props.media.remoteDisabled!==e.media.remoteDisabled||this.props.media.loaded!==e.media.loaded||this.props.media.renderMirrored!==e.media.renderMirrored||this.props.media.track!==e.media.track||this.props.media.id!==e.media.id||this.props.qualityProfile!==e.qualityProfile}},{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(e){this.setup(e)}},{key:"componentWillUnmount",value:function(){this.props.qualityProfile&&this.props.requestQualityProfile("off")}},{key:"setup",value:function(e){if(this.props.media&&this.video){this.video.oncontextmenu=function(e){e.preventDefault()},this.video.muted=!0,this.video.autoplay=!0;var t=!1;this.video.srcObject!==this.props.media.stream&&(this.video.srcObject=this.props.media.stream,t=!0),"remote"!==this.props.media.source||!this.props.qualityProfile||e&&this.props.qualityProfile===e.qualityProfile||(t||this.props.qualityProfile!==this.props.media.profile)&&this.props.requestQualityProfile(this.props.qualityProfile)}}},{key:"render",value:function(){var e=this;return this.props.media&&this.props.media.loaded?Object(Ne.createElement)("video",{id:this.props.id,className:this.props.className,ref:function(t){e.video=t},style:this.props.media&&this.props.media.renderMirrored?{transform:"scaleX(-1)"}:{},playsInline:!0}):null}}]),n}(Ne.Component);var ia=Object(Me.b)((function(e,t){return t}),(function(e,t){return{requestQualityProfile:function(n){t.media&&e($n(t.media.id,n))}}}))(ra),aa=(Ne.Component,Zt(),{simplewebrtc:{}});function oa(){return Object(b.e)(Object(b.c)({simplewebrtc:vi}),aa,Object(b.d)(Object(b.a)(S)))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return s}));var r=n(56),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],p=l,d=!1;function f(){p===l&&(p=l.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function m(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),p.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var n=p.indexOf(e);p.splice(n,1),l=null}}}function v(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=c(u,e)}finally{d=!1}for(var t=l=p,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,v({type:a.REPLACE})}function y(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return v({type:a.INIT}),(i={dispatch:v,subscribe:m,getState:h,replaceReducer:g})[r.a]=y,i}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(u){o=u}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],l=n[u],p=e[u],d=l(p,t);if("undefined"===typeof d){var f=c(u,t);throw new Error(f)}i[u]=d,r=r||d!==p}return(r=r||s.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=l(i,t))}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return h({},n,{dispatch:r=m.apply(void 0,a)(n.dispatch)})}}}},function(e,t,n){"use strict";(function(e){var r=n(105),i=n(106),a=n(61);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return j(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var p=!0,d=0;d<c;d++)if(u(e,a+d)!==u(t,d)){p=!1;break}if(p)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function k(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return k(e,t,n,r)}function C(e,t,n,r){return V(z(t),e,n,r)}function x(e,t,n,r){return V(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function j(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,u=e[i],l=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p<=n)switch(p){case 1:u<128&&(l=u);break;case 2:128===(192&(a=e[i+1]))&&(c=(31&u)<<6|63&a)>127&&(l=c);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(c=(15&u)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(c=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,p=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=p}return function(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=_));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(r,i),l=e.slice(t,n),p=0;p<s;++p)if(u[p]!==l[p]){a=u[p],o=l[p];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=B(e[a]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function A(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,a){return a||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,a){return a||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:U(new c(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(21))},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(33),i=n(3),a=n.n(i),o=n(83),s=n.n(o),c=n(84),u=n(85),l=n(57),p=n(34),d=n.n(p);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},v=Object.freeze([]),g=Object.freeze({});function y(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var k="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",S="undefined"!=typeof window&&"HTMLElement"in window,C=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY));function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var j=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&x(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),O=new Map,_=new Map,E=1,T=function(e){if(O.has(e))return O.get(e);for(;_.has(E);)E++;var t=E++;return O.set(e,t),_.set(t,e),t},R=function(e){return _.get(e)},P=function(e,t){O.set(e,t),_.set(t,e)},A="style["+k+'][data-styled-version="5.2.1"]',I=new RegExp("^"+k+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),N=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},M=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(I);if(s){var c=0|parseInt(s[1],10),u=s[2];0!==c&&(P(u,c),N(e,u,s[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(o)}}},D=function(){return n.nc},L=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(k))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(k,"active"),r.setAttribute("data-styled-version","5.2.1");var o=D();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},F=function(){function e(e){var t=this.element=L(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}x(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),q=function(){function e(e){var t=this.element=L(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),U=S,z={isServer:!S,useCSSOMInjection:!C},V=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=f({},z,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&S&&U&&(U=!1,function(e){for(var t=document.querySelectorAll(A),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(k)&&(M(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return T(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(f({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new B(i):r?new F(i):new q(i),new j(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(T(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(T(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(T(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=R(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(void 0!==o&&0!==s.length){var c=k+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+c+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=W(t%52)+n;return(W(t%52)+n).replace(H,"$1-$2")}var Q=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$=function(e){return Q(5381,e)};function K(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(y(n)&&!w(n))return!1}return!0}var J=$("5.2.1"),Y=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&K(e),this.componentId=t,this.baseHash=Q(J,t),this.baseStyle=n,V.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=me(this.rules,e,t,n).join(""),o=G(Q(this.baseHash,a.length)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var c=this.rules.length,u=Q(this.baseHash,n.hash),l="",p=0;p<c;p++){var d=this.rules[p];if("string"==typeof d)l+=d;else if(d){var f=me(d,e,t,n),h=Array.isArray(f)?f.join(""):f;u=Q(u,h+p),l+=h}}if(l){var m=G(u>>>0);if(!t.hasNameForId(r,m)){var v=n(l,"."+m,void 0,r);t.insertRules(r,m,v)}i.push(m)}}return i.join(" ")},e}(),X=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,i,a=void 0===e?g:e,o=a.options,s=void 0===o?g:o,u=a.plugins,l=void 0===u?v:u,p=new c.a(s),d=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,c,u,l,p){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===p?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),h=function(e,r,a){return 0===r&&Z.includes(a[n.length])||a.match(i)?e:"."+t};function m(e,a,o,s){void 0===s&&(s="&");var c=e.replace(X,""),u=a&&o?o+" "+a+" { "+c+" }":c;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),p(o||!a?"":a,u)}return p.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},f,function(e){if(-2===e){var t=d;return d=[],t}}])),m.hash=l.length?l.reduce((function(e,t){return t.name||x(15),Q(e,t.name)}),5381).toString():"",m}var te=a.a.createContext(),ne=(te.Consumer,a.a.createContext()),re=(ne.Consumer,new V),ie=ee();function ae(){return Object(i.useContext)(te)||re}function oe(){return Object(i.useContext)(ne)||ie}function se(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=ae(),c=Object(i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=Object(i.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.a.createElement(te.Provider,{value:c},a.a.createElement(ne.Provider,{value:u},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ie);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return x(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ue=/([A-Z])/,le=/([A-Z])/g,pe=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function fe(e){return ue.test(e)?e.replace(le,de).replace(pe,"-ms-"):e}var he=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=me(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return he(e)?"":w(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!he(t[o])&&(m(t[o])?a.push.apply(a,e(t[o],o)):y(t[o])?a.push(fe(o)+":",t[o],";"):a.push(fe(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var c}function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e)||m(e)?me(h(v,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(h(e,n))}new Set;var ge=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function we(e){return e.replace(ye,"-").replace(be,"")}var ke=function(e){return G($(e)>>>0)};function Se(e){return"string"==typeof e&&!0}var Ce=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},xe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function je(e,t,n){var r=e[n];Ce(t)&&Ce(r)?Oe(r,t):e[n]=t}function Oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Ce(o))for(var s in o)xe(s)&&je(e,o[s],s)}return e}var _e=a.a.createContext();_e.Consumer;var Ee={};function Te(e,t,n){var r=w(e),o=!Se(e),s=t.attrs,c=void 0===s?v:s,u=t.componentId,p=void 0===u?function(e,t){var n="string"!=typeof e?"sc":we(e);Ee[n]=(Ee[n]||0)+1;var r=n+"-"+ke("5.2.1"+n+Ee[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,h=t.displayName,m=void 0===h?function(e){return Se(e)?"styled."+e:"Styled("+b(e)+")"}(e):h,k=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||p,S=r&&e.attrs?Array.prototype.concat(e.attrs,c).filter(Boolean):c,C=t.shouldForwardProp;r&&e.shouldForwardProp&&(C=t.shouldForwardProp?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var x,j=new Y(n,k,r?e.componentStyle:void 0),O=j.isStatic&&0===c.length,_=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,c=e.foldedComponentIds,u=e.shouldForwardProp,p=e.styledComponentId,d=e.target,h=function(e,t,n){void 0===e&&(e=g);var r=f({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in y(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(ge(t,Object(i.useContext)(_e),s)||g,t,a),m=h[0],v=h[1],b=function(e,t,n,r){var i=ae(),a=oe();return t?e.generateAndInjectStyles(g,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,m),w=n,k=v.$as||t.$as||v.as||t.as||d,S=Se(k),C=v!==t?f({},t,{},v):t,x={};for(var j in C)"$"!==j[0]&&"as"!==j&&("forwardedAs"===j?x.as=C[j]:(u?u(j,l.a):!S||Object(l.a)(j))&&(x[j]=C[j]));return t.style&&v.style!==t.style&&(x.style=f({},t.style,{},v.style)),x.className=Array.prototype.concat(c,p,b!==p?b:null,t.className,v.className).filter(Boolean).join(" "),x.ref=w,Object(i.createElement)(k,x)}(x,e,t,O)};return _.displayName=m,(x=a.a.forwardRef(_)).attrs=S,x.componentStyle=j,x.displayName=m,x.shouldForwardProp=C,x.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):v,x.styledComponentId=k,x.target=r?e.target:e,x.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Se(e)?e:we(b(e)));return Te(e,f({},i,{attrs:S,componentId:a}),n)},Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Oe({},e.defaultProps,t):t}}),x.toString=function(){return"."+x.styledComponentId},o&&d()(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),x}var Re=function(e){return function e(t,n,i){if(void 0===i&&(i=g),!Object(r.isValidElementType)(n))return x(1,String(n));var a=function(){return t(n,i,ve.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,f({},i,{},r))},a.attrs=function(r){return e(t,n,f({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(Te,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Re[e]=Re(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=K(e),V.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&V.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=D();return"<style "+[n&&'nonce="'+n+'"',k+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?x(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return x(2);var n=((t={})[k]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=D();return r&&(n.nonce=r),[a.a.createElement("style",f({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new V({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?x(2):a.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return x(3)}}();t.a=Re}).call(this,n(23))},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r,i=n(111),a=n(65),o=n(113),s=n(114),c=n(115);"undefined"!==typeof ArrayBuffer&&(r=n(116));var u="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=u||l;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=i(d),h={type:"error",data:"parser error"},m=n(117);function v(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),a=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},o=0;o<e.length;o++)a(o,e[o],i)}t.encodePacket=function(e,n,r,i){"function"===typeof n&&(i=n,n=!1),"function"===typeof r&&(i=r,r=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,a=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=d[e.type];for(var s=0;s<a.length;s++)o[s+1]=a[s];return r(o.buffer)}(e,n,i);if("undefined"!==typeof m&&a instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(p)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=d[e.type];var a=new m([i.buffer,e.data]);return r(a)}(e,n,i);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var o=d[e.type];return void 0!==e.data&&(o+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),i(""+o)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];n(i+e)},a.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){for(var o=new Uint8Array(e.data),s=new Array(o.length),c=0;c<o.length;c++)s[c]=o[c];r=String.fromCharCode.apply(null,s)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return h;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return h;var i=e.charAt(0);return Number(i)==i&&f[i]?e.length>1?{type:f[i],data:e.substring(1)}:{type:f[i]}:h}i=new Uint8Array(e)[0];var a=o(e,1);return m&&"blob"===n&&(a=new m([a])),{type:f[i],data:a}},t.decodeBase64Packet=function(e,t){var n=f[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"===typeof n&&(r=n,n=null);var i=a(e);if(n&&i)return m&&!p?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");v(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!==typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"===typeof n&&(r=n,n=null),""===e)return r(h,0,1);for(var a,o,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===s||s!=(a=Number(s)))return r(h,0,1);if(s!=(o=e.substr(c+1,a)).length)return r(h,0,1);if(o.length){if(i=t.decodePacket(o,n,!1),h.type===i.type&&h.data===i.data)return r(h,0,1);if(!1===r(i,c+a,u))return}c+=a,s=""}else s+=l}return""!==s?r(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));v(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),a=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);n=r.buffer}i[a++]=t?0:1;var s=n.byteLength.toString();for(o=0;o<s.length;o++)i[a++]=parseInt(s[o]);i[a++]=255;for(r=new Uint8Array(n),o=0;o<r.length;o++)i[a++]=r[o]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){v(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var a=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(a.length+1);for(i=0;i<a.length;i++)o[i]=parseInt(a[i]);if(o[a.length]=255,m){var s=new m([t.buffer,o.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"===typeof n&&(r=n,n=null);for(var i=e,a=[];i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],u="",l=1;255!==s[l];l++){if(u.length>310)return r(h,0,1);u+=s[l]}i=o(i,2+u.length),u=parseInt(u);var p=o(i,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(m){var d=new Uint8Array(p);p="";for(l=0;l<d.length;l++)p+=String.fromCharCode(d[l])}a.push(p),i=o(i,u)}var f=a.length;a.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,f)}))}},function(e,t,n){"use strict";var r=n(46),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=p;var a=Object.create(n(36));a.inherits=n(37);var o=n(73),s=n(76);a.inherits(p,o);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];p.prototype[l]||(p.prototype[l]=s.prototype[l])}function p(e){if(!(this instanceof p))return new p(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),p.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(38);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(93)},function(e,t,n){"use strict";var r=n(33),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var o=l(n);p&&(o=o.concat(p(n)));for(var s=c(t),m=c(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=d(n,g);try{u(t,g,y)}catch(b){}}}}return t}},function(e,t,n){(t=e.exports=n(73)).Stream=t,t.Readable=t,t.Writable=n(76),t.Duplex=n(30),t.Transform=n(78),t.PassThrough=n(134)},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(25).Buffer)},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var a=n[i],o=r.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=r.parseRtpMap(o),c=r.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),a&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var a=r.matchPrefix(e,"a=rtcp-mux");return t.mux=a.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var a=r.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var o=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(o[0],10),protocol:o[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),a+="a=mid:"+e.mid+"\r\n",e.direction?a+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var r=n(9),i=n(0),a=n(4),o=n(5),s=n(11),c=n(6);function u(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();return e.call(this,n,i)}}var l="function"===typeof setImmediate&&setImmediate,p="object"===typeof process&&"function"===typeof process.nextTick;function d(e){setTimeout(e,0)}function f(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e((function(){return t.apply(void 0,r)}))}}var h=f(l?setImmediate:p?process.nextTick:d);function m(e){return y(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop(),a=e.apply(this,n);return v(a,i)}:u((function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}if(r&&"function"===typeof r.then)return v(r,n);n(null,r)}))}function v(e,t){return e.then((function(e){g(t,null,e)}),(function(e){g(t,e&&e.message?e:new Error(e))}))}function g(e,t,n){try{e(t,n)}catch(r){h((function(e){throw e}),r)}}function y(e){return"AsyncFunction"===e[Symbol.toStringTag]}function b(e){if("function"!==typeof e)throw new Error("expected a function");return y(e)?m(e):e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(!t)throw new Error("arity is undefined");function n(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return"function"===typeof i[t-1]?e.apply(this,i):new Promise((function(r,a){i[t-1]=function(e){if(e)return a(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r(n.length>1?n:n[0])},e.apply(n,i)}))}return n}function k(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=w((function(n){var i=this;return e(t,(function(e,t){b(e).apply(i,r.concat(t))}),n)}));return a}}function S(e,t,n,r){t=t||[];var i=[],a=0,o=b(n);return e(t,(function(e,t,n){var r=a++;o(e,(function(e,t){i[r]=t,n(e)}))}),(function(e){r(e,i)}))}function C(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}var x={};function j(e){function t(){if(null!==e){var t=e;e=null;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}return Object.assign(t,e),t}function O(e){if(C(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):function(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}(e)}function _(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}function E(e,t,n,r){var i=!1,a=!1,o=!1,s=0,c=0;function u(){s>=t||o||i||(o=!0,e.next().then((function(e){var t=e.value,p=e.done;if(!a&&!i){if(o=!1,p)return i=!0,void(s<=0&&r(null));s++,n(t,c,l),c++,u()}})).catch(p))}function l(e,t){if(s-=1,!a)return e?p(e):!1===e?(i=!0,void(a=!0)):t===x||i&&s<=0?(i=!0,r(null)):void u()}function p(e){a||(o=!1,i=!0,r(e))}u()}var T=function(e){return function(t,n,r){if(r=j(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if("AsyncGenerator"===t[Symbol.toStringTag])return E(t,e,n,r);if(function(e){return"function"===typeof e[Symbol.asyncIterator]}(t))return E(t[Symbol.asyncIterator](),e,n,r);var i=O(t),a=!1,o=!1,s=0,c=!1;function u(e,t){if(!o)if(s-=1,e)a=!0,r(e);else if(!1===e)a=!0,o=!0;else{if(t===x||a&&s<=0)return a=!0,r(null);c||l()}}function l(){for(c=!0;s<e&&!a;){var t=i();if(null===t)return a=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,_(u))}c=!1}l()}};var R=w((function(e,t,n,r){return T(t)(e,b(n),r)}),4);function P(e,t,n){n=j(n);var r=0,i=0,a=e.length,o=!1;function s(e,t){!1===e&&(o=!0),!0!==o&&(e?n(e):++i!==a&&t!==x||n(null))}for(0===a&&n(null);r<a;r++)t(e[r],r,_(s))}function A(e,t,n){return R(e,1/0,t,n)}var I=w((function(e,t,n){return(C(e)?P:A)(e,b(t),n)}),3);var N=w((function(e,t,n){return S(I,e,t,n)}),3);k(N);var M=w((function(e,t,n){return R(e,1,t,n)}),3);var D=w((function(e,t,n){return S(M,e,t,n)}),3);k(D),Symbol("promiseCallback");var L=function(){function e(){Object(a.a)(this,e),this.head=this.tail=null,this.length=0}return Object(o.a)(e,[{key:"removeLink",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}},{key:"empty",value:function(){for(;this.head;)this.shift();return this}},{key:"insertAfter",value:function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}},{key:"insertBefore",value:function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}},{key:"unshift",value:function(e){this.head?this.insertBefore(this.head,e):F(this,e)}},{key:"push",value:function(e){this.tail?this.insertAfter(this.tail,e):F(this,e)}},{key:"shift",value:function(){return this.head&&this.removeLink(this.head)}},{key:"pop",value:function(){return this.tail&&this.removeLink(this.tail)}},{key:"toArray",value:function(){return Object(s.a)(this)}},{key:Symbol.iterator,value:i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.data;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"remove",value:function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this}}]),e}();function F(e,t){e.length=1,e.head=e.tail=t}function q(e,t,n){var a;if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var o=b(e),s=0,c=[],u={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function l(e,t){return e?t?void(u[e]=u[e].filter((function(e){return e!==t}))):u[e]=[]:Object.keys(u).forEach((function(e){return u[e]=[]}))}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u[e].forEach((function(e){return e.apply(void 0,n)}))}var d=!1;function f(e,t,n,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");var i,a;function o(e){if(e)return n?a(e):i();for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(r.length<=1)return i(r[0]);i(r)}w.started=!0;var s={data:e,callback:n?o:r||o};if(t?w._tasks.unshift(s):w._tasks.push(s),d||(d=!0,h((function(){d=!1,w.process()}))),n||!r)return new Promise((function(e,t){i=e,a=t}))}function m(e){return function(t){s-=1;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=e.length;a<o;a++){var u=e[a],l=c.indexOf(u);0===l?c.shift():l>0&&c.splice(l,1),u.callback.apply(u,[t].concat(r)),null!=t&&p("error",t,u.data)}s<=w.concurrency-w.buffer&&p("unsaturated"),w.idle()&&p("drain"),w.process()}}function v(e){return!(0!==e.length||!w.idle())&&(h((function(){return p("drain")})),!0)}var g=function(e){return function(t){if(!t)return new Promise((function(t,n){!function(e,t){u[e].push((function n(){l(e,n),t.apply(void 0,arguments)}))}(e,(function(e,r){if(e)return n(e);t(r)}))}));l(e),function(e,t){u[e].push(t)}(e,t)}},y=!1,w=(a={_tasks:new L},Object(r.a)(a,Symbol.iterator,i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(w._tasks[Symbol.iterator](),"t0",1);case 1:case"end":return e.stop()}}),e)}))),Object(r.a)(a,"concurrency",t),Object(r.a)(a,"payload",n),Object(r.a)(a,"buffer",t/4),Object(r.a)(a,"started",!1),Object(r.a)(a,"paused",!1),Object(r.a)(a,"push",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return f(e,!1,!1,t)}))}return f(e,!1,!1,t)})),Object(r.a)(a,"pushAsync",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return f(e,!1,!0,t)}))}return f(e,!1,!0,t)})),Object(r.a)(a,"kill",(function(){l(),w._tasks.empty()})),Object(r.a)(a,"unshift",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return f(e,!0,!1,t)}))}return f(e,!0,!1,t)})),Object(r.a)(a,"unshiftAsync",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return f(e,!0,!0,t)}))}return f(e,!0,!0,t)})),Object(r.a)(a,"remove",(function(e){w._tasks.remove(e)})),Object(r.a)(a,"process",(function(){if(!y){for(y=!0;!w.paused&&s<w.concurrency&&w._tasks.length;){var e=[],t=[],n=w._tasks.length;w.payload&&(n=Math.min(n,w.payload));for(var r=0;r<n;r++){var i=w._tasks.shift();e.push(i),c.push(i),t.push(i.data)}s+=1,0===w._tasks.length&&p("empty"),s===w.concurrency&&p("saturated");var a=_(m(e));o(t,a)}y=!1}})),Object(r.a)(a,"length",(function(){return w._tasks.length})),Object(r.a)(a,"running",(function(){return s})),Object(r.a)(a,"workersList",(function(){return c})),Object(r.a)(a,"idle",(function(){return w._tasks.length+s===0})),Object(r.a)(a,"pause",(function(){w.paused=!0})),Object(r.a)(a,"resume",(function(){!1!==w.paused&&(w.paused=!1,h(w.process))})),a);return Object.defineProperties(w,{saturated:{writable:!1,value:g("saturated")},unsaturated:{writable:!1,value:g("unsaturated")},empty:{writable:!1,value:g("empty")},drain:{writable:!1,value:g("drain")},error:{writable:!1,value:g("error")}}),w}w((function(e,t,n,r){r=j(r);var i=b(n);return M(e,(function(e,n,r){i(t,e,(function(e,n){t=n,r(e)}))}),(function(e){return r(e,t)}))}),4);var B=w((function(e,t,n,r){return S(T(t),e,n,r)}),4);var U=w((function(e,t,n,r){var i=b(n);return B(e,t,(function(e,t){i(e,(function(e){if(e)return t(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t(e,r)}))}),(function(e,t){for(var n=[],i=0;i<t.length;i++){var a;if(t[i])n=(a=n).concat.apply(a,Object(s.a)(t[i]))}return r(e,n)}))}),4);w((function(e,t,n){return U(e,1/0,t,n)}),3);w((function(e,t,n){return U(e,1,t,n)}),3);function z(e,t){return function(n,r,i,a){var o,s=!1,c=b(i);n(r,(function(n,r,i){c(n,(function(r,a){return r||!1===r?i(r):e(a)&&!o?(s=!0,o=t(!0,n),i(null,x)):void i()}))}),(function(e){if(e)return a(e);a(null,s?o:t(!1))}))}}w((function(e,t,n){return z((function(e){return e}),(function(e,t){return t}))(I,e,t,n)}),3);w((function(e,t,n,r){return z((function(e){return e}),(function(e,t){return t}))(T(t),e,n,r)}),4);w((function(e,t,n){return z((function(e){return e}),(function(e,t){return t}))(T(1),e,t,n)}),3);function V(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return b(t).apply(void 0,r.concat([function(t){if("object"===typeof console)if(t)console.error&&console.error(t);else if(console[e]){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((function(t){return console[e](t)}))}}]))}}V("dir");w((function(e,t,n){n=_(n);var r,i=b(e),a=b(t);function o(e){if(e)return n(e);if(!1!==e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];r=i,a.apply(void 0,i.concat([c]))}}function c(e,t){return e?n(e):!1!==e?t?void i(o):n.apply(void 0,[null].concat(Object(s.a)(r))):void 0}return c(null,!0)}),3);function H(e){return function(t,n,r){return e(t,r)}}w((function(e,t,n){return I(e,H(b(t)),n)}),3);var W=w((function(e,t,n,r){return T(t)(e,H(b(n)),r)}),4);var G=w((function(e,t,n){return W(e,1,t,n)}),3);function Q(e){return y(e)?e:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop(),a=!0;n.push((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a?h((function(){return i.apply(void 0,t)})):i.apply(void 0,t)})),e.apply(this,n),a=!1}}w((function(e,t,n){return z((function(e){return!e}),(function(e){return!e}))(I,e,t,n)}),3);w((function(e,t,n,r){return z((function(e){return!e}),(function(e){return!e}))(T(t),e,n,r)}),4);w((function(e,t,n){return z((function(e){return!e}),(function(e){return!e}))(M,e,t,n)}),3);function $(e,t,n,r){var i=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){i[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],a=0;a<t.length;a++)i[a]&&n.push(t[a]);r(null,n)}))}function K(e,t,n,r){var i=[];e(t,(function(e,t,r){n(e,(function(n,a){if(n)return r(n);a&&i.push({index:t,value:e}),r(n)}))}),(function(e){if(e)return r(e);r(null,i.sort((function(e,t){return e.index-t.index})).map((function(e){return e.value})))}))}function J(e,t,n,r){return(C(t)?$:K)(e,t,b(n),r)}w((function(e,t,n){return J(I,e,t,n)}),3);w((function(e,t,n,r){return J(T(t),e,n,r)}),4);w((function(e,t,n){return J(M,e,t,n)}),3);w((function(e,t){var n=_(t),r=b(Q(e));return function e(t){if(t)return n(t);!1!==t&&r(e)}()}),2);w((function(e,t,n,r){var i=b(n);return B(e,t,(function(e,t){i(e,(function(n,r){return n?t(n):t(n,{key:r,val:e})}))}),(function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,a=0;a<t.length;a++)if(t[a]){var o=t[a].key,s=t[a].val;i.call(n,o)?n[o].push(s):n[o]=[s]}return r(e,n)}))}),4);V("log");w((function(e,t,n,r){r=j(r);var i={},a=b(n);return T(t)(e,(function(e,t,n){a(e,t,(function(e,r){if(e)return n(e);i[t]=r,n(e)}))}),(function(e){return r(e,i)}))}),4);f(p?process.nextTick:l?setImmediate:d),w((function(e,t,n){var r=C(t)?[]:{};e(t,(function(e,t,n){b(e)((function(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(a.length<2){var s=a,u=Object(c.a)(s,1);a=u[0]}r[t]=a,n(e)}))}),(function(e){return n(e,r)}))}),3);function Y(e,t){var n=b(e);return q((function(e,t){n(e[0],t)}),t,1)}var X=function(){function e(){Object(a.a)(this,e),this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}return Object(o.a)(e,[{key:"empty",value:function(){return this.heap=[],this}},{key:"percUp",value:function(e){for(var t;e>0&&ee(this.heap[e],this.heap[t=Z(e)]);){var n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}},{key:"percDown",value:function(e){for(var t;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&ee(this.heap[t+1],this.heap[t])&&(t+=1),!ee(this.heap[e],this.heap[t]));){var n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}},{key:"push",value:function(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}},{key:"unshift",value:function(e){return this.heap.push(e)}},{key:"shift",value:function(){var e=Object(c.a)(this.heap,1)[0];return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}},{key:"toArray",value:function(){return Object(s.a)(this)}},{key:Symbol.iterator,value:i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.heap.length)){e.next=7;break}return e.next=4,this.heap[t].data;case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"remove",value:function(e){for(var t=0,n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[t]=this.heap[n],t++);this.heap.splice(t);for(var r=Z(this.heap.length-1);r>=0;r--)this.percDown(r);return this}},{key:"length",get:function(){return this.heap.length}}]),e}();function Z(e){return(e+1>>1)-1}function ee(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function te(e,t){var n=Y(e,t);return n._tasks=new X,n.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"!==typeof r)throw new Error("task callback must be a function");if(n.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&n.idle())return h((function(){return n.drain()}));for(var i=0,a=e.length;i<a;i++){var o={data:e[i],priority:t,callback:r};n._tasks.push(o)}h(n.process)},delete n.unshift,n}w((function(e,t){if(t=j(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)b(e[n])(t)}),2);function ne(e,t,n,r){var i=b(n);return J(e,t,(function(e,t){i(e,(function(e,n){t(e,!n)}))}),r)}w((function(e,t,n){return ne(I,e,t,n)}),3);w((function(e,t,n,r){return ne(T(t),e,n,r)}),4);w((function(e,t,n){return ne(M,e,t,n)}),3);w((function(e,t,n){return z(Boolean,(function(e){return e}))(I,e,t,n)}),3);w((function(e,t,n,r){return z(Boolean,(function(e){return e}))(T(t),e,n,r)}),4);w((function(e,t,n){return z(Boolean,(function(e){return e}))(M,e,t,n)}),3);w((function(e,t,n){var r=b(t);return N(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(n,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,t.sort(i).map((function(e){return e.value})))}));function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}}),3);w((function(e,t){var n,r=null;return G(e,(function(e,t){b(e)((function(e){if(!1===e)return t(e);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];n=a.length<2?a[0]:a,r=e,t(e?null:{})}))}),(function(){return t(r,n)}))}));w((function(e,t,n){n=_(n);var r=b(t),i=b(e),a=[];function o(e){if(e)return n(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];a=r,!1!==e&&i(c)}function c(e,t){return e?n(e):!1!==e?t?void r(o):n.apply(void 0,[null].concat(Object(s.a)(a))):void 0}return i(c)}),3);w((function(e,t){if(t=j(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){b(e[n++]).apply(void 0,Object(s.a)(t).concat([_(i)]))}function i(i){if(!1!==i){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if(i||n===e.length)return t.apply(void 0,[i].concat(o));r(o)}}r([])}))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,c=o(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(c[s[p]]=n[s[p]])}}return c}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG),e}(t=e.exports=n(99)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,n(23))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG),e}(t=e.exports=n(118)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,n(23))},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(23))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(95)},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return a}));var i=n(18);function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,n){var r=n(101)("socket.io-parser"),i=n(28),a=n(104),o=n(59),s=n(60);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=p;var u=t.ERROR+'"encode error"';function l(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return u;n+=i}return r("encoded %j as %s",e,n),n}function p(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function f(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){function n(e){var n=a.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)}a.removeBlobs(e,n)}(e,n):n([l(e)])},i(p.prototype),p.prototype.add=function(e){var n;if("string"===typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return f("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var a="";"-"!==e.charAt(++n)&&(a+=e.charAt(n),n!=e.length););if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){if(","===(c=e.charAt(n)))break;if(i.nsp+=c,n===e.length)break}else i.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(i.id="";++n;){var c;if(null==(c=e.charAt(n))||Number(c)!=c){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!(!1!==u&&(i.type===t.ERROR||o(u))))return f("invalid payload");i.data=u}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r=n(109),i=n(52);e.exports=function(e){var t=e.xdomain,n=e.xscheme,a=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!==typeof XDomainRequest&&!n&&a)return new XDomainRequest}catch(o){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},function(e,t,n){var r=n(29),i=n(28);function a(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=a,i(a.prototype),a.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},a.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},a.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},a.prototype.onPacket=function(e){this.emit("packet",e)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){var r=n(25),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";(function(e,r){var i,a=n(79);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(21),n(94)(e))},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),a=e.indexOf("]");-1!=i&&-1!=a&&(e=e.substring(0,i)+e.substring(i,a).replace(/:/g,";")+e.substring(a,e.length));for(var o=n.exec(e||""),s={},c=14;c--;)s[r[c]]=o[c]||"";return-1!=i&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var n="function"===typeof t&&"function"===typeof t.isBuffer,r="function"===typeof ArrayBuffer}).call(this,n(25).Buffer)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(107),i=n(68),a=n(28),o=n(50),s=n(69),c=n(70),u=n(42)("socket.io-client:manager"),l=n(67),p=n(124),d=Object.prototype.hasOwnProperty;function f(e,t){if(!(this instanceof f))return new f(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=f,f.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},f.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},f.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(f.prototype),f.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},f.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},f.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var a=s(n,"open",(function(){i.onopen(),e&&e()})),o=s(n,"error",(function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c),0===c&&a.destroy();var l=setTimeout((function(){u("connect attempt timed out after %d",c),a.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(a),this.subs.push(o),this},f.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(e){this.decoder.add(e)},f.prototype.ondecoded=function(e){this.emit("packet",e)},f.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},f.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",a),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&a()}function a(){~l(r.connecting,n)||r.connecting.push(n)}return n},f.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},f.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},f.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(51),i=n(110),a=n(120),o=n(121);t.polling=function(e){var t=!1,n=!1,o=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!o)throw new Error("JSONP disabled");return new a(e)},t.websocket=o},function(e,t,n){var r=n(53),i=n(43),a=n(29),o=n(44),s=n(66),c=n(45)("engine.io-client:polling");e.exports=l;var u=null!=new(n(51))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}o(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;c("polling got data %s",e);a.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(112),i=Object.prototype.toString,a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(n){if(!n||"object"!==typeof n)return!1;if(r(n)){for(var i=0,s=n.length;i<s;i++)if(e(n[i]))return!0;return!1}if("function"===typeof t&&t.isBuffer&&t.isBuffer(n)||"function"===typeof ArrayBuffer&&n instanceof ArrayBuffer||a&&n instanceof Blob||o&&n instanceof File)return!0;if(n.toJSON&&"function"===typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&e(n[c]))return!0;return!1}}).call(this,n(25).Buffer)},function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a={},o=0,s=0;function c(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function u(){var e=c(+new Date);return e!==r?(o=0,r=e):e+"."+c(o++)}for(;s<64;s++)a[i[s]]=s;u.encode=c,u.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+a[e.charAt(s)];return t},e.exports=u},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(50),i=n(28),a=n(123),o=n(69),s=n(70),c=n(42)("socket.io-client:socket"),u=n(43),l=n(65);e.exports=f;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function f(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},f.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},f.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},f.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},f.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},f.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},f.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=a(arguments);c("sending ack %j",i),t.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},f.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(e){return this.flags.compress=e,this},f.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(127),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(21))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(t,r){var i=n(46);e.exports=b;var a,o=n(61);b.ReadableState=y;n(17).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(74),u=n(54).Buffer,l=t.Uint8Array||function(){};var p=Object.create(n(36));p.inherits=n(37);var d=n(129),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var h,m=n(130),v=n(75);p.inherits(b,c);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(a=a||n(30));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(77).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function b(e){if(a=a||n(30),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}(e,o)):(i||(a=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?k(e,o,t,!1):O(e,o)):k(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function k(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),O(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return h||(h=n(77).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var S=8388608;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(j,e):j(e))}function j(e){f("emit readable"),e.emit("readable"),R(e)}function O(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function E(e){f("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):x(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&A(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&A(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function u(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",p),e.removeListener("error",v),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",m),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||p())}function l(){f("onend"),e.end()}a.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var p=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,R(e))}}(n);e.on("drain",p);var d=!1;var h=!1;function m(t){f("ondata"),h=!1,!1!==e.write(t)||h||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==N(a.pipes,e))&&!d&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function v(t){f("onerror",t),b(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",g),b()}function b(){f("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",g),e.once("finish",y),e.emit("pipe",n),a.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=N(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):i.nextTick(E,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<g.length;a++)e.on(g[a],this.emit.bind(this,g[a]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=P}).call(this,n(21),n(23))},function(e,t,n){e.exports=n(17).EventEmitter},function(e,t,n){"use strict";var r=n(46);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,r,i){var a=n(46);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;y.WritableState=g;var u=Object.create(n(36));u.inherits=n(37);var l={deprecate:n(132)},p=n(74),d=n(54).Buffer,f=i.Uint8Array||function(){};var h,m=n(75);function v(){}function g(e,t){s=s||n(30),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var p=!1===e.decodeStrings;this.decodeStrings=!p,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),x(e,t))}(e,n,r,t,i);else{var o=S(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?c(w,e,n,o,i):w(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||n(30),!h.call(y,this)&&!(this instanceof s))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),p.call(this)}function b(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,b(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,p=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,l,p),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var n=S(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,p),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===y&&(e&&e._writableState instanceof g)}})):h=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=d.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,a);return c}(this,i,s,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(23),n(71).setImmediate,n(21))},function(e,t,n){"use strict";var r=n(133).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(30),i=Object.create(n(36));function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(37),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(98),i=n(50),a=n(62),o=n(42)("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,u=i.id,l=i.path,p=s[u]&&l in s[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(o("ignoring socket cache for %s",c),n=a(c,t)):(s[u]||(o("new io instance for %s",c),s[u]=a(c,t)),n=s[u]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=c,t.Manager=n(62),t.Socket=n(68)},function(e,t,n){"use strict";var r=n(126);function i(e,t,n,i,a){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":a||"active"),o+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";o+="a="+c,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o}function a(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var a=r(e.parameters.apt,n),o=r(t.parameters.apt,i);return a&&o&&a.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach((function(r){for(var a=0;a<t.codecs.length;a++){var o=t.codecs[a];if(r.name.toLowerCase()===o.name.toLowerCase()&&r.clockRate===o.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&o.parameters.apt&&!i(r,o,e.codecs,t.codecs))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(r.numChannels,o.numChannels),n.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function o(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,r,i){var a=new Event("track");a.track=n,a.receiver=r,a.transceiver={receiver:r},a.streams=i,e.setTimeout((function(){t._dispatchEvent("track",a)}))}var l=function(n){var i=this,a=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=a[e].bind(a)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"===typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;o>0;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},l.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,n){var i=this,a=this.transceivers[n].iceGatherer;if(!a.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),a.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==a.state&&"gathering"!==a.state||(a.state="completed");else{"new"===a.state&&(a.state="gathering"),s.component=1,s.ufrag=a.getLocalParameters().usernameFragment;var u=r.writeCandidate(s);o.candidate=Object.assign(o.candidate,r.parseCandidate(u)),o.candidate.candidate=u,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[o.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var p=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",o),p&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){a.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,i){var o=a(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),i&&e.rtpReceiver&&o.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?o.encodings=e.recvEncodingParameters:o.encodings=[{}],o.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(o.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},l.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!o("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var o=i.transceivers[t],c=o.iceGatherer,u=o.iceTransport,l=o.dtlsTransport,p=o.localCapabilities,d=o.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!o.rejected){var f=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);s&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(o.mid,t),"new"===u.state&&u.start(c,f,s?"controlling":"controlled"),"new"===l.state&&l.start(h));var m=a(p,d);i._transceive(o,m.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!o("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var p={};l.remoteStreams.forEach((function(e){p[e.id]=e}));var d=[],f=r.splitSections(i.sdp),h=f.shift(),m=r.matchPrefix(h,"a=ice-lite").length>0,v=r.matchPrefix(h,"a=group:BUNDLE ").length>0;l.usingBundle=v;var g=r.matchPrefix(h,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,f.forEach((function(o,c){var u=r.splitLines(o),f=r.getKind(o),g=r.isRejected(o)&&0===r.matchPrefix(o,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],b=r.getDirection(o,h),w=r.parseMsid(o),k=r.getMid(o)||r.generateIdentifier();if(g||"application"===f&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))l.transceivers[c]={mid:k,kind:f,protocol:y,rejected:!0};else{var S,C,x,j,O,_,E,T,R;!g&&l.transceivers[c]&&l.transceivers[c].rejected&&(l.transceivers[c]=l._createTransceiver(f,!0));var P,A,I=r.parseRtpParameters(o);g||(P=r.getIceParameters(o,h),(A=r.getDtlsParameters(o,h)).role="client"),E=r.parseRtpEncodingParameters(o);var N=r.parseRtcpParameters(o),M=r.matchPrefix(o,"a=end-of-candidates",h).length>0,D=r.matchPrefix(o,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!g&&v&&c>0&&l.transceivers[c]&&(l._disposeIceAndDtlsTransports(c),l.transceivers[c].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[c].iceTransport=l.transceivers[0].iceTransport,l.transceivers[c].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[c].rtpSender&&l.transceivers[c].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[c].rtpReceiver&&l.transceivers[c].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||g){if("answer"===i.type&&!g){C=(S=l.transceivers[c]).iceGatherer,x=S.iceTransport,j=S.dtlsTransport,O=S.rtpReceiver,_=S.sendEncodingParameters,T=S.localCapabilities,l.transceivers[c].recvEncodingParameters=E,l.transceivers[c].remoteCapabilities=I,l.transceivers[c].rtcpParameters=N,D.length&&"new"===x.state&&(!m&&!M||v&&0!==c?D.forEach((function(e){s(S.iceTransport,e)})):x.setRemoteCandidates(D)),v&&0!==c||("new"===x.state&&x.start(C,P,"controlling"),"new"===j.state&&j.start(A)),!a(S.localCapabilities,S.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&S.sendEncodingParameters[0].rtx&&delete S.sendEncodingParameters[0].rtx,l._transceive(S,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!O||"sendrecv"!==b&&"sendonly"!==b?delete S.rtpReceiver:(R=O.track,w?(p[w.stream]||(p[w.stream]=new e.MediaStream),n(R,p[w.stream]),d.push([R,O,p[w.stream]])):(p.default||(p.default=new e.MediaStream),n(R,p.default),d.push([R,O,p.default])))}}else{(S=l.transceivers[c]||l._createTransceiver(f)).mid=k,S.iceGatherer||(S.iceGatherer=l._createIceGatherer(c,v)),D.length&&"new"===S.iceTransport.state&&(!M||v&&0!==c?D.forEach((function(e){s(S.iceTransport,e)})):S.iceTransport.setRemoteCandidates(D)),T=e.RTCRtpReceiver.getCapabilities(f),t<15019&&(T.codecs=T.codecs.filter((function(e){return"rtx"!==e.name}))),_=S.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var L,F=!1;if("sendrecv"===b||"sendonly"===b){if(F=!S.rtpReceiver,O=S.rtpReceiver||new e.RTCRtpReceiver(S.dtlsTransport,f),F)R=O.track,w&&"-"===w.stream||(w?(p[w.stream]||(p[w.stream]=new e.MediaStream,Object.defineProperty(p[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(R,"id",{get:function(){return w.track}}),L=p[w.stream]):(p.default||(p.default=new e.MediaStream),L=p.default)),L&&(n(R,L),S.associatedRemoteMediaStreams.push(L)),d.push([R,O,L])}else S.rtpReceiver&&S.rtpReceiver.track&&(S.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===S.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),S.associatedRemoteMediaStreams=[]);S.localCapabilities=T,S.remoteCapabilities=I,S.rtpReceiver=O,S.rtcpParameters=N,S.sendEncodingParameters=_,S.recvEncodingParameters=E,l._transceive(l.transceivers[c],!1,F)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(p).forEach((function(t){var n=p[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){l._dispatchEvent("addstream",r)}))}d.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&u(l,t,r,[n])}))}})),d.forEach((function(e){e[2]||u(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var a=n.transceivers.filter((function(e){return"audio"===e.kind})).length,o=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(a=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(o=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--a<0&&(e.wantReceive=!1):"video"===e.kind&&--o<0&&(e.wantReceive=!1)}));a>0||o>0;)a>0&&(n._createTransceiver("audio"),a--),o>0&&(n._createTransceiver("video"),o--);var u=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,a){var o=i.track,s=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(a,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*a+1)}];o&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var o=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(o+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),o+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?o+="m=application 0 DTLS/SCTP 5000\r\n":o+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?o+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(o+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(o+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=a(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,o+=i(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(o+="a=rtcp-rsize\r\n")}}));var u=new e.RTCSessionDescription({type:"answer",sdp:o});return Promise.resolve(u)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,a){if(!n._remoteDescription)return a(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){o=u;break}var l=n.transceivers[o];if(!l)return a(c("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var p=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===p.protocol&&(0===p.port||9===p.port))return i();if(p.component&&1!==p.component)return i();if((0===o||o>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,p))return a(c("OperationError","Can not add ICE candidate"));var d=e.candidate.trim();0===d.indexOf("a=")&&(d=d.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[o]+="a="+(p.type?d:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var f=0;f<n.transceivers.length&&(n.transceivers[f].rejected||(n.transceivers[f].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[f]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));f++);i()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var p=["createOffer","createAnswer"];return p.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(p=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},function(e,t,n){(function(e,n,r,i){(function(t){"use strict";function a(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}var o=function(e){var t=a(arguments,1);return function(){var n=a(arguments);return e.apply(null,t.concat(n))}},s=function(e){return function(){var t=a(arguments),n=t.pop();e.call(this,t,n)}};function c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var u="function"===typeof e&&e,l="object"===typeof n&&"function"===typeof n.nextTick;function p(e){setTimeout(e,0)}function d(e){return function(t){var n=a(arguments,1);e((function(){t.apply(null,n)}))}}var f=d(u?e:l?n.nextTick:p);function h(e){return s((function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}c(r)&&"function"===typeof r.then?r.then((function(e){m(n,null,e)}),(function(e){m(n,e.message?e:new Error(e))})):n(null,r)}))}function m(e,t,n){try{e(t,n)}catch(r){f(v,r)}}function v(e){throw e}var g="function"===typeof Symbol;function y(e){return g&&"AsyncFunction"===e[Symbol.toStringTag]}function b(e){return y(e)?h(e):e}function w(e){return function(t){var n=a(arguments,1),r=s((function(n,r){var i=this;return e(t,(function(e,t){b(e).apply(i,n.concat(t))}),r)}));return n.length?r.apply(this,n):r}}var k="object"==typeof r&&r&&r.Object===Object&&r,S="object"==typeof self&&self&&self.Object===Object&&self,C=k||S||Function("return this")(),x=C.Symbol,j=Object.prototype,O=j.hasOwnProperty,_=j.toString,E=x?x.toStringTag:void 0,T=Object.prototype.toString,R=x?x.toStringTag:void 0;function P(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":R&&R in Object(e)?function(e){var t=O.call(e,E),n=e[E];try{e[E]=void 0;var r=!0}catch(a){}var i=_.call(e);return r&&(t?e[E]=n:delete e[E]),i}(e):function(e){return T.call(e)}(e)}function A(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function I(e){return null!=e&&A(e.length)&&!function(e){if(!c(e))return!1;var t=P(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)}var N={};function M(){}function D(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var L="function"===typeof Symbol&&Symbol.iterator;function F(e){return null!=e&&"object"==typeof e}function q(e){return F(e)&&"[object Arguments]"==P(e)}var B=Object.prototype,U=B.hasOwnProperty,z=B.propertyIsEnumerable,V=q(function(){return arguments}())?q:function(e){return F(e)&&U.call(e,"callee")&&!z.call(e,"callee")},H=Array.isArray,W="object"==typeof t&&t&&!t.nodeType&&t,G=W&&"object"==typeof i&&i&&!i.nodeType&&i,Q=G&&G.exports===W?C.Buffer:void 0,$=(Q?Q.isBuffer:void 0)||function(){return!1},K=/^(?:0|[1-9]\d*)$/;function J(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&K.test(e))&&e>-1&&e%1==0&&e<t}var Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1;var X,Z="object"==typeof t&&t&&!t.nodeType&&t,ee=Z&&"object"==typeof i&&i&&!i.nodeType&&i,te=ee&&ee.exports===Z&&k.process,ne=function(){try{var e=ee&&ee.require&&ee.require("util").types;return e||te&&te.binding&&te.binding("util")}catch(t){}}(),re=ne&&ne.isTypedArray,ie=re?(X=re,function(e){return X(e)}):function(e){return F(e)&&A(e.length)&&!!Y[P(e)]},ae=Object.prototype.hasOwnProperty;function oe(e,t){var n=H(e),r=!n&&V(e),i=!n&&!r&&$(e),a=!n&&!r&&!i&&ie(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!ae.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||J(u,c))||s.push(u);return s}var se=Object.prototype,ce=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ue=Object.prototype.hasOwnProperty;function le(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||se)}(e))return ce(e);var t=[];for(var n in Object(e))ue.call(e,n)&&"constructor"!=n&&t.push(n);return t}function pe(e){return I(e)?oe(e):le(e)}function de(e){if(I(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=function(e){return L&&e[L]&&e[L]()}(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):function(e){var t=pe(e),n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}(e)}function fe(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function he(e){return function(t,n,r){if(r=D(r||M),e<=0||!t)return r(null);var i=de(t),a=!1,o=0,s=!1;function c(e,t){if(o-=1,e)a=!0,r(e);else{if(t===N||a&&o<=0)return a=!0,r(null);s||u()}}function u(){for(s=!0;o<e&&!a;){var t=i();if(null===t)return a=!0,void(o<=0&&r(null));o+=1,n(t.value,t.key,fe(c))}s=!1}u()}}function me(e,t,n,r){he(t)(e,b(n),r)}function ve(e,t){return function(n,r,i){return e(n,t,r,i)}}function ge(e,t,n){n=D(n||M);var r=0,i=0,a=e.length;function o(e,t){e?n(e):++i!==a&&t!==N||n(null)}for(0===a&&n(null);r<a;r++)t(e[r],r,fe(o))}var ye=ve(me,1/0),be=function(e,t,n){(I(e)?ge:ye)(e,b(t),n)};function we(e){return function(t,n,r){return e(be,t,b(n),r)}}function ke(e,t,n,r){r=r||M,t=t||[];var i=[],a=0,o=b(n);e(t,(function(e,t,n){var r=a++;o(e,(function(e,t){i[r]=t,n(e)}))}),(function(e){r(e,i)}))}var Se=we(ke),Ce=w(Se);function xe(e){return function(t,n,r,i){return e(he(n),t,b(r),i)}}var je=xe(ke),Oe=ve(je,1),_e=w(Oe);function Ee(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Te,Re=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[Te?o:++r];if(!1===t(i[s],s,i))break}return e};function Pe(e,t){return e&&Re(e,t,pe)}function Ae(e){return e!==e}function Ie(e,t,n){return t===t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,Ae,n)}var Ne=function(e,t,n){"function"===typeof t&&(n=t,t=null),n=D(n||M);var r=pe(e).length;if(!r)return n(null);t||(t=r);var i={},o=0,s=!1,c=Object.create(null),u=[],l=[],p={};function d(e,t){u.push((function(){!function(e,t){if(!s){var r=fe((function(t,r){if(o--,arguments.length>2&&(r=a(arguments,1)),t){var u={};Pe(i,(function(e,t){u[t]=e})),u[e]=r,s=!0,c=Object.create(null),n(t,u)}else i[e]=r,h(e)}));o++;var u=b(t[t.length-1]);t.length>1?u(i,r):u(r)}}(e,t)}))}function f(){if(0===u.length&&0===o)return n(null,i);for(;u.length&&o<t;)u.shift()()}function h(e){Ee(c[e]||[],(function(e){e()})),f()}function m(t){var n=[];return Pe(e,(function(e,r){H(e)&&Ie(e,t,0)>=0&&n.push(r)})),n}Pe(e,(function(t,n){if(!H(t))return d(n,[t]),void l.push(n);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return d(n,t),void l.push(n);p[n]=i,Ee(r,(function(a){if(!e[a])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+a+"` in "+r.join(", "));!function(e,t){var n=c[e];n||(n=c[e]=[]),n.push(t)}(a,(function(){0===--i&&d(n,t)}))}))})),function(){for(var e,t=0;l.length;)e=l.pop(),t++,Ee(m(e),(function(e){0===--p[e]&&l.push(e)}));if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),f()};function Me(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var De=x?x.prototype:void 0,Le=De?De.toString:void 0;function Fe(e){if("string"==typeof e)return e;if(H(e))return Me(e,Fe)+"";if(function(e){return"symbol"==typeof e||F(e)&&"[object Symbol]"==P(e)}(e))return Le?Le.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function qe(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}(e,t,n)}var Be=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Ue="[\\ud800-\\udfff]",ze="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ve="\\ud83c[\\udffb-\\udfff]",He="[^\\ud800-\\udfff]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",Qe="(?:"+ze+"|"+Ve+")?",$e="[\\ufe0e\\ufe0f]?",Ke=$e+Qe+"(?:\\u200d(?:"+[He,We,Ge].join("|")+")"+$e+Qe+")*",Je="(?:"+[He+ze+"?",ze,We,Ge,Ue].join("|")+")",Ye=RegExp(Ve+"(?="+Ve+")|"+Je+Ke,"g");function Xe(e){return function(e){return Be.test(e)}(e)?function(e){return e.match(Ye)||[]}(e):function(e){return e.split("")}(e)}var Ze=/^\s+|\s+$/g;function et(e,t,n){var r;if((e=null==(r=e)?"":Fe(r))&&(n||void 0===t))return e.replace(Ze,"");if(!e||!(t=Fe(t)))return e;var i=Xe(e),a=Xe(t);return qe(i,function(e,t){for(var n=-1,r=e.length;++n<r&&Ie(t,e[n],0)>-1;);return n}(i,a),function(e,t){for(var n=e.length;n--&&Ie(t,e[n],0)>-1;);return n}(i,a)+1).join("")}var tt=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,nt=/,/,rt=/(=.+)?(\s*)$/,it=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function at(e,t){var n={};Pe(e,(function(e,t){var r,i=y(e),a=!i&&1===e.length||i&&0===e.length;if(H(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?o:e);else if(a)n[t]=e;else{if(r=function(e){return(e=(e=(e=e.toString().replace(it,"")).match(tt)[2].replace(" ",""))?e.split(nt):[]).map((function(e){return et(e.replace(rt,""))}))}(e),0===e.length&&!i&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");i||r.pop(),n[t]=r.concat(o)}function o(t,n){var i=Me(r,(function(e){return t[e]}));i.push(n),b(e).apply(null,i)}})),Ne(n,t)}function ot(){this.head=this.tail=null,this.length=0}function st(e,t){e.length=1,e.head=e.tail=t}function ct(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=b(e),i=0,a=[],o=!1;function s(e,t,n){if(null!=n&&"function"!==typeof n)throw new Error("task callback must be a function");if(l.started=!0,H(e)||(e=[e]),0===e.length&&l.idle())return f((function(){l.drain()}));for(var r=0,i=e.length;r<i;r++){var a={data:e[r],callback:n||M};t?l._tasks.unshift(a):l._tasks.push(a)}o||(o=!0,f((function(){o=!1,l.process()})))}function c(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var o=e[n],s=Ie(a,o,0);0===s?a.shift():s>0&&a.splice(s,1),o.callback.apply(o,arguments),null!=t&&l.error(t,o.data)}i<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var u=!1,l={_tasks:new ot,concurrency:t,payload:n,saturated:M,unsaturated:M,buffer:t/4,empty:M,drain:M,error:M,started:!1,paused:!1,push:function(e,t){s(e,!1,t)},kill:function(){l.drain=M,l._tasks.empty()},unshift:function(e,t){s(e,!0,t)},remove:function(e){l._tasks.remove(e)},process:function(){if(!u){for(u=!0;!l.paused&&i<l.concurrency&&l._tasks.length;){var e=[],t=[],n=l._tasks.length;l.payload&&(n=Math.min(n,l.payload));for(var o=0;o<n;o++){var s=l._tasks.shift();e.push(s),a.push(s),t.push(s.data)}i+=1,0===l._tasks.length&&l.empty(),i===l.concurrency&&l.saturated();var p=fe(c(e));r(t,p)}u=!1}},length:function(){return l._tasks.length},running:function(){return i},workersList:function(){return a},idle:function(){return l._tasks.length+i===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,f(l.process))}};return l}function ut(e,t){return ct(e,1,t)}ot.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},ot.prototype.empty=function(){for(;this.head;)this.shift();return this},ot.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},ot.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},ot.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):st(this,e)},ot.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):st(this,e)},ot.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ot.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},ot.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},ot.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var lt=ve(me,1);function pt(e,t,n,r){r=D(r||M);var i=b(n);lt(e,(function(e,n,r){i(t,e,(function(e,n){t=n,r(e)}))}),(function(e){r(e,t)}))}function dt(){var e=Me(arguments,b);return function(){var t=a(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=M,pt(e,t,(function(e,t,r){t.apply(n,e.concat((function(e){var t=a(arguments,1);r(e,t)})))}),(function(e,t){r.apply(n,[e].concat(t))}))}}var ft=function(){return dt.apply(null,a(arguments).reverse())},ht=Array.prototype.concat,mt=function(e,t,n,r){r=r||M;var i=b(n);je(e,t,(function(e,t){i(e,(function(e){return e?t(e):t(null,a(arguments,1))}))}),(function(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&(n=ht.apply(n,t[i]));return r(e,n)}))},vt=ve(mt,1/0),gt=ve(mt,1),yt=function(){var e=a(arguments),t=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,t)}};function bt(e){return e}function wt(e,t){return function(n,r,i,a){a=a||M;var o,s=!1;n(r,(function(n,r,a){i(n,(function(r,i){r?a(r):e(i)&&!o?(s=!0,o=t(!0,n),a(null,N)):a()}))}),(function(e){e?a(e):a(null,s?o:t(!1))}))}}function kt(e,t){return t}var St=we(wt(bt,kt)),Ct=xe(wt(bt,kt)),xt=ve(Ct,1);function jt(e){return function(t){var n=a(arguments,1);n.push((function(t){var n=a(arguments,1);"object"===typeof console&&(t?console.error&&console.error(t):console[e]&&Ee(n,(function(t){console[e](t)})))})),b(t).apply(null,n)}}var Ot=jt("dir");function _t(e,t,n){n=fe(n||M);var r=b(e),i=b(t);function o(e){if(e)return n(e);var t=a(arguments,1);t.push(s),i.apply(this,t)}function s(e,t){return e?n(e):t?void r(o):n(null)}s(null,!0)}function Et(e,t,n){n=fe(n||M);var r=b(e);r((function e(i){if(i)return n(i);var o=a(arguments,1);if(t.apply(this,o))return r(e);n.apply(null,[null].concat(o))}))}function Tt(e,t,n){Et(e,(function(){return!t.apply(this,arguments)}),n)}function Rt(e,t,n){n=fe(n||M);var r=b(t),i=b(e);function a(e){if(e)return n(e);i(o)}function o(e,t){return e?n(e):t?void r(a):n(null)}i(o)}function Pt(e){return function(t,n,r){return e(t,r)}}function At(e,t,n){be(e,Pt(b(t)),n)}function It(e,t,n,r){he(t)(e,Pt(b(n)),r)}var Nt=ve(It,1);function Mt(e){return y(e)?e:s((function(t,n){var r=!0;t.push((function(){var e=arguments;r?f((function(){n.apply(null,e)})):n.apply(null,e)})),e.apply(this,t),r=!1}))}function Dt(e){return!e}var Lt=we(wt(Dt,Dt)),Ft=xe(wt(Dt,Dt)),qt=ve(Ft,1);function Bt(e){return function(t){return null==t?void 0:t[e]}}function Ut(e,t,n,r){var i=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){i[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],a=0;a<t.length;a++)i[a]&&n.push(t[a]);r(null,n)}))}function zt(e,t,n,r){var i=[];e(t,(function(e,t,r){n(e,(function(n,a){n?r(n):(a&&i.push({index:t,value:e}),r())}))}),(function(e){e?r(e):r(null,Me(i.sort((function(e,t){return e.index-t.index})),Bt("value")))}))}function Vt(e,t,n,r){(I(t)?Ut:zt)(e,t,b(n),r||M)}var Ht=we(Vt),Wt=xe(Vt),Gt=ve(Wt,1);function Qt(e,t){var n=fe(t||M),r=b(Mt(e));!function e(t){if(t)return n(t);r(e)}()}var $t=function(e,t,n,r){r=r||M;var i=b(n);je(e,t,(function(e,t){i(e,(function(n,r){return n?t(n):t(null,{key:r,val:e})}))}),(function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,a=0;a<t.length;a++)if(t[a]){var o=t[a].key,s=t[a].val;i.call(n,o)?n[o].push(s):n[o]=[s]}return r(e,n)}))},Kt=ve($t,1/0),Jt=ve($t,1),Yt=jt("log");function Xt(e,t,n,r){r=D(r||M);var i={},a=b(n);me(e,t,(function(e,t,n){a(e,t,(function(e,r){if(e)return n(e);i[t]=r,n()}))}),(function(e){r(e,i)}))}var Zt=ve(Xt,1/0),en=ve(Xt,1);function tn(e,t){return t in e}function nn(e,t){var n=Object.create(null),r=Object.create(null);t=t||bt;var i=b(e),o=s((function(e,o){var s=t.apply(null,e);tn(n,s)?f((function(){o.apply(null,n[s])})):tn(r,s)?r[s].push(o):(r[s]=[o],i.apply(null,e.concat((function(){var e=a(arguments);n[s]=e;var t=r[s];delete r[s];for(var i=0,o=t.length;i<o;i++)t[i].apply(null,e)}))))}));return o.memo=n,o.unmemoized=e,o}var rn=d(l?n.nextTick:u?e:p);function an(e,t,n){n=n||M;var r=I(t)?[]:{};e(t,(function(e,t,n){b(e)((function(e,i){arguments.length>2&&(i=a(arguments,1)),r[t]=i,n(e)}))}),(function(e){n(e,r)}))}function on(e,t){an(be,e,t)}function sn(e,t,n){an(he(t),e,n)}var cn=function(e,t){var n=b(e);return ct((function(e,t){n(e[0],t)}),t,1)},un=function(e,t){var n=cn(e,t);return n.push=function(e,t,r){if(null==r&&(r=M),"function"!==typeof r)throw new Error("task callback must be a function");if(n.started=!0,H(e)||(e=[e]),0===e.length)return f((function(){n.drain()}));t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var a=0,o=e.length;a<o;a++){var s={data:e[a],priority:t,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}f(n.process)},delete n.unshift,n};function ln(e,t){if(t=D(t||M),!H(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)b(e[n])(t)}function pn(e,t,n,r){pt(a(e).reverse(),t,n,r)}function dn(e){var t=b(e);return s((function(e,n){return e.push((function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:a(arguments,1),n(null,{value:r}))})),t.apply(this,e)}))}function fn(e){var t;return H(e)?t=Me(e,dn):(t={},Pe(e,(function(e,n){t[n]=dn.call(this,e)}))),t}function hn(e,t,n,r){Vt(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),r)}var mn=we(hn),vn=xe(hn),gn=ve(vn,1);function yn(e){return function(){return e}}function bn(e,t,n){var r=5,i=0,a={times:r,intervalFunc:yn(i)};function o(e,t){if("object"===typeof t)e.times=+t.times||r,e.intervalFunc="function"===typeof t.interval?t.interval:yn(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!==typeof t&&"string"!==typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}if(arguments.length<3&&"function"===typeof e?(n=t||M,t=e):(o(a,e),n=n||M),"function"!==typeof t)throw new Error("Invalid arguments for async.retry");var s=b(t),c=1;function u(){s((function(e){e&&c++<a.times&&("function"!=typeof a.errorFilter||a.errorFilter(e))?setTimeout(u,a.intervalFunc(c)):n.apply(null,arguments)}))}u()}var wn=function(e,t){t||(t=e,e=null);var n=b(t);return s((function(t,r){function i(e){n.apply(null,t.concat(e))}e?bn(e,i,r):bn(i,r)}))};function kn(e,t){an(lt,e,t)}var Sn=we(wt(Boolean,bt)),Cn=xe(wt(Boolean,bt)),xn=ve(Cn,1);function jn(e,t,n){var r=b(t);function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Se(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,Me(t.sort(i),Bt("value")))}))}function On(e,t,n){var r=b(e);return s((function(i,a){var o,s=!1;i.push((function(){s||(a.apply(null,arguments),clearTimeout(o))})),o=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,a(r)}),t),r.apply(null,i)}))}var _n=Math.ceil,En=Math.max;function Tn(e,t,n,r){var i=b(n);je(function(e,t,n,r){for(var i=-1,a=En(_n((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}(0,e,1),t,i,r)}var Rn=ve(Tn,1/0),Pn=ve(Tn,1);function An(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=H(e)?[]:{}),r=D(r||M);var i=b(n);be(e,(function(e,n,r){i(t,e,n,r)}),(function(e){r(e,t)}))}function In(e,t){var n,r=null;t=t||M,Nt(e,(function(e,t){b(e)((function(e,i){n=arguments.length>2?a(arguments,1):i,r=e,t(!e)}))}),(function(){t(r,n)}))}function Nn(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Mn(e,t,n){n=fe(n||M);var r=b(t);if(!e())return n(null);r((function t(i){if(i)return n(i);if(e())return r(t);var o=a(arguments,1);n.apply(null,[null].concat(o))}))}function Dn(e,t,n){Mn((function(){return!e.apply(this,arguments)}),t,n)}var Ln=function(e,t){if(t=D(t||M),!H(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var r=b(e[n++]);t.push(fe(i)),r.apply(null,t)}function i(i){if(i||n===e.length)return t.apply(null,arguments);r(a(arguments,1))}r([])},Fn={apply:o,applyEach:Ce,applyEachSeries:_e,asyncify:h,auto:Ne,autoInject:at,cargo:ut,compose:ft,concat:vt,concatLimit:mt,concatSeries:gt,constant:yt,detect:St,detectLimit:Ct,detectSeries:xt,dir:Ot,doDuring:_t,doUntil:Tt,doWhilst:Et,during:Rt,each:At,eachLimit:It,eachOf:be,eachOfLimit:me,eachOfSeries:lt,eachSeries:Nt,ensureAsync:Mt,every:Lt,everyLimit:Ft,everySeries:qt,filter:Ht,filterLimit:Wt,filterSeries:Gt,forever:Qt,groupBy:Kt,groupByLimit:$t,groupBySeries:Jt,log:Yt,map:Se,mapLimit:je,mapSeries:Oe,mapValues:Zt,mapValuesLimit:Xt,mapValuesSeries:en,memoize:nn,nextTick:rn,parallel:on,parallelLimit:sn,priorityQueue:un,queue:cn,race:ln,reduce:pt,reduceRight:pn,reflect:dn,reflectAll:fn,reject:mn,rejectLimit:vn,rejectSeries:gn,retry:bn,retryable:wn,seq:dt,series:kn,setImmediate:f,some:Sn,someLimit:Cn,someSeries:xn,sortBy:jn,timeout:On,times:Rn,timesLimit:Tn,timesSeries:Pn,transform:An,tryEach:In,unmemoize:Nn,until:Dn,waterfall:Ln,whilst:Mn,all:Lt,allLimit:Ft,allSeries:qt,any:Sn,anyLimit:Cn,anySeries:xn,find:St,findLimit:Ct,findSeries:xt,forEach:At,forEachSeries:Nt,forEachLimit:It,forEachOf:be,forEachOfSeries:lt,forEachOfLimit:me,inject:pt,foldl:pt,foldr:pn,select:Ht,selectLimit:Wt,selectSeries:Gt,wrapSync:h};t.default=Fn,t.apply=o,t.applyEach=Ce,t.applyEachSeries=_e,t.asyncify=h,t.auto=Ne,t.autoInject=at,t.cargo=ut,t.compose=ft,t.concat=vt,t.concatLimit=mt,t.concatSeries=gt,t.constant=yt,t.detect=St,t.detectLimit=Ct,t.detectSeries=xt,t.dir=Ot,t.doDuring=_t,t.doUntil=Tt,t.doWhilst=Et,t.during=Rt,t.each=At,t.eachLimit=It,t.eachOf=be,t.eachOfLimit=me,t.eachOfSeries=lt,t.eachSeries=Nt,t.ensureAsync=Mt,t.every=Lt,t.everyLimit=Ft,t.everySeries=qt,t.filter=Ht,t.filterLimit=Wt,t.filterSeries=Gt,t.forever=Qt,t.groupBy=Kt,t.groupByLimit=$t,t.groupBySeries=Jt,t.log=Yt,t.map=Se,t.mapLimit=je,t.mapSeries=Oe,t.mapValues=Zt,t.mapValuesLimit=Xt,t.mapValuesSeries=en,t.memoize=nn,t.nextTick=rn,t.parallel=on,t.parallelLimit=sn,t.priorityQueue=un,t.queue=cn,t.race=ln,t.reduce=pt,t.reduceRight=pn,t.reflect=dn,t.reflectAll=fn,t.reject=mn,t.rejectLimit=vn,t.rejectSeries=gn,t.retry=bn,t.retryable=wn,t.seq=dt,t.series=kn,t.setImmediate=f,t.some=Sn,t.someLimit=Cn,t.someSeries=xn,t.sortBy=jn,t.timeout=On,t.times=Rn,t.timesLimit=Tn,t.timesSeries=Pn,t.transform=An,t.tryEach=In,t.unmemoize=Nn,t.until=Dn,t.waterfall=Ln,t.whilst=Mn,t.all=Lt,t.allLimit=Ft,t.allSeries=qt,t.any=Sn,t.anyLimit=Cn,t.anySeries=xn,t.find=St,t.findLimit=Ct,t.findSeries=xt,t.forEach=At,t.forEachSeries=Nt,t.forEachLimit=It,t.forEachOf=be,t.forEachOfSeries=lt,t.forEachOfLimit=me,t.inject=pt,t.foldl=pt,t.foldr=pn,t.select=Ht,t.selectLimit=Wt,t.selectSeries=Gt,t.wrapSync=h,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n(71).setImmediate,n(23),n(21),n(72)(e))},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var u=a[c];if(!s(u))return!1;var l=e[u],p=t[u];if(!1===(i=n?n.call(r,l,p,u):void 0)||void 0===i&&l!==p)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,c,u,d){for(var f,h,m,v,w,S=0,C=0,x=0,j=0,O=0,A=0,N=m=f=0,D=0,L=0,F=0,q=0,B=c.length,U=B-1,z="",V="",H="",W="";D<B;){if(h=c.charCodeAt(D),D===U&&0!==C+j+x+S&&(0!==C&&(h=47===C?10:47),j=x=S=0,B++,U++),0===C+j+x+S){if(D===U&&(0<L&&(z=z.replace(p,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=c.charAt(D)}h=59}switch(h){case 123:for(f=(z=z.trim()).charCodeAt(0),m=1,q=++D;D<B;){switch(h=c.charCodeAt(D)){case 123:m++;break;case 125:m--;break;case 47:switch(h=c.charCodeAt(D+1)){case 42:case 47:e:{for(N=D+1;N<U;++N)switch(c.charCodeAt(N)){case 47:if(42===h&&42===c.charCodeAt(N-1)&&D+2!==N){D=N+1;break e}break;case 10:if(47===h){D=N+1;break e}}D=N}}break;case 91:h++;case 40:h++;case 34:case 39:for(;D++<U&&c.charCodeAt(D)!==h;);}if(0===m)break;D++}switch(m=c.substring(q,D),0===f&&(f=(z=z.replace(l,"").trim()).charCodeAt(0)),f){case 64:switch(0<L&&(z=z.replace(p,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=P}if(q=(m=t(r,L,m,h,d+1)).length,0<I&&(w=s(3,m,L=n(P,z,F),r,E,_,q,h,d,u),z=L.join(""),void 0!==w&&0===(q=(m=w.trim()).length)&&(h=0,m="")),0<q)switch(h){case 115:z=z.replace(k,o);case 100:case 109:case 45:m=z+"{"+m+"}";break;case 107:m=(z=z.replace(g,"$1 $2"))+"{"+m+"}",m=1===R||2===R&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=z+m,112===u&&(V+=m,m="")}else m="";break;default:m=t(r,n(r,z,F),m,u,d+1)}H+=m,m=F=L=N=f=0,z="",h=c.charCodeAt(++D);break;case 125:case 59:if(1<(q=(z=(0<L?z.replace(p,""):z).trim()).length))switch(0===N&&(f=z.charCodeAt(0),45===f||96<f&&123>f)&&(q=(z=z.replace(" ",":")).length),0<I&&void 0!==(w=s(1,z,r,e,E,_,V.length,u,d,u))&&0===(q=(z=w.trim()).length)&&(z="\0\0"),f=z.charCodeAt(0),h=z.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){W+=z+c.charAt(D);break}default:58!==z.charCodeAt(q-1)&&(V+=i(z,f,h,z.charCodeAt(2)))}F=L=N=f=0,z="",h=c.charCodeAt(++D)}}switch(h){case 13:case 10:47===C?C=0:0===1+f&&107!==u&&0<z.length&&(L=1,z+="\0"),0<I*M&&s(0,z,r,e,E,_,V.length,u,d,u),_=1,E++;break;case 59:case 125:if(0===C+j+x+S){_++;break}default:switch(_++,v=c.charAt(D),h){case 9:case 32:if(0===j+S+C)switch(O){case 44:case 58:case 9:case 32:v="";break;default:32!==h&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===j+C+S&&(L=F=1,v="\f"+v);break;case 108:if(0===j+C+S+T&&0<N)switch(D-N){case 2:112===O&&58===c.charCodeAt(D-3)&&(T=O);case 8:111===A&&(T=A)}break;case 58:0===j+C+S&&(N=D);break;case 44:0===C+x+j+S&&(L=1,v+="\r");break;case 34:case 39:0===C&&(j=j===h?0:0===j?h:j);break;case 91:0===j+C+x&&S++;break;case 93:0===j+C+x&&S--;break;case 41:0===j+C+S&&x--;break;case 40:if(0===j+C+S){if(0===f)switch(2*O+3*A){case 533:break;default:f=1}x++}break;case 64:0===C+x+j+S+N+m&&(m=1);break;case 42:case 47:if(!(0<j+S+x))switch(C){case 0:switch(2*h+3*c.charCodeAt(D+1)){case 235:C=47;break;case 220:q=D,C=42}break;case 42:47===h&&42===O&&q+2!==D&&(33===c.charCodeAt(q+2)&&(V+=c.substring(q,D+1)),v="",C=0)}}0===C&&(z+=v)}A=O,O=h,D++}if(0<(q=V.length)){if(L=r,0<I&&(void 0!==(w=s(2,V,L,e,E,_,q,u,d,u))&&0===(V=w).length))return W+V+H;if(V=L.join(",")+"{"+V+"}",0!==R*T){switch(2!==R||a(V,2)||(T=0),T){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}T=0}}return W+V+H}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var c=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[c++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var c=o.substring(e,o.length-1).trim();return c=o.substring(0,e).trim()+c+";",1===R||2===R&&a(c,1)?"-webkit-"+c+c:c}if(0===R||2===R&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(O,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(c=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+c+o;case 1005:return f.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(c=o.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=o.replace(w,"tb");break;case 232:c=o.replace(w,"tb-rl");break;case 220:c=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+c+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(c=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:o=o.replace(c,"-webkit-"+c)+";"+o;break;case 207:case 102:o=o.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(c,"-webkit-"+c)+";"+o.replace(c,"-ms-"+c+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return c=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+c+"-ms-flex-"+c+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(C,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(C,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===j.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(c,"-webkit-"+c)+o.replace(c,"-moz-"+c.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),N(2!==t?r:r.replace(x,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(S," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,c,l){for(var p,d=0,f=t;d<I;++d)switch(p=A[d].call(u,e,f,n,r,i,a,o,s,c,l)){case void 0:case!1:case!0:case null:break;default:f=p}if(f!==t)return f}function c(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!==typeof e?R=1:(R=2,N=e):R=0),c}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=s(-1,n,r,r,E,_,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<I&&(void 0!==(i=s(-2,a,r,r,E,_,a.length,0,0,0))&&(a=i)),"",T=0,_=E=1,a}var l=/^\0+/g,p=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,h=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,C=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,j=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,_=1,E=1,T=0,R=1,P=[],A=[],I=0,N=null,M=0;return u.use=function e(t){switch(t){case void 0:case null:I=A.length=0;break;default:if("function"===typeof t)A[I++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else M=0|!!t}return e},u.set=c,void 0!==e&&c(e),u}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(16),i=n(32);var a=n(48);function o(e,t,n){return(o=Object(a.a)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Object(i.a)(a,n.prototype),a}).apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,Object(r.a)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(a,e)})(e)}},,function(e,t,n){"use strict";n(41);var r=n(3),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},function(e,t,n){"use strict";var r=n(41),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var p=Symbol.for;i=p("react.element"),a=p("react.portal"),t.Fragment=p("react.fragment"),t.StrictMode=p("react.strict_mode"),t.Profiler=p("react.profiler"),o=p("react.provider"),s=p("react.context"),c=p("react.forward_ref"),t.Suspense=p("react.suspense"),u=p("react.memo"),l=p("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},k=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!S.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===a[r]&&(a[r]=c[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var j=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case a:c=!0}}if(c)return o=o(c=e),e=""===r?"."+O(c,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),_(o,t,n,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=r+O(s=e[u],u);c+=_(s,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),u=0;!(s=e.next()).done;)c+=_(s=s.value,t,n,l=r+O(s,u++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function E(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function P(){var e=R.current;if(null===e)throw Error(f(321));return e}var A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var a=r({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)k.call(t,l)&&!S.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){u=Array(l);for(var p=0;p<l;p++)u[p]=arguments[p+2];a.children=u}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.1"},function(e,t,n){e.exports=n(91)()},function(e,t,n){"use strict";var r=n(92);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case d:case o:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case v:case u:return e;default:return t}}case a:return t}}}function C(e){return S(e)===d}t.AsyncMode=p,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=a,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return C(e)||S(e)===p},t.isConcurrentMode=C,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===f},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===a},t.isProfiler=function(e){return S(e)===c},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===c||e===s||e===h||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===k||e.$$typeof===y)},t.typeOf=S},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(3),i=n(41),a=n(96);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var p=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(h,e)&&(d.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,C=60106,x=60107,j=60108,O=60114,_=60109,E=60110,T=60112,R=60113,P=60120,A=60115,I=60116,N=60121,M=60128,D=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var q=Symbol.for;S=q("react.element"),C=q("react.portal"),x=q("react.fragment"),j=q("react.strict_mode"),O=q("react.profiler"),_=q("react.provider"),E=q("react.context"),T=q("react.forward_ref"),R=q("react.suspense"),P=q("react.suspense_list"),A=q("react.memo"),I=q("react.lazy"),N=q("react.block"),q("react.scope"),M=q("react.opaque.id"),D=q("react.debug_trace_mode"),L=q("react.offscreen"),F=q("react.legacy_hidden")}var B,U="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function G(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case C:return"Portal";case O:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return Q(e.type);case N:return Q(e._render);case I:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ue(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ce=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Oe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,Te=null;function Re(e){if(e=ei(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),_e(e.stateNode,e.type,t))}}function Pe(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ae(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ie(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var De=Ie,Le=!1,Fe=!1;function qe(){null===Ee&&null===Te||(Me(),Ae())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(p)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){Ue=!1}function Ve(e,t,n,r,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var He=!1,We=null,Ge=!1,Qe=null,$e={onError:function(e){He=!0,We=e}};function Ke(e,t,n,r,i,a,o,s,c){He=!1,We=null,Ve.apply($e,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ct=null,ut=null,lt=new Map,pt=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ht(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(bt),pt.forEach(bt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function St(e){function t(t){return kt(t,e)}if(0<ot.length){kt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&kt(st,e),null!==ct&&kt(ct,e),null!==ut&&kt(ut,e),lt.forEach(t),pt.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},jt={},Ot={};function _t(e){if(jt[e])return jt[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ot)return jt[e]=n[t];return e}p&&(Ot=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var Et=_t("animationend"),Tt=_t("animationiteration"),Rt=_t("animationstart"),Pt=_t("transitionend"),At=new Map,It=new Map,Nt=["abort","abort",Et,"animationEnd",Tt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),It.set(r,t),At.set(r,i),u(i,[r])}}(0,a.unstable_now)();var Dt=8;function Lt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Dt=15;else if(0!==(a=134217727&n)){var c=a&~o;0!==c?(r=Lt(c),i=Dt):0!==(s&=a)&&(r=Lt(s),i=Dt)}else 0!==(a=n&~o)?(r=Lt(a),i=Dt):0!==s&&(r=Lt(s),i=Dt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function qt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Qt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Kt=!0;function Jt(e,t,n,r){Le||Me();var i=Xt,a=Le;Le=!0;try{Ne(i,e,t,n,r)}finally{(Le=a)||qe()}}function Yt(e,t,n,r){$t(Qt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=ht(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ct=vt(ct,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,pt.set(a,vt(pt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;mt(e,r)}Ar(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Oe(r);if(null!==(i=Zr(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ar(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function cn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,pn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=cn(dn),hn=i({},dn,{view:0,detail:0}),mn=cn(hn),vn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&"mousemove"===e.type?(un=e.screenX-pn.screenX,ln=e.screenY-pn.screenY):ln=un=0,pn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=cn(vn),yn=cn(i({},vn,{dataTransfer:0})),bn=cn(i({},hn,{relatedTarget:0})),wn=cn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=cn(i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Sn=cn(i({},dn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function _n(){return On}var En=cn(i({},hn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Tn=cn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=cn(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=cn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=cn(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),In=[9,13,27,32],Nn=p&&"CompositionEvent"in window,Mn=null;p&&"documentMode"in document&&(Mn=document.documentMode);var Dn=p&&"TextEvent"in window&&!Mn,Ln=p&&(!Nn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Pe(r),0<(t=Nr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function $n(e){Or(e,0)}function Kn(e){if(Y(ti(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(p){var Xn;if(p){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];if(Wn(t,Qn,e,Oe(e)),e=$n,Le)e(t);else{Le=!0;try{Ie(e,t)}finally{Le=!1,qe()}}}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cr=Object.prototype.hasOwnProperty;function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=p&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Nr(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Nt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<kr.length;Sr++)It.set(kr[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,u){if(Ke.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ge||(Ge=!0,Qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=c}else for(o=0;o<r.length;o++){if(c=(s=r[o]).instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=c}}}if(Ge)throw e=Qe,Ge=!1,Qe=null,e}function _r(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Er="_reactListening"+Math.random().toString(36).slice(2);function Tr(e){e[Er]||(e[Er]=!0,s.forEach((function(t){xr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Pr(a,e,i,t),o.add(s))}function Pr(e,t,n,r){var i=It.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ar(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Zr(s)))return;if(5===(c=o.tag)||6===c){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{De(e,t,n)}finally{Fe=!1,qe()}}((function(){var r=a,i=Oe(n),o=[];e:{var s=At.get(e);if(void 0!==s){var c=fn,u=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":c=En;break;case"focusin":u="focus",c=bn;break;case"focusout":u="blur",c=bn;break;case"beforeblur":case"afterblur":c=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Rn;break;case Et:case Tt:case Rt:c=wn;break;case Pt:c=Pn;break;case"scroll":c=mn;break;case"wheel":c=An;break;case"copy":case"cut":case"paste":c=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Tn}var l=0!==(4&t),p=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Be(h,d))&&l.push(Ir(h,m,f)))),p)break;h=h.return}0<l.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!Zr(u)&&!u[Yr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Zr(u):null)&&(u!==(p=Je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=gn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,m="onPointerLeave",d="onPointerEnter",h="pointer"),p=null==c?s:ti(c),f=null==u?s:ti(u),(s=new l(m,h+"leave",c,n,i)).target=p,s.relatedTarget=f,m=null,Zr(i)===r&&((l=new l(d,h+"enter",u,n,i)).target=f,l.relatedTarget=p,m=l),p=m,c&&u)e:{for(d=u,h=0,f=l=c;f;f=Mr(f))h++;for(f=0,m=d;m;m=Mr(m))f++;for(;0<h-f;)l=Mr(l),h--;for(;0<f-h;)d=Mr(d),f--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Mr(l),d=Mr(d)}l=null}else l=null;null!==c&&Dr(o,s,c,l,!1),null!==u&&null!==p&&Dr(o,p,u,l,!0)}if("select"===(c=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Jn;else if(Hn(s))if(Yn)v=or;else{v=ir;var g=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ti(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(g=Nr(r,b)).length&&(b=new Sn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(qn=!0,Fn);case"textInput":return(e=t.data)===Fn&&qn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Nn&&Bn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Or(o,t)}))}function Ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,n))&&r.unshift(Ir(e,a,i)),null!=(a=Be(e,t))&&r.push(Ir(e,a,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Be(n,a))&&o.unshift(Ir(n,c,s)):i||null!=(c=Be(n,a))&&o.push(Ir(n,c,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Lr(){}var Fr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var $r=Math.random().toString(36).slice(2),Kr="__reactFiber$"+$r,Jr="__reactProps$"+$r,Yr="__reactContainer$"+$r,Xr="__reactEvents$"+$r;function Zr(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Kr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Kr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[Jr]||null}function ri(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function ci(e,t){ai++,ii[ai]=e.current,e.current=t}var ui={},li=oi(ui),pi=oi(!1),di=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function hi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){si(pi),si(li)}function vi(e,t,n){if(li.current!==ui)throw Error(o(168));ci(li,t),ci(pi,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Q(t)||"Unknown",a));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,di=li.current,ci(li,e),ci(pi,pi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,si(pi),si(li),ci(li,e)):si(pi),ci(pi,n)}var wi=null,ki=null,Si=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,xi=a.unstable_cancelCallback,ji=a.unstable_shouldYield,Oi=a.unstable_requestPaint,_i=a.unstable_now,Ei=a.unstable_getCurrentPriorityLevel,Ti=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Ai=a.unstable_LowPriority,Ii=a.unstable_IdlePriority,Ni={},Mi=void 0!==Oi?Oi:function(){},Di=null,Li=null,Fi=!1,qi=_i(),Bi=1e4>qi?_i:function(){return _i()-qi};function Ui(){switch(Ei()){case Ti:return 99;case Ri:return 98;case Pi:return 97;case Ai:return 96;case Ii:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Ti;case 98:return Ri;case 97:return Pi;case 96:return Ai;case 95:return Ii;default:throw Error(o(332))}}function Vi(e,t){return e=zi(e),Si(e,t)}function Hi(e,t,n){return e=zi(e),Ci(e,t,n)}function Wi(){if(null!==Li){var e=Li;Li=null,xi(e)}Gi()}function Gi(){if(!Fi&&null!==Di){Fi=!0;var e=0;try{var t=Di;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(n){throw null!==Di&&(Di=Di.slice(e+1)),Ci(Ti,Wi),n}finally{Fi=!1}}}var Qi=k.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=oi(null),Ji=null,Yi=null,Xi=null;function Zi(){Xi=Yi=Ji=null}function ea(e){var t=Ki.current;si(Ki),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){Ji=e,Xi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(No=!0),e.firstContext=null)}function ra(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Ji)throw Error(o(308));Yi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ca(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,c=a.shared.pending;if(null!==c){a.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?o=l:s.next=l,s=u;var p=e.alternate;if(null!==p){var d=(p=p.updateQueue).lastBaseUpdate;d!==s&&(null===d?p.firstBaseUpdate=l:d.next=l,p.lastBaseUpdate=u)}}if(null!==o){for(d=a.baseState,s=0,p=l=u=null;;){c=o.lane;var f=o.eventTime;if((r&c)===c){null!==p&&(p=p.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(c=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,c);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(c="function"===typeof(h=m.payload)?h.call(f,d,c):h)||void 0===c)break e;d=i({},d,c);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(c=a.effects)?a.effects=[o]:c.push(o))}else f={eventTime:f,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===p?(l=p=f,u=d):p=p.next=f,s|=c;if(null===(o=o.next)){if(null===(c=a.shared.pending))break;o=c.next,c.next=null,a.lastBaseUpdate=c,a.shared.pending=null}}null===p&&(u=d),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=p,Fs|=s,e.lanes=s,e.memoizedState=d}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var da=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),i=lc(e),a=sa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ca(e,a),pc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),i=lc(e),a=sa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ca(e,a),pc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=lc(e),i=sa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ca(e,i),pc(e,r,n)}};function ma(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function va(e,t,n){var r=!1,i=ui,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=hi(t)?di:li.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?fi(e,i):ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=da,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=hi(t)?di:li.current,i.context=fi(e,a)),la(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===da&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ka(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wa(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=wa(e,null,t),n.return=e,n;case C:return(t=$c(t,e.mode,n)).return=e,t}if(ba(t)||z(t))return(t=Wc(t,e.mode,n,null)).return=e,t;ka(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===x?p(e,t,n.props.children,r,i):u(e,t,n,r):null;case C:return n.key===i?l(e,t,n,r):null}if(ba(n)||z(n))return null!==i?null:p(e,t,n,r,null);ka(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===x?p(t,e,r.props.children,i,r.key):u(t,e,r,i);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||z(r))return p(t,e=e.get(n)||null,r,i,null);ka(t,r)}return null}function m(i,o,s,c){for(var u=null,l=null,p=o,m=o=0,v=null;null!==p&&m<s.length;m++){p.index>m?(v=p,p=null):v=p.sibling;var g=f(i,p,s[m],c);if(null===g){null===p&&(p=v);break}e&&p&&null===g.alternate&&t(i,p),o=a(g,o,m),null===l?u=g:l.sibling=g,l=g,p=v}if(m===s.length)return n(i,p),u;if(null===p){for(;m<s.length;m++)null!==(p=d(i,s[m],c))&&(o=a(p,o,m),null===l?u=p:l.sibling=p,l=p);return u}for(p=r(i,p);m<s.length;m++)null!==(v=h(p,i,m,s[m],c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=a(v,o,m),null===l?u=v:l.sibling=v,l=v);return e&&p.forEach((function(e){return t(i,e)})),u}function v(i,s,c,u){var l=z(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var p=l=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===p?l=b:p.sibling=b,p=b,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=d(i,y.value,u))&&(s=a(y,s,v),null===p?l=y:p.sibling=y,p=y);return l}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=h(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===p?l=y:p.sibling=y,p=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,a,c){var u="object"===typeof a&&null!==a&&a.type===x&&null===a.key;u&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case S:e:{for(l=a.key,u=r;null!==u;){if(u.key===l){switch(u.tag){case 7:if(a.type===x){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=wa(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===x?((r=Wc(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=Hc(a.type,a.key,a.props,null,e.mode,c)).ref=wa(e,r,a),c.return=e,e=c)}return s(e);case C:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$c(a,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Qc(a,e.mode,c)).return=e,e=r),s(e);if(ba(a))return m(e,r,a,c);if(z(a))return v(e,r,a,c);if(l&&ka(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Q(e.type)||"Component"))}return n(e,r)}}var Ca=Sa(!0),xa=Sa(!1),ja={},Oa=oi(ja),_a=oi(ja),Ea=oi(ja);function Ta(e){if(e===ja)throw Error(o(174));return e}function Ra(e,t){switch(ci(Ea,t),ci(_a,e),ci(Oa,ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Oa),ci(Oa,t)}function Pa(){si(Oa),si(_a),si(Ea)}function Aa(e){Ta(Ea.current);var t=Ta(Oa.current),n=he(t,e.type);t!==n&&(ci(_a,e),ci(Oa,n))}function Ia(e){_a.current===e&&(si(Oa),si(_a))}var Na=oi(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=null,La=null,Fa=!1;function qa(e,t){var n=Uc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ua(e){if(Fa){var t=La;if(t){var n=t;if(!Ba(e,t)){if(!(t=Wr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(Da=e);qa(Da,n)}Da=e,La=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,Da=e}}function za(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Da=e}function Va(e){if(e!==Da)return!1;if(!Fa)return za(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=La;t;)qa(e,t),t=Wr(t.nextSibling);if(za(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){La=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}La=null}}else La=Da?Wr(e.stateNode.nextSibling):null;return!0}function Ha(){La=Da=null,Fa=!1}var Wa=[];function Ga(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var Qa=k.ReactCurrentDispatcher,$a=k.ReactCurrentBatchConfig,Ka=0,Ja=null,Ya=null,Xa=null,Za=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(Ka=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?Ro:Po,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Xa=Ya=null,t.updateQueue=null,Qa.current=Ao,e=n(r,i)}while(eo)}if(Qa.current=To,t=null!==Ya&&null!==Ya.next,Ka=0,Xa=Ya=Ja=null,Za=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xa?Ja.memoizedState=Xa=e:Xa=Xa.next=e,Xa}function ao(){if(null===Ya){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Ya.next;var t=null===Xa?Ja.memoizedState:Xa.next;if(null!==t)Xa=t,Ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ya=e).memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},null===Xa?Ja.memoizedState=Xa=e:Xa=Xa.next=e}return Xa}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=a=null,u=i;do{var l=u.lane;if((Ka&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var p={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=p,a=r):c=c.next=p,Ja.lanes|=l,Fs|=l}u=u.next}while(null!==u&&u!==i);null===c?a=r:c.next=s,sr(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function co(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function uo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ka&e)===e)&&(t._workInProgressVersionPrimary=r,Wa.push(t))),e)return n(t._source);throw Wa.push(t),Error(o(350))}function lo(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),c=Qa.current,u=c.useState((function(){return uo(i,t,n)})),l=u[1],p=u[0];u=Xa;var d=e.memoizedState,f=d.refs,h=f.getSnapshot,m=d.source;d=d.subscribe;var v=Ja;return e.memoizedState={refs:f,source:t,subscribe:r},c.useEffect((function(){f.getSnapshot=n,f.setSnapshot=l;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(p,e)||(l(e),e=lc(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var c=31-Ht(o),u=1<<c;r[c]|=e,o&=~u}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=lc(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),sr(h,n)&&sr(m,t)&&sr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:p}).dispatch=l=Eo.bind(null,Ja,e),u.queue=e,u.baseQueue=null,p=uo(i,t,n),u.memoizedState=u.baseState=p),p}function po(e,t,n){return lo(ao(),e,t,n)}function fo(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Eo.bind(null,Ja,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(e){return e={current:e},io().memoizedState=e}function vo(){return ao().memoizedState}function go(e,t,n,r){var i=io();Ja.flags|=e,i.memoizedState=ho(1|t,n,void 0,void 0===r?null:r)}function yo(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==Ya){var o=Ya.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void ho(t,n,a,r)}Ja.flags|=e,i.memoizedState=ho(1|t,n,a,r)}function bo(e,t){return go(516,4,e,t)}function wo(e,t){return yo(516,4,e,t)}function ko(e,t){return yo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,2,So.bind(null,t,e),n)}function xo(){}function jo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _o(e,t){var n=Ui();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Eo(e,t,n){var r=uc(),i=lc(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)eo=Za=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=o(s,n);if(a.eagerReducer=o,a.eagerState=c,sr(c,s))return}catch(u){}pc(e,i,r)}}var To={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Ro={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Eo.bind(null,Ja,e),[r.memoizedState,e]},useRef:mo,useState:fo,useDebugValue:xo,useDeferredValue:function(e){var t=fo(e),n=t[0],r=t[1];return bo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(!1),t=e[0];return mo(e=_o.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=fo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,ho(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return fo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:ra,useCallback:jo,useContext:ra,useEffect:wo,useImperativeHandle:Co,useLayoutEffect:ko,useMemo:Oo,useReducer:so,useRef:vo,useState:function(){return so(oo)},useDebugValue:xo,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return wo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Ao={readContext:ra,useCallback:jo,useContext:ra,useEffect:wo,useImperativeHandle:Co,useLayoutEffect:ko,useMemo:Oo,useReducer:co,useRef:vo,useState:function(){return co(oo)},useDebugValue:xo,useDeferredValue:function(e){var t=co(oo),n=t[0],r=t[1];return wo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=co(oo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(oo)[0]},unstable_isNewReconciler:!1},Io=k.ReactCurrentOwner,No=!1;function Mo(e,t,n,r){t.child=null===e?xa(t,null,n,r):Ca(t,e.child,n,r)}function Do(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||No?(t.flags|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Lo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||zc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=Vc(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(No=!1,0===(a&i))return t.lanes=e.lanes,ns(e,t,a);0!==(16384&e.flags)&&(No=!0)}return Uo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bc(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bc(t,e),null;t.memoizedState={baseLanes:0},bc(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bc(t,r);return Mo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Uo(e,t,n,r,i){var a=hi(n)?di:li.current;return a=fi(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||No?(t.flags|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function zo(e,t,n,r,i){if(hi(n)){var a=!0;yi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ra(u):u=fi(t,u=hi(n)?di:li.current);var l=n.getDerivedStateFromProps,p="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;p||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==u)&&ga(t,o,r,u),ia=!1;var d=t.memoizedState;o.state=d,la(t,r,o,i),c=t.memoizedState,s!==r||d!==c||pi.current||ia?("function"===typeof l&&(fa(t,n,l,r),c=t.memoizedState),(s=ia||ma(t,n,s,r,d,c,u))?(p||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:$i(t.type,s),o.props=u,p=t.pendingProps,d=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ra(c):c=fi(t,c=hi(n)?di:li.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==p||d!==c)&&ga(t,o,r,c),ia=!1,d=t.memoizedState,o.state=d,la(t,r,o,i);var h=t.memoizedState;s!==p||d!==h||pi.current||ia?("function"===typeof f&&(fa(t,n,f,r),h=t.memoizedState),(u=ia||ma(t,n,u,r,d,h,c))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),ns(e,t,a);r=t.stateNode,Io.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ra(e,t.containerInfo)}var Wo,Go,Qo,$o={dehydrated:null,retryLane:0};function Ko(e,t,n){var r,i=t.pendingProps,a=Na.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ci(Na,1&a),null===e?(void 0!==i.fallback&&Ua(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Gc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Xo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=Yo(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Gc(t,i,0,null),n=Wc(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Yo(e,t,n,r){var i=e.child;return e=i.sibling,n=Vc(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Xo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vc(o,s),null!==e?r=Vc(e,r):(r=Wc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function es(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=Na.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Na,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ma(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hi(t.type)&&mi(),null;case 3:return Pa(),si(pi),si(li),Ga(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ia(t);var a=Ta(Ea.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ta(Oa.current),Va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Jr]=s,n){case"dialog":_r("cancel",r),_r("close",r);break;case"iframe":case"object":case"embed":_r("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)_r(Cr[e],r);break;case"source":_r("error",r);break;case"img":case"image":case"link":_r("error",r),_r("load",r);break;case"details":_r("toggle",r);break;case"input":ee(r,s),_r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_r("invalid",r);break;case"textarea":ce(r,s),_r("invalid",r)}for(var u in xe(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):c.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&_r("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===pe&&(e=fe(n)),e===pe?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Kr]=t,e[Jr]=r,Wo(e,t),t.stateNode=e,u=je(n,r),n){case"dialog":_r("cancel",e),_r("close",e),a=r;break;case"iframe":case"object":case"embed":_r("load",e),a=r;break;case"video":case"audio":for(a=0;a<Cr.length;a++)_r(Cr[a],e);a=r;break;case"source":_r("error",e),a=r;break;case"img":case"image":case"link":_r("error",e),_r("load",e),a=r;break;case"details":_r("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),_r("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),_r("invalid",e);break;case"textarea":ce(e,r),a=se(e,r),_r("invalid",e);break;default:a=r}xe(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var p=l[s];"style"===s?Se(e,p):"dangerouslySetInnerHTML"===s?null!=(p=p?p.__html:void 0)&&ge(e,p):"children"===s?"string"===typeof p?("textarea"!==n||""!==p)&&ye(e,p):"number"===typeof p&&ye(e,""+p):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=p&&"onScroll"===s&&_r("scroll",e):null!=p&&w(e,s,p,u))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Lr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ta(Ea.current),Ta(Oa.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return si(Na),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Na.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Rs||0===(134217727&Fs)&&0===(134217727&qs)||mc(Rs,As))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),null===e&&Tr(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return hi(t.type)&&mi(),null;case 19:if(si(Na),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ms||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Ma(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Na,1&Na.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Vs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ma(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Na.current,ci(Na,s?1&t|2:1&t),n):null;case 23:case 24:return wc(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:hi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),si(pi),si(li),Ga(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ia(e),null;case 13:return si(Na),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Na),null;case 4:return Pa(),null;case 10:return ea(e),null;case 23:case 24:return wc(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ta(Oa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Lr)}for(p in xe(n,r),n=null,a)if(!r.hasOwnProperty(p)&&a.hasOwnProperty(p)&&null!=a[p])if("style"===p){var u=a[p];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==p&&"children"!==p&&"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&"autoFocus"!==p&&(c.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var l=r[p];if(u=null!=a?a[p]:void 0,r.hasOwnProperty(p)&&l!==u&&(null!=l||null!=u))if("style"===p)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(p,n)),n=l;else"dangerouslySetInnerHTML"===p?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(p,l)):"children"===p?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(p,""+l):"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&(c.hasOwnProperty(p)?(null!=l&&"onScroll"===p&&_r("scroll",e),s||u===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(p,l))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=sa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,$s=r),ss(0,t)},n}function ls(e,t,n){(n=sa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lc(e,n)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Nc(n,e),Ic(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(wi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Nc(t,n);else{r=t;try{i()}catch(a){Lc(r,a)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Lc(t,a)}break;case 5:ds(t);break;case 4:Ss(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ws(e,n,t):ks(e,n,t)}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lr));else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,u=c;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),je(e,i),t=je(e,r),i=0;i<a.length;i+=2){var s=a[i],c=a[i+1];"style"===s?Se(n,c):"dangerouslySetInnerHTML"===s?ge(n,c):"children"===s?ye(n,c):w(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(zs=Bi(),ms(t.child,!0)),void xs(t);case 19:return void xs(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function js(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Os=Math.ceil,_s=k.ReactCurrentDispatcher,Es=k.ReactCurrentOwner,Ts=0,Rs=null,Ps=null,As=0,Is=0,Ns=oi(0),Ms=0,Ds=null,Ls=0,Fs=0,qs=0,Bs=0,Us=null,zs=0,Vs=1/0;function Hs(){Vs=Bi()+500}var Ws,Gs=null,Qs=!1,$s=null,Ks=null,Js=!1,Ys=null,Xs=90,Zs=[],ec=[],tc=null,nc=0,rc=null,ic=-1,ac=0,oc=0,sc=null,cc=!1;function uc(){return 0!==(48&Ts)?Bi():-1!==ic?ic:ic=Bi()}function lc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ui()?1:2;if(0===ac&&(ac=Ls),0!==Qi.transition){0!==oc&&(oc=null!==Us?Us.pendingLanes:0),e=ac;var t=4186112&~oc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ui(),0!==(4&Ts)&&98===e?e=Bt(12,ac):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ac),e}function pc(e,t,n){if(50<nc)throw nc=0,rc=null,Error(o(185));if(null===(e=dc(e,t)))return null;Vt(e,t,n),e===Rs&&(qs|=t,4===Ms&&mc(e,As));var r=Ui();1===t?0!==(8&Ts)&&0===(48&Ts)?vc(e):(fc(e,n),0===Ts&&(Hs(),Wi())):(0===(4&Ts)||98!==r&&99!==r||(null===tc?tc=new Set([e]):tc.add(e)),fc(e,n)),Us=e}function dc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Ht(s),u=1<<c,l=a[c];if(-1===l){if(0===(u&r)||0!==(u&i)){l=t,Lt(u);var p=Dt;a[c]=10<=p?l+250:6<=p?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=Ft(e,e===Rs?As:0),t=Dt,0===r)null!==n&&(n!==Ni&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&xi(n)}15===t?(n=vc.bind(null,e),null===Di?(Di=[n],Li=Ci(Ti,Gi)):Di.push(n),n=Ni):14===t?n=Hi(99,vc.bind(null,e)):n=Hi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),hc.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hc(e){if(ic=-1,oc=ac=0,0!==(48&Ts))throw Error(o(327));var t=e.callbackNode;if(Ac()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?As:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var a=Cc();for(Rs===e&&As===r||(Hs(),kc(e,r));;)try{Oc();break}catch(c){Sc(e,c)}if(Zi(),_s.current=a,Ts=i,null!==Ps?r=0:(Rs=null,As=0,r=Ms),0!==(Ls&qs))kc(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=qt(e))&&(r=xc(e,n))),1===r)throw t=Ds,kc(e,0),mc(e,n),fc(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Tc(e);break;case 3:if(mc(e,n),(62914560&n)===n&&10<(r=zs+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Tc.bind(null,e),r);break}Tc(e);break;case 4:if(mc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Os(n/1960))-n)){e.timeoutHandle=zr(Tc.bind(null,e),n);break}Tc(e);break;case 5:Tc(e);break;default:throw Error(o(329))}}return fc(e,Bi()),e.callbackNode===t?hc.bind(null,e):null}function mc(e,t){for(t&=~Bs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(48&Ts))throw Error(o(327));if(Ac(),e===Rs&&0!==(e.expiredLanes&As)){var t=As,n=xc(e,t);0!==(Ls&qs)&&(n=xc(e,t=Ft(e,t)))}else n=xc(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=qt(e))&&(n=xc(e,t))),1===n)throw n=Ds,kc(e,0),mc(e,t),fc(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e),fc(e,Bi()),null}function gc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Hs(),Wi())}}function yc(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Hs(),Wi())}}function bc(e,t){ci(Ns,Is),Is|=t,Ls|=t}function wc(){Is=Ns.current,si(Ns)}function kc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Pa(),si(pi),si(li),Ga();break;case 5:Ia(r);break;case 4:Pa();break;case 13:case 19:si(Na);break;case 10:ea(r);break;case 23:case 24:wc()}n=n.return}Rs=e,Ps=Vc(e.current,null),As=Is=Ls=t,Ms=0,Ds=null,Bs=qs=Fs=0}function Sc(e,t){for(;;){var n=Ps;try{if(Zi(),Qa.current=To,Za){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Za=!1}if(Ka=0,Xa=Ya=Ja=null,eo=!1,Es.current=null,null===n||null===n.return){Ms=1,Ds=t,Ps=null;break}e:{var a=e,o=n.return,s=n,c=t;if(t=As,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=0!==(1&Na.current),d=o;do{var f;if(f=13===d.tag){var h=d.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!p)}}if(f){var v=d.updateQueue;if(null===v){var g=new Set;g.add(u),d.updateQueue=g}else v.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=sa(-1,1);y.tag=2,ca(s,y)}s.lanes|=1;break e}c=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new cs,c=new Set,b.set(u,c)):void 0===(c=b.get(u))&&(c=new Set,b.set(u,c)),!c.has(s)){c.add(s);var w=Fc.bind(null,a,u,s);u.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);c=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),c=os(c,s),d=o;do{switch(d.tag){case 3:a=c,d.flags|=4096,t&=-t,d.lanes|=t,ua(d,us(0,a,t));break e;case 1:a=c;var k=d.type,S=d.stateNode;if(0===(64&d.flags)&&("function"===typeof k.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Ks||!Ks.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,ua(d,ls(d,a,t));break e}}d=d.return}while(null!==d)}Ec(n)}catch(C){t=C,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Cc(){var e=_s.current;return _s.current=To,null===e?To:e}function xc(e,t){var n=Ts;Ts|=16;var r=Cc();for(Rs===e&&As===t||kc(e,t);;)try{jc();break}catch(i){Sc(e,i)}if(Zi(),Ts=n,_s.current=r,null!==Ps)throw Error(o(261));return Rs=null,As=0,Ms}function jc(){for(;null!==Ps;)_c(Ps)}function Oc(){for(;null!==Ps&&!ji();)_c(Ps)}function _c(e){var t=Ws(e.alternate,e,Is);e.memoizedProps=e.pendingProps,null===t?Ec(e):Ps=t,Es.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Is)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Is)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ms&&(Ms=5)}function Tc(e){var t=Ui();return Vi(99,Rc.bind(null,e,t)),null}function Rc(e,t){do{Ac()}while(null!==Ys);if(0!==(48&Ts))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<a;){var u=31-Ht(a),l=1<<u;i[u]=0,s[u]=-1,c[u]=-1,a&=~l}if(null!==tc&&0===(24&r)&&tc.has(e)&&tc.delete(e),e===Rs&&(Ps=Rs=null,As=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,Es.current=null,Fr=Kt,hr(s=fr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,a=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(O){c=null;break e}var p=0,d=-1,f=-1,h=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==c||0!==a&&3!==v.nodeType||(d=p+a),v!==u||0!==l&&3!==v.nodeType||(f=p+l),3===v.nodeType&&(p+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===c&&++h===a&&(d=p),g===u&&++m===l&&(f=p),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}c=-1===d||-1===f?null:{start:d,end:f}}else c=null;c=c||{start:0,end:0}}else c=null;qr={focusedElem:s,selectionRange:c},Kt=!1,sc=null,cc=!1,Gs=r;do{try{Pc()}catch(O){if(null===Gs)throw Error(o(330));Lc(Gs,O),Gs=Gs.nextEffect}}while(null!==Gs);sc=null,Gs=r;do{try{for(s=e;null!==Gs;){var b=Gs.flags;if(16&b&&ye(Gs.stateNode,""),128&b){var w=Gs.alternate;if(null!==w){var k=w.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&b){case 2:bs(Gs),Gs.flags&=-3;break;case 6:bs(Gs),Gs.flags&=-3,Cs(Gs.alternate,Gs);break;case 1024:Gs.flags&=-1025;break;case 1028:Gs.flags&=-1025,Cs(Gs.alternate,Gs);break;case 4:Cs(Gs.alternate,Gs);break;case 8:Ss(s,c=Gs);var S=c.alternate;gs(c),null!==S&&gs(S)}Gs=Gs.nextEffect}}catch(O){if(null===Gs)throw Error(o(330));Lc(Gs,O),Gs=Gs.nextEffect}}while(null!==Gs);if(k=qr,w=fr(),b=k.focusedElem,s=k.selectionRange,w!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==s&&hr(b)&&(w=s.start,void 0===(k=s.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),c=b.textContent.length,S=Math.min(s.start,c),s=void 0===s.end?S:Math.min(s.end,c),!k.extend&&S>s&&(c=s,s=S,S=c),c=pr(b,S),a=pr(b,s),c&&a&&(1!==k.rangeCount||k.anchorNode!==c.node||k.anchorOffset!==c.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((w=w.createRange()).setStart(c.node,c.offset),k.removeAllRanges(),S>s?(k.addRange(w),k.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Kt=!!Fr,qr=Fr=null,e.current=n,Gs=r;do{try{for(b=e;null!==Gs;){var C=Gs.flags;if(36&C&&hs(b,Gs.alternate,Gs),128&C){w=void 0;var x=Gs.ref;if(null!==x){var j=Gs.stateNode;switch(Gs.tag){case 5:w=j;break;default:w=j}"function"===typeof x?x(w):x.current=w}}Gs=Gs.nextEffect}}catch(O){if(null===Gs)throw Error(o(330));Lc(Gs,O),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Mi(),Ts=i}else e.current=n;if(Js)Js=!1,Ys=e,Xs=t;else for(Gs=r;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,8&Gs.flags&&((C=Gs).sibling=null,C.stateNode=null),Gs=t;if(0===(r=e.pendingLanes)&&(Ks=null),1===r?e===rc?nc++:(nc=0,rc=e):nc=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(wi,n,void 0,64===(64&n.current.flags))}catch(O){}if(fc(e,Bi()),Qs)throw Qs=!1,e=$s,$s=null,e;return 0!==(8&Ts)||Wi(),null}function Pc(){for(;null!==Gs;){var e=Gs.alternate;cc||null===sc||(0!==(8&Gs.flags)?et(Gs,sc)&&(cc=!0):13===Gs.tag&&js(e,Gs)&&et(Gs,sc)&&(cc=!0));var t=Gs.flags;0!==(256&t)&&fs(e,Gs),0===(512&t)||Js||(Js=!0,Hi(97,(function(){return Ac(),null}))),Gs=Gs.nextEffect}}function Ac(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,Vi(e,Mc)}return!1}function Ic(e,t){Zs.push(t,e),Js||(Js=!0,Hi(97,(function(){return Ac(),null})))}function Nc(e,t){ec.push(t,e),Js||(Js=!0,Hi(97,(function(){return Ac(),null})))}function Mc(){if(null===Ys)return!1;var e=Ys;if(Ys=null,0!==(48&Ts))throw Error(o(331));var t=Ts;Ts|=32;var n=ec;ec=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===a)throw Error(o(330));Lc(a,u)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var c=i.create;i.destroy=c()}catch(u){if(null===a)throw Error(o(330));Lc(a,u)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ts=t,Wi(),!0}function Dc(e,t,n){ca(e,t=us(0,t=os(n,t),1)),t=uc(),null!==(e=dc(e,1))&&(Vt(e,1,t),fc(e,t))}function Lc(e,t){if(3===e.tag)Dc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=ls(n,e=os(t,e),1);if(ca(n,i),i=uc(),null!==(n=dc(n,1)))Vt(n,1,i),fc(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(As&n)===n&&(4===Ms||3===Ms&&(62914560&As)===As&&500>Bi()-zs?kc(e,0):Bs|=n),fc(e,t)}function qc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ui()?1:2:(0===ac&&(ac=Ls),0===(t=Ut(62914560&~ac))&&(t=4194304))),n=uc(),null!==(e=dc(e,t))&&(Vt(e,t,n),fc(e,n))}function Bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Uc(e,t,n,r){return new Bc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var n=e.alternate;return null===n?((n=Uc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)zc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Wc(n.children,i,a,t);case D:s=8,i|=16;break;case j:s=8,i|=1;break;case O:return(e=Uc(12,n,t,8|i)).elementType=O,e.type=O,e.lanes=a,e;case R:return(e=Uc(13,n,t,i)).type=R,e.elementType=R,e.lanes=a,e;case P:return(e=Uc(19,n,t,i)).elementType=P,e.lanes=a,e;case L:return Gc(n,i,a,t);case F:return(e=Uc(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case E:s=9;break e;case T:s=11;break e;case A:s=14;break e;case I:s=16,r=null;break e;case N:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Uc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wc(e,t,n,r){return(e=Uc(7,e,r,t)).lanes=n,e}function Gc(e,t,n,r){return(e=Uc(23,e,r,t)).elementType=L,e.lanes=n,e}function Qc(e,t,n){return(e=Uc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Uc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Yc(e,t,n,r){var i=t.current,a=uc(),s=lc(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(hi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var u=n.type;if(hi(u)){n=gi(n,u,c);break e}}n=c}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ca(i,t),pc(i,s,a),s}function Xc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kc(e,t,null!=n&&!0===n.hydrate),t=Uc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[Yr]=n.current,Tr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Xc(o);s.call(e)}}Yc(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var c=i;i=function(){var e=Xc(o);c.call(e)}}yc((function(){Yc(t,o,e,i)}))}return Xc(o)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(o(200));return Jc(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)No=!0;else{if(0===(n&r)){switch(No=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Aa(t);break;case 1:hi(t.type)&&yi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ko(e,t,n):(ci(Na,1&Na.current),null!==(t=ns(e,t,n))?t.sibling:null);ci(Na,1&Na.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Na,Na.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return ns(e,t,n)}No=0!==(16384&e.flags)}else No=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,li.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hi(r)){var a=!0;yi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&fa(t,r,s,e),i.updater=ha,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,Mo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Uo(null,t,i,e,n);break e;case 1:t=zo(null,t,i,e,n);break e;case 11:t=Do(null,t,i,e,n);break e;case 14:t=Lo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),la(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=ns(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(La=Wr(t.stateNode.containerInfo.firstChild),Da=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Wa.push(a);for(n=xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Mo(e,t,r,n),Ha();t=t.child}return t;case 5:return Aa(t),null===e&&Ua(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==a&&Ur(r,a)&&(t.flags|=16),Bo(e,t),Mo(e,t,s,n),t.child;case 6:return null===e&&Ua(t),null;case 13:return Ko(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var c=t.type._context;if(ci(Ki,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=sr(c,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===i.children&&!pi.current){t=ns(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===c.tag&&((l=sa(-1,n&-n)).tag=2,ca(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),ta(c.return,n),u.lanes|=n;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Mo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,Mo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Lo(e,t,i,a=$i(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,hi(r)?(e=!0,yi(t)):e=!1,na(t,n),va(t,r,i),ya(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},tu.prototype.render=function(e){Yc(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Yc(null,e,null,(function(){t[Yr]=null}))},tt=function(e){13===e.tag&&(pc(e,4,uc()),eu(e,4))},nt=function(e){13===e.tag&&(pc(e,67108864,uc()),eu(e,67108864))},rt=function(e){if(13===e.tag){var t=uc(),n=lc(e);pc(e,n,t),eu(e,n)}},it=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ie=gc,Ne=function(e,t,n,r,i){var a=Ts;Ts|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=a)&&(Hs(),Wi())}},Me=function(){0===(49&Ts)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fc(e,Bi())}))}Wi()}(),Ac())},De=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Hs(),Wi())}};var au={Events:[ei,ti,ni,Pe,Ae,Ac,{current:!1}]},ou={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},su={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{wi=cu.inject(su),ki=cu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!==(48&n))return e(t);Ts|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Ts=n,Wi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(yc((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=gc,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ru(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(97)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,p=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},i=function(e,t){p=setTimeout(e,t)},a=function(){clearTimeout(p)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,S=k.port2;k.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+b;try{g(!0,e)?S.postMessage(null):(v=!1,g=null)}catch(n){throw S.postMessage(null),n}}else v=!1},r=function(e){g=e,v||(v=!0,S.postMessage(null))},i=function(e,n){y=f((function(){e(t.unstable_now())}),n)},a=function(){h(y),y=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<O(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,c=e[s];if(void 0!==o&&0>O(o,n))void 0!==c&&0>O(c,o)?(e[r]=c,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==c&&0>O(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],E=[],T=1,R=null,P=3,A=!1,I=!1,N=!1;function M(e){for(var t=x(E);null!==t;){if(null===t.callback)j(E);else{if(!(t.startTime<=e))break;j(E),t.sortIndex=t.expirationTime,C(_,t)}t=x(E)}}function D(e){if(N=!1,M(e),!I)if(null!==x(_))I=!0,r(L);else{var t=x(E);null!==t&&i(D,t.startTime-e)}}function L(e,n){I=!1,N&&(N=!1,a()),A=!0;var r=P;try{for(M(n),R=x(_);null!==R&&(!(R.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=R.callback;if("function"===typeof o){R.callback=null,P=R.priorityLevel;var s=o(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?R.callback=s:R===x(_)&&j(_),M(n)}else j(_);R=x(_)}if(null!==R)var c=!0;else{var u=x(E);null!==u&&i(D,u.startTime-n),c=!1}return c}finally{R=null,P=r,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||A||(I=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return x(_)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:o,expirationTime:c=o+c,sortIndex:-1},o>s?(e.sortIndex=o,C(E,e),null===x(_)&&e===x(E)&&(N?a():N=!0,i(D,o-s))):(e.sortIndex=c,C(_,e),I||A||(I=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){var r=n(58),i=n(42)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port,n.href=n.protocol+"://"+a+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,a=i-(n||i);e.diff=a,e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var a=o[c];n=i.call(e,a),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o);var u=r.log||t.log||console.log.bind(console);u.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(100),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,i=60*r,a=24*i,o=365.25*a;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,a,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG),e}(t=e.exports=n(102)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,n(23))},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,a=i-(n||i);e.diff=a,e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var a=o[c];n=i.call(e,a),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o);var u=r.log||t.log||console.log.bind(console);u.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(103),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,i=60*r,a=24*i,o=365.25*a;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,a,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(59),i=n(60),a=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===a.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===a.call(File);function c(e,t){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var a=new Array(e.length),o=0;o<e.length;o++)a[o]=c(e[o],t);return a}if("object"===typeof e&&!(e instanceof Date)){a={};for(var s in e)a[s]=c(e[s],t);return a}return e}function u(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=u(e[n],t);else if("object"===typeof e)for(var i in e)e[i]=u(e[i],t);return e}t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=c(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=u(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,a=e;!function e(c,u,l){if(!c)return c;if(o&&c instanceof Blob||s&&c instanceof File){n++;var p=new FileReader;p.onload=function(){l?l[u]=this.result:a=this.result,--n||t(a)},p.readAsArrayBuffer(c)}else if(r(c))for(var d=0;d<c.length;d++)e(c[d],d,c);else if("object"===typeof c&&!i(c))for(var f in c)e(c[f],f,c)}(a),n||t(a)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,p=s>0?o-4:o;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,c=n-i;s<c;s+=o)a.push(l(e,s,s+o>c?c:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?i-1:0,d=n?-1:1,f=e[t+p];for(p+=d,a=f&(1<<-l)-1,f>>=-l,l+=s;l>0;a=256*a+e[t+p],p+=d,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+p],p+=d,l-=8);if(0===a)a=1-u;else{if(a===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=u}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,u=8*a-i-1,l=(1<<u)-1,p=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+p>=1?d/c:d*Math.pow(2,1-p))*c>=2&&(o++,c/=2),o+p>=l?(s=0,o=l):o+p>=1?(s=(t*c-1)*Math.pow(2,i),o+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+f]=255&o,f+=h,o/=256,u-=8);e[n+f-h]|=128*m}},function(e,t,n){e.exports=n(108),e.exports.parser=n(29)},function(e,t,n){var r=n(63),i=n(28),a=n(45)("engine.io-client:socket"),o=n(67),s=n(29),c=n(58),u=n(43);function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n(53),l.transports=n(63),l.parser=n(29),l.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){a('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(a('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(a('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,a('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(a("changing transport and sending upgrade packet"),d(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{a('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,d(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),a('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function c(){s("transport closed")}function u(){s("socket closed")}function p(e){t&&e.name!==t.name&&(a('"%s" works - aborting "%s"',e.name,t.name),o())}function d(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",p)}l.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",c),this.once("close",u),this.once("upgrading",p),t.open()},l.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},l.prototype.sendPacket=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),a("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},l.prototype.onError=function(e){a("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){var r=n(51),i=n(64),a=n(28),o=n(44),s=n(45)("engine.io-client:polling-xhr"),c=n(52);function u(){}function l(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function p(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=p,o(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new p(e)},l.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},a(p.prototype),p.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(a){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{t.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(a){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"===typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(a){return void setTimeout((function(){n.onError(a)}),0)}"undefined"!==typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},p.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},p.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},p.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",d);else if("function"===typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",d,!1)}function d(){for(var e in p.requests)p.requests.hasOwnProperty(e)&&p.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),a=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)a[s]=i[o];return a.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var i=!1;return r=r||n,a.count=e,0===e?t():a;function a(e,n){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(i=!0,t(e),t=r):0!==a.count||i||t(null,n)}}},function(e,t){var n,r,i,a=String.fromCharCode;function o(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return a(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return a(e);var n="";return 0==(4294965248&e)?n=a(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=a(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=a(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+=a(63&e|128)}function l(){if(i>=r)throw Error("Invalid byte index");var e=255&n[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,a;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(t=255&n[i],i++,0==(128&t))return t;if(192==(224&t)){if((a=(31&t)<<6|l())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&t)){if((a=(15&t)<<12|l()<<6|l())>=2048)return s(a,e)?a:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(a=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=o(e),i=r.length,a=-1,s="";++a<i;)s+=u(r[a],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=o(e),r=n.length,i=0;for(var c,u=[];!1!==(c=p(s));)u.push(c);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=a(t);return i}(u)}}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,a="";for(n=0;n<i;n+=3)a+=e[r[n]>>2],a+=e[(3&r[n])<<4|r[n+1]>>4],a+=e[(15&r[n+1])<<2|r[n+2]>>6],a+=e[63&r[n+2]];return i%3===2?a=a.substring(0,a.length-1)+"=":i%3===1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(t){var n,r,i,a,o,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),p=new Uint8Array(l);for(n=0;n<c;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),a=e.indexOf(t[n+2]),o=e.indexOf(t[n+3]),p[u++]=r<<2|i>>4,p[u++]=(15&i)<<4|a>>2,p[u++]=(3&a)<<6|63&o;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){var n="undefined"!==typeof n?n:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),a=n&&n.prototype.append&&n.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function s(e,t){t=t||{};var r=new n;return o(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function c(e,t){return new Blob(o(e),t||{})}"undefined"!==typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=r?i?Blob:c:a?s:void 0},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,a=i-(n||i);e.diff=a,e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var a=o[c];n=i.call(e,a),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o);var u=r.log||t.log||console.log.bind(console);u.apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var a=t.instances[n];a.enabled=t.enabled(a.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(119),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,i=60*r,a=24*i,o=365.25*a;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,a,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(64),i=n(44),a=n(52);e.exports=l;var o,s=/\n/g,c=/\\n/g;function u(){}function l(e){r.call(this,e),this.query=this.query||{},o||(o=a.___eio=a.___eio||[]),this.index=o.length;var t=this;o.push((function(e){t.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=u)}),!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),a=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=o,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}function u(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(c,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}},function(e,t,n){(function(t){var r,i,a=n(53),o=n(29),s=n(43),c=n(44),u=n(66),l=n(45)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?r=WebSocket:"undefined"!==typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{i=n(122)}catch(f){}var p=r||i;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=i),a.call(this,e)}e.exports=d,c(d,a),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,i=0,a=r;i<a;i++)!function(e){o.encodePacket(e,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),n.perMessageDeflate)("string"===typeof i?t.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(a.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,a)}catch(f){l("websocket closed before onclose event")}--r||s()}))}(e[i]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},d.prototype.onClose=function(){a.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},d.prototype.check=function(){return!!p&&!("__initialize"in p&&this.name===d.prototype.name)}}).call(this,n(25).Buffer)},,function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r=p;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=j(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var p="suspendedStart",d="suspendedYield",f="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,a)&&(b=k);var S=y.prototype=v.prototype=Object.create(b);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"===typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(p).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=S.constructor=y,y.constructor=g,g.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},C(x.prototype),x.prototype[o]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(S),c(S,s,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var a=n[i],o=r.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=r.parseRtpMap(o),c=r.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),a&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var a=r.matchPrefix(e,"a=rtcp-mux");return t.mux=a.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var a=r.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var o=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(o[0],10),protocol:o[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),a+="a=mid:"+e.mid+"\r\n",e.direction?a+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},c.clearImmediate=u}function u(e){delete a[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(21),n(23))},function(e,t,n){"use strict";var r=n(41),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function k(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var C=S.prototype=new k;C.constructor=S,r(C,w.prototype),C.isPureReactComponent=!0;var x={current:null},j=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var T=/\/+/g,R=[];function P(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function I(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+M(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=t+M(i=e[c],c);s+=I(i,u,n,r)}else if(null===e||"object"!==typeof e?u=null:u="function"===typeof(u=v&&e[v]||e["@@iterator"])?u:null,"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)s+=I(i=i.value,u=t+M(i,c++),n,r);else if("object"===i)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function N(e,t,n){return null==e?0:I(e,"",t,n)}function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(E(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(T,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(T,"$&/")+"/"),N(e,L,t=P(t,a,r,i)),A(t)}var q={current:null};function B(){var e=q.current;if(null===e)throw Error(g(321));return e}var U={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,D,t=P(null,null,t,n)),A(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!E(e))throw Error(g(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=u,t.PureComponent=S,t.StrictMode=c,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)j.call(t,l)&&!O.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var p=0;p<l;p++)u[p]=arguments[p+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},,function(e,t,n){"use strict";var r=n(54).Buffer,i=n(131);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(21))},function(e,t,n){var r=n(25),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=a;var r=n(78),i=Object.create(n(36));function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(37),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}}]]);
//# sourceMappingURL=2.5964421c.chunk.js.map